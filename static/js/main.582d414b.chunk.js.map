{"version":3,"sources":["assets/pngLogo.png","assets/SLIDE1.png","assets/SLIDE2.png","assets/SLIDE3.png","requests/flikr.js","context/stateContext.js","context/dispatchContext.js","context/rootReducer.js","components/controlPanel/requestsNumberSlider.js","components/controlPanel/selectSortingMethod.js","components/controlPanel/textQuery.js","components/controlPanel/datePickers/minUploadDatePicker.js","components/controlPanel/datePickers/maxUploadDatePicker.js","components/controlPanel/datePickers/minTakenDatePicker.js","components/controlPanel/datePickers/maxTakenDatePicker.js","components/controlPanel/switches/customSwitch.js","components/drawer/drawer.js","helpers/CustomHooks/useMinScreenWidth.js","components/appBar/appBar.js","components/imageWrapper/imageWrapper.js","components/imageWrapper/imageMenu.js","components/imageGrid/imageGrid.js","components/controls/loadMoreBtn.js","components/LoadingBar/loadingBar.js","components/controlPanel/RadiusSlider.js","components/controlPanel/geoCodingBar/geoCodingBar.js","components/controlPanel/expansionPanels.js","components/controlPanel/controlPanel.js","components/controlPanel/controlPanelMobile.js","components/favorites/FavoritesDialog.js","helpers/helpers.js","components/lightboxComponents/lightboxHeader.js","components/lightboxComponents/lightboxViewRenderer.js","components/CarouselShowCase/carouselShowCase.js","App.js","serviceWorker.js","index.js","context/store.js"],"names":["module","exports","getPhotosByTitle","searchParams","query","console","log","url","URLSearchParams","append","searchText","sortMethod","minUploadDate","maxUploadDate","minTakenDate","maxTakenDate","searchMethod","bounds","south","west","north","east","toFixed","lat","lng","radius","resultsPerPage","page","fetch","then","res","json","currentPage","photos","totalPages","pages","totalPhotos","total","perPage","perpage","photo","map","img","dateupload","datetaken","ownername","geolocation","parseFloat","latitude","longitude","photoId","id","width_t","parseInt","width_c","width_h","width_l","width_m","width_o","height_c","height_h","height_l","height_m","height_o","height","width","src","url_l","url_m","url_o","title","alt","key","owner","thumb","url_t","srcSet","url_c","url_h","sizes","catch","err","StateContext","React","createContext","DispatchContext","SET_BOUNDING_BOX","SET_MAX_RESULTS_PER_PAGE","SET_USER_LOCATION","SET_SEARCH_RADIUS","SET_SEARCH_CENTER","SET_PHOTOS","UPDATE_PHOTOS","BLOCK_USER","ADD_IMG_TO_FAVORITES","REMOVE_IMG_FROM_FAVORITES","SET_MIN_UPLOAD_DATE","SET_MAX_UPLOAD_DATE","SET_MIN_TAKEN_DATE","SET_MAX_TAKEN_DATE","SET_MAP_LOADED","rootReducer","state","action","type","boundingBox","setBoundingBox","setResultsPerPage","userLocation","searchCenter","setUserLocation","searchRadius","setSearchRadius","setSearchCenter","filteredPhotos","favorites","length","find","el","isFavorite","blockedUsers","hiddenPhotos","setPhotos","newPhotosFiltered","filter","includes","newHiddenPhotos","concat","updatePhotos","updatedBlockedUsers","userId","blockUser","image","addImgToFavorites","filteredIndex","findIndex","index","splice","removeImgFromFavorites","setMinUploadDate","setMaxUploadDate","setMinTakenDate","setMaxTakenDate","mapLoaded","setMapLoaded","useStyles","makeStyles","root","display","alignItems","justifyContent","input","marginLeft","marginBottom","maxWidth","RequestNumberSlider","props","classes","store","useContext","dispatch","Typography","align","gutterBottom","className","Slider","value","onChange","event","newValue","aria-labelledby","step","min","max","style","marginRight","Input","margin","val","target","Number","isNaN","onBlur","Math","trunc","inputProps","theme","formControl","root_select","textAlign","SelectSortingMethod","FormControl","InputLabel","htmlFor","Select","handeSelectSortMethod","MenuItem","FormHelperText","TextQuery","handleSubmit","e","preventDefault","searchFlikr","onSubmit","fullWidth","placeholder","handleTextQueryChange","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","clearTextQuery","Close","MinUploadDatePicker","useState","Date","placeholderDate","setPlaceholderDate","checked","selectedDate","utils","DateFnsUtils","DatePicker","minDate","disabled","label","format","date","Checkbox","alignSelf","color","MaxUploadDatePicker","MinTakenDatePicker","MaxTakenDatePicker","handleDateChange","SwitchButton","FormGroup","row","FormControlLabel","control","Switch","callback","list","fullList","hamburger","DrawerMenu","openQueryOption","setOpenQueryOptions","handleQueryOptionsClick","openMapOptions","setOpenMapOptions","handleMapOptionsClick","drawerOpen","setDrawerOpen","closeDrawer","size","MenuRounded","fontSize","Drawer","open","onClose","role","List","ChevronLeft","Divider","ListItem","button","ListItemIcon","Ballot","ListItemText","primary","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","component","disablePadding","flexFlow","divider","Map","togglePhotoMarkerDisplay","displayPhotoMarkers","toggleFavorites","displayFavorites","Button","variant","marginTop","handleMyLocationClick","MyLocationTwoTone","useMinScreenWidth","width450","useMediaQuery","width900","width1200","bottom","spacing","right","grow","flexGrow","icons_container","logo_container","cursor","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","appBarHide","children","ScrollTop","disableHysteresis","threshold","Zoom","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","HideAppBar","smSceen","Fragment","CssBaseline","AppBar","Toolbar","disableGutters","PngLogo","Tooltip","gridDirection","toggleGridDirection","control_icon","handleOpenFavorites","Favorite","Box","Fab","KeyboardArrowUp","pin_to_map_btn","left","backgroundColor","boxShadow","options_btn","top","memo","imageToggleFavorites","selected","openLightbox","handleOpenMenuClick","hover","setHover","_find","cont","overflow","container","onMouseEnter","bind","onMouseLeave","onTouchStart","window","setTimeout","heigth","call","MoreVert","FavoriteBorder","linkStyle","ImageMenu","Menu","anchorEl","keepMounted","Boolean","handleMenuClose","openFavorites","photoData","Link","href","responseDetails","useEffect","setAnchorEl","setPhotoData","data","currentTarget","imageRenderer","useCallback","renderImage","LoadMoreButton","LoadingBar","LinearProgress","RadiusSlider","setValue","padding","border","flex","iconButton","form","LocationSearch","autoCompleteInputRef","useRef","geocoder","current","google","maps","Geocoder","autocomplete","fillInInput","geocodeAddress","resultsMap","geocode","address","results","status","fitBounds","geometry","viewport","alert","places","Autocomplete","setFields","addListener","Paper","elevation","InputBase","inputRef","defaultValue","orientation","Search","heading","typography","pxToRem","fontWeight","fontWeightRegular","details_root","details_root_geolocation","ExpansionPanels","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","requestOptions","mapOptions","panel","overflowY","panel_item","wrapper","search_photos_box","secondary_btn","map_options_container","ControlPanel","ImageSearchRounded","loadingPhotos","centerSearchAreaOnMap","CenterFocusStrong","zoomToSearchArea","ZoomOutMap","search_btn_box","ControlPanelMobile","appBar","direction_btn","Transition","forwardRef","ref","FavoritesDialog","setGridDirection","Dialog","fullScreen","handleCloseFavorites","TransitionComponent","edge","mapReady","cb","waitingThreshold","timer","setInterval","stopTimer","clearInterval","header_container","zIndex","transition","opacity","lightbox_btn","background","hide_on_idle","LightBoxHeader","currentView","isModal","interactionIsIdle","carouselProps","btn_container_right","modalProps","toggleFullscreen","isFullscreen","FullscreenExit","Fullscreen","LightBoxViewRenderer","getStyles","currentIndex","abs","maxHeight","userSelect","content","slide_text","slide_text_mobile","paddingTop","slide_title","whiteSpace","lineHeight","CarouselShowCase","smScreen","mobile","autoplay","interval","closeCarousel","onStart","media","SLIDE1","mediaBackgroundStyle","green","textMobile","text","subtitle","SLIDE3","SLIDE2","MapWrapper","lazy","navButtonStyles","base","transform","imagePositionerStyles","blanketStyles","App","carouselOpen","setCarouselOpen","setOpenFavorites","setAppBarHide","currentImage","setCurrentImage","viewerIsOpen","setViewerIsOpen","resultsRef","setSortMethod","setSearchText","clearText","setLoadingPhotos","triggerZoom","setTriggerZoom","triggerCenter","setTriggerCenter","disableZoom","disableCenter","mapVisible","setMapVisible","setResponseDetails","setDisplayPhotoMarkers","setDisplayFavorites","triggerPlotRadiusMarkerOnMap","setTtriggerPlotRadiusMarkerOnMap","disableRadiusTrigger","triggerMapExtents","setTriggerMapExtents","disableMapExtentsTrigger","getBounds","toJSON","FlikrApi","error","zoomToLocation","location","panTo","setZoom","navigator","getCurrentPosition","coords","setBounds","center","toggleMap","fallback","Skeleton","screenWidth900px","styles","blanket","positioner","components","Header","View","views","srcset","caption","x","navigationPrev","navigationNext","hostname","match","ReactDOM","render","useReducer","radiusMarker","Provider","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.582d414b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pngLogo.9f3169d5.png\";","module.exports = __webpack_public_path__ + \"static/media/SLIDE1.49a541dd.png\";","module.exports = __webpack_public_path__ + \"static/media/SLIDE2.869e96b8.png\";","module.exports = __webpack_public_path__ + \"static/media/SLIDE3.87f4dc6d.png\";","/** *Flickrs API has got a bug -> even if you set radius units to km the geo-search is performed in miles\r\n * Since the UI is in km before each api call the radius is transformed from km to miles\r\n */\r\nconst kmToMiles = km => km / 1.609;\r\n\r\nexport const getPhotosByTitle = searchParams => {\r\n  /* This will ask flicker to fetch all photos (that have geolocation)\r\n    that contain the markers location title in any way (tag, image name, album name etc)\r\n    the photos returned will be within a 31km radius from the markers position\r\n    the func returns an array of photos details (id,farm,server etc)\r\n  */\r\n\r\n  console.log(searchParams);\r\n  //will be appended to response\r\n  let query;\r\n\r\n  let url = new URLSearchParams();\r\n  url.append(\"method\", \"flickr.photos.search\");\r\n  url.append(\"api_key\", \"f6536bb373bca1fcd14d4da1281f2839\");\r\n  // url.append('tags', marker.title); //text produces broader results than tags leave it for now may implement later\r\n  if (searchParams.searchText) url.append(\"text\", searchParams.searchText);\r\n  if (searchParams.sortMethod) url.append(\"sort\", searchParams.sortMethod);\r\n  if (searchParams.minUploadDate) {\r\n    url.append(\"min_upload_date\", searchParams.minUploadDate);\r\n  }\r\n  if (searchParams.maxUploadDate) {\r\n    url.append(\"max_upload_date\", searchParams.maxUploadDate);\r\n  }\r\n  if (searchParams.minTakenDate) {\r\n    url.append(\"min_taken_date\", searchParams.minTakenDate);\r\n  }\r\n  if (searchParams.maxTakenDate) {\r\n    url.append(\"max_taken_date\", searchParams.maxTakenDate);\r\n  }\r\n  if (searchParams.searchMethod === \"EXTENTS\") {\r\n    // const { south, west, north, east } = searchParams.bounds;\r\n    let { south, west, north, east } = searchParams.bounds;\r\n\r\n    south = south.toFixed(5);\r\n    west = west.toFixed(5);\r\n    north = north.toFixed(5);\r\n    east = east.toFixed(5);\r\n\r\n    // south = south.toFixed(5).toString();\r\n    // west = west.toFixed(5).toString();\r\n    // north = north.toFixed(5).toString();\r\n    // east = east.toFixed(5).toString();\r\n\r\n    query = {\r\n      bounds: searchParams.bounds,\r\n      searchMethod: searchParams.searchMethod,\r\n      maxTakenDate: searchParams.maxTakenDate,\r\n      maxUploadDate: searchParams.maxUploadDate,\r\n      minTakenDate: searchParams.minTakenDate,\r\n      minUploadDate: searchParams.minUploadDate,\r\n      searchText: searchParams.searchText,\r\n      sortMethod: searchParams.sortMethod\r\n      // south,\r\n      // west,\r\n      // north,\r\n      // east\r\n    };\r\n    url.append(\"bbox\", `${west},${south},${east},${north}`);\r\n    // var temp = west + \",\" + south + \",\" + east + \",\" + north;\r\n    // console.log(temp);\r\n    // url.append(\"bbox\", temp);\r\n  }\r\n  if (searchParams.searchMethod === \"CIRCLE\") {\r\n    url.append(\"lat\", searchParams.lat);\r\n    url.append(\"lon\", searchParams.lng);\r\n    url.append(\"radius\", kmToMiles(searchParams.radius)); //1 to 32 km\r\n    url.append(\"radius_units\", \"km\");\r\n    query = {\r\n      // searchMethod: \"CIRCLE\",\r\n      // bounds: searchParams.bounds,\r\n      lat: searchParams.lat,\r\n      lng: searchParams.lng,\r\n      radius: searchParams.radius,\r\n      searchMethod: searchParams.searchMethod,\r\n      maxTakenDate: searchParams.maxTakenDate,\r\n      maxUploadDate: searchParams.maxUploadDate,\r\n      minTakenDate: searchParams.minTakenDate,\r\n      minUploadDate: searchParams.minUploadDate,\r\n      searchText: searchParams.searchText,\r\n      sortMethod: searchParams.sortMethod\r\n    };\r\n  }\r\n\r\n  url.append(\"has_geo\", \"1\");\r\n  url.append(\r\n    \"per_page\",\r\n    searchParams.resultsPerPage ? searchParams.resultsPerPage : \"50\"\r\n  ); //250max for photos with geolocation\r\n  url.append(\"format\", \"json\");\r\n  url.append(\"nojsoncallback\", \"1\");\r\n  url.append(\r\n    \"extras\",\r\n    \"url_t,url_m,url_c,url_l,url_h,url_o,geo, date_upload, date_taken, owner_name\"\r\n  );\r\n  if (searchParams.page) url.append(\"page\", searchParams.page);\r\n\r\n  let arrayOfPhotos = fetch(\"https://api.flickr.com/services/rest/?\" + url)\r\n    .then(res => {\r\n      console.log(url);\r\n      return res.json().then(json => {\r\n        console.log(\"*****FLICKR RESPONSE:****\");\r\n        console.log(json);\r\n        // const test = {\r\n        //   ...json.photos,\r\n        //   photo: json.photos.photo.map(img => {\r\n        //     return {\r\n        //       ...img,\r\n        //       width_c: parseInt(img.width_c),\r\n        //       width_h: parseInt(img.width_h),\r\n        //       width_l: parseInt(img.width_l),\r\n        //       width_m: parseInt(img.width_m),\r\n        //       height_c: parseInt(img.height_c),\r\n        //       height_h: parseInt(img.height_h),\r\n        //       height_l: parseInt(img.height_l),\r\n        //       height_m: parseInt(img.height_m),\r\n        //       src: img.url_m, //flickr doesn't guarantee all sizes but medium will always be there\r\n        //       height: parseInt(img.height_m),\r\n        //       width: parseInt(img.width_m),\r\n        //       title: img.title,\r\n        //       alt: img.title,\r\n        //       key: img.id,\r\n        //       srcSet: [\r\n        //         `${img.url_m} ${img.width_m}w`,\r\n        //         `${img.url_c} ${img.width_c}w`,\r\n        //         `${img.url_l} ${img.width_l}w`,\r\n        //         `${img.url_h} ${img.width_h}w`\r\n        //       ],\r\n        //       sizes:\r\n        //         \"(min-width: 480px) 50vw, (min-width: 1024px) 33.3vw, 100vw\"\r\n        //     };\r\n        //   })\r\n        // };\r\n        // console.log(test);\r\n        return {\r\n          ...query,\r\n          currentPage: json.photos.page,\r\n          totalPages: json.photos.pages,\r\n          totalPhotos: json.photos.total,\r\n          perPage: json.photos.perpage,\r\n          photos: json.photos.photo.map(img => {\r\n            return {\r\n              // ...img,\r\n              dateupload: img.dateupload,\r\n              datetaken: img.datetaken,\r\n              ownername: img.ownername,\r\n              geolocation: {\r\n                lat: parseFloat(img.latitude),\r\n                lng: parseFloat(img.longitude)\r\n              },\r\n              photoId: img.id,\r\n              width_t: img.width_t ? parseInt(img.width_t) : \"\",\r\n              width_c: img.width_c ? parseInt(img.width_c) : \"\",\r\n              width_h: img.width_h ? parseInt(img.width_h) : \"\",\r\n              width_l: img.width_l ? parseInt(img.width_l) : \"\",\r\n              width_m: img.width_m ? parseInt(img.width_m) : \"\",\r\n              width_o: img.width_o ? parseInt(img.width_o) : \"\",\r\n              height_c: img.height_c ? parseInt(img.height_c) : \"\",\r\n              height_h: img.height_h ? parseInt(img.height_h) : \"\",\r\n              height_l: img.height_l ? parseInt(img.height_l) : \"\",\r\n              height_m: img.height_m ? parseInt(img.height_m) : \"\",\r\n              height_o: img.height_o ? parseInt(img.height_o) : \"\",\r\n              /* since you cant predict in what size will the photo be availiable:\r\n              if medium size is availiable use it if not get the original size\r\n              as fallback give the image 100px width and height */\r\n              height: img.height_m\r\n                ? parseInt(img.height_m)\r\n                : img.height_o\r\n                ? parseInt(img.height_o)\r\n                : 100,\r\n              width: img.width_m\r\n                ? parseInt(img.width_m)\r\n                : img.width_o\r\n                ? parseInt(img.width_o)\r\n                : 100,\r\n              src: img.url_l ? img.url_l : img.url_m ? img.url_m : img.url_o,\r\n              title: img.title,\r\n              alt: img.title,\r\n              key: img.id,\r\n              owner: img.owner,\r\n              thumb: img.url_t,\r\n              srcSet: [\r\n                img.url_m ? `${img.url_m} ${img.width_m}w` : \"\",\r\n                img.url_c ? `${img.url_c} ${img.width_c}w` : \"\",\r\n                img.url_l ? `${img.url_l} ${img.width_l}w` : \"\",\r\n                img.url_h ? `${img.url_h} ${img.width_h}w` : \"\",\r\n                img.url_o ? `${img.url_o} ${img.width_o}w` : \"\"\r\n              ],\r\n              sizes:\r\n                \"(min-width: 480px) 50vw, (min-width: 1024px) 33.3vw, 100vw\"\r\n            };\r\n          })\r\n        };\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      return [\"error\"];\r\n    });\r\n\r\n  return arrayOfPhotos;\r\n};\r\n\r\nexport const flickrUrlConstructor = array => {\r\n  /* This takes the array of photo information from the getPhotosByTitle() \r\n  and transforms each photo to a straightforward url*/\r\n\r\n  let urlArr = {\r\n    default: [],\r\n    thumbNail: [], //t\r\n    medium: [], //c\r\n    large: [], //b\r\n    title: []\r\n  };\r\n  if (array[0] !== \"error\") {\r\n    for (let i = 0; i < array.length; i++) {\r\n      urlArr.default.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0],\r\n        array[i].owner\r\n      ]);\r\n      urlArr.thumbNail.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}_t.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0]\r\n      ]);\r\n      urlArr.medium.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}_c.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0]\r\n      ]);\r\n      urlArr.large.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}_b.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0]\r\n      ]);\r\n      urlArr.title.push([array[i].title]);\r\n    }\r\n  } else {\r\n    urlArr = {\r\n      error: true,\r\n      default: [\"no-preview128px.png\"],\r\n      thumbNail: [\"no-preview128px.png\"], //t\r\n      medium: [\"no-preview128px.png\"], //c\r\n      large: [\"no-preview128px.png\"] //b\r\n    };\r\n  }\r\n  return urlArr;\r\n};\r\n\r\nexport const getPhotoGeoLocation = photo_id => {\r\n  /* This flicker api call returns a set of coordinates for a given photo\r\n    (Since there are no means to get the coordinates of a batch of photos)\r\n    this method must be called EACH TIME a new photograph marker is to be plotted on the map\r\n  */\r\n  let url = new URLSearchParams();\r\n  url.append(\"method\", \"flickr.photos.geo.getLocation\");\r\n  url.append(\"api_key\", \"f6536bb373bca1fcd14d4da1281f2839\");\r\n  url.append(\"format\", \"json\");\r\n  url.append(\"nojsoncallback\", \"1\");\r\n  url.append(\"photo_id\", photo_id);\r\n\r\n  let result = fetch(\"https://api.flickr.com/services/rest?\" + url)\r\n    .then(res => {\r\n      return res.json().then(json => {\r\n        console.log(json);\r\n        let position = {\r\n          lat: parseFloat(json.photo.location.latitude),\r\n          lng: parseFloat(json.photo.location.longitude)\r\n        };\r\n        return position;\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      return [\"error\"];\r\n    });\r\n\r\n  return result;\r\n};\r\n","import React from \"react\";\r\n\r\nconst StateContext = React.createContext();\r\n\r\nexport default StateContext;\r\n","import React from \"react\";\r\n\r\nconst DispatchContext = React.createContext();\r\n\r\nexport default DispatchContext;\r\n","// import { findIndex as _findIndex } from \"lodash\";\r\nexport const SET_BOUNDING_BOX = \"SET_BOUNDING_BOX\";\r\n// export const SET_RADIUS_MARKER = \"SET_RADIUS_MARKER\";\r\n\r\nexport const SET_MAX_RESULTS_PER_PAGE = \"SET_MAX_RESULTS_PER_PAGE\";\r\nexport const SET_USER_LOCATION = \"SET_USER_LOCATION\";\r\nexport const SET_SEARCH_RADIUS = \"SET_SEARCH_RADIUS\";\r\nexport const SET_SEARCH_CENTER = \"SET_SEARCH_CENTER\";\r\nexport const SET_PHOTOS = \"SET_PHOTOS\";\r\nexport const UPDATE_PHOTOS = \"UPDATE_PHOTOS\";\r\nexport const BLOCK_USER = \"BLOCK_USER\";\r\nexport const ADD_IMG_TO_FAVORITES = \"ADD_IMG_TO_FAVORITES\";\r\nexport const REMOVE_IMG_FROM_FAVORITES = \"REMOVE_IMG_FROM_FAVORITES\";\r\nexport const SET_MIN_UPLOAD_DATE = \"SET_MIN_UPLOAD_DATE\";\r\nexport const SET_MAX_UPLOAD_DATE = \"SET_MAX_UPLOAD_DATE\";\r\nexport const SET_MIN_TAKEN_DATE = \"SET_MIN_TAKEN_DATE\";\r\nexport const SET_MAX_TAKEN_DATE = \"SET_MAX_TAKEN_DATE\";\r\nexport const SET_MAP_LOADED = \"SET_MAP_LOADED\";\r\n\r\nconst setBoundingBox = (action, state) => {\r\n  return { ...state, boundingBox: action.boundingBox };\r\n};\r\n\r\n// const setRadiusMarker = (action, state) => {\r\n//   return { ...state, radiusMarker: action.radiusMarker };\r\n// };\r\n\r\nconst setResultsPerPage = (action, state) => {\r\n  return {\r\n    ...state,\r\n    resultsPerPage: action.resultsPerPage\r\n  };\r\n};\r\n\r\nconst setUserLocation = (action, state) => {\r\n  return {\r\n    ...state,\r\n    userLocation: action.userLocation,\r\n    searchCenter: action.userLocation\r\n  };\r\n};\r\n\r\nconst setSearchRadius = (action, state) => {\r\n  return { ...state, searchRadius: action.searchRadius };\r\n};\r\n\r\nconst setSearchCenter = (action, state) => {\r\n  return { ...state, searchCenter: action.searchCenter };\r\n};\r\n\r\nconst setPhotos = (action, state) => {\r\n  /* currently setPhotos resets blocked users (initial request) */\r\n  let filteredPhotos = action.photos;\r\n\r\n  /**\r\n   * set isFavorite:true to any img returned from the response that is already in favorites\r\n   * so there are no duplicate markers\r\n   **/\r\n  if (state.favorites.length > 0) {\r\n    filteredPhotos = filteredPhotos.map(img => {\r\n      return state.favorites.find(el => el.photoId === img.photoId)\r\n        ? { ...img, isFavorite: true }\r\n        : img;\r\n    });\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    photos: action.photos,\r\n    filteredPhotos,\r\n    blockedUsers: [],\r\n    hiddenPhotos: []\r\n  };\r\n};\r\n\r\nconst updatePhotos = (action, state) => {\r\n  /** updatePhotos will expand the previous query of photos (previous results + new results) */\r\n  /**One for each sounds better... if true go to newFiltered if false go to newHidden */\r\n  const newPhotosFiltered = action.photos.filter(\r\n    photo => !state.blockedUsers.includes(photo.owner)\r\n  );\r\n  const newHiddenPhotos = action.photos.filter(photo =>\r\n    state.blockedUsers.includes(photo.owner)\r\n  );\r\n  let filteredPhotos = state.filteredPhotos.concat(newPhotosFiltered);\r\n\r\n  if (state.favorites.length > 0) {\r\n    filteredPhotos = filteredPhotos.map(img => {\r\n      return state.favorites.find(el => el.photoId === img.photoId)\r\n        ? { ...img, isFavorite: true }\r\n        : img;\r\n    });\r\n  }\r\n\r\n  const hiddenPhotos = state.hiddenPhotos.concat(newHiddenPhotos);\r\n  const photos = state.photos.concat(action.photos);\r\n\r\n  return { ...state, photos, filteredPhotos, hiddenPhotos };\r\n};\r\n\r\nconst blockUser = (action, state) => {\r\n  const updatedBlockedUsers = state.blockedUsers.concat(action.userId);\r\n  const filteredPhotos = state.filteredPhotos.filter(\r\n    photo => !updatedBlockedUsers.includes(photo.owner)\r\n  );\r\n  const hiddenPhotos = state.photos.filter(photo =>\r\n    updatedBlockedUsers.includes(photo.owner)\r\n  );\r\n\r\n  return {\r\n    ...state,\r\n    blockedUsers: updatedBlockedUsers,\r\n    filteredPhotos,\r\n    hiddenPhotos\r\n  };\r\n};\r\n\r\nconst addImgToFavorites = (action, state) => {\r\n  const favorites = state.favorites.concat(action.image);\r\n\r\n  const filteredPhotos = state.filteredPhotos.map(img => {\r\n    return img.photoId === action.image.photoId\r\n      ? { ...img, isFavorite: true }\r\n      : img;\r\n  });\r\n\r\n  return { ...state, favorites, filteredPhotos };\r\n};\r\n\r\nconst removeImgFromFavorites = (action, state) => {\r\n  const favorites = [...state.favorites];\r\n\r\n  const filteredIndex = state.filteredPhotos.findIndex(\r\n    el => el.photoId === action.image.photoId\r\n  );\r\n  let filteredPhotos = [...state.filteredPhotos];\r\n  if (filteredIndex !== -1) {\r\n    filteredPhotos[filteredIndex].isFavorite = false;\r\n  }\r\n\r\n  const index = favorites.findIndex(\r\n    img => img.photoId === action.image.photoId\r\n  );\r\n\r\n  if (index !== -1) favorites.splice(index, 1);\r\n  return { ...state, favorites, filteredPhotos };\r\n};\r\n\r\nconst setMinUploadDate = (action, state) => {\r\n  return { ...state, minUploadDate: action.minUploadDate };\r\n};\r\n\r\nconst setMaxUploadDate = (action, state) => {\r\n  return { ...state, maxUploadDate: action.maxUploadDate };\r\n};\r\n\r\nconst setMinTakenDate = (action, state) => {\r\n  return { ...state, minTakenDate: action.minTakenDate };\r\n};\r\n\r\nconst setMaxTakenDate = (action, state) => {\r\n  return { ...state, maxTakenDate: action.maxTakenDate };\r\n};\r\n\r\nconst setMapLoaded = (action, state) => {\r\n  return { ...state, mapLoaded: action.mapLoaded };\r\n};\r\n\r\nexport const rootReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SET_BOUNDING_BOX:\r\n      console.log(action.type);\r\n      return setBoundingBox(action, state);\r\n    // case SET_RADIUS_MARKER:\r\n    //   console.log(action.type);\r\n    //   return setRadiusMarker(action, state);\r\n    //new ones\r\n\r\n    case SET_MAX_RESULTS_PER_PAGE:\r\n      console.log(action.type);\r\n      return setResultsPerPage(action, state);\r\n    case SET_USER_LOCATION:\r\n      console.log(action.type);\r\n      return setUserLocation(action, state);\r\n    case SET_SEARCH_RADIUS:\r\n      console.log(action.type);\r\n      return setSearchRadius(action, state);\r\n    case SET_SEARCH_CENTER:\r\n      console.log(action.type);\r\n      return setSearchCenter(action, state);\r\n    case SET_PHOTOS:\r\n      console.log(action.type);\r\n      return setPhotos(action, state);\r\n    case UPDATE_PHOTOS:\r\n      console.log(action.type);\r\n      return updatePhotos(action, state);\r\n    case BLOCK_USER:\r\n      console.log(action.type);\r\n      return blockUser(action, state);\r\n    case ADD_IMG_TO_FAVORITES:\r\n      console.log(action.type);\r\n      return addImgToFavorites(action, state);\r\n    case REMOVE_IMG_FROM_FAVORITES:\r\n      console.log(action.type);\r\n      return removeImgFromFavorites(action, state);\r\n    case SET_MIN_UPLOAD_DATE:\r\n      console.log(action.type);\r\n      return setMinUploadDate(action, state);\r\n    case SET_MAX_UPLOAD_DATE:\r\n      console.log(action.type);\r\n      return setMaxUploadDate(action, state);\r\n    case SET_MIN_TAKEN_DATE:\r\n      console.log(action.type);\r\n      return setMinTakenDate(action, state);\r\n    case SET_MAX_TAKEN_DATE:\r\n      console.log(action.type);\r\n      return setMaxTakenDate(action, state);\r\n    case SET_MAP_LOADED:\r\n      console.log(action.type);\r\n      return setMapLoaded(action, state);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import React, { useContext } from \"react\";\r\nimport { makeStyles, Input, Typography, Slider } from \"@material-ui/core/\";\r\nimport StateContext from \"../../context/stateContext\";\r\nimport DispatchContext from \"../../context/dispatchContext\";\r\nimport { SET_MAX_RESULTS_PER_PAGE } from \"../../context/rootReducer\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  input: {\r\n    marginLeft: \"1rem\",\r\n    marginBottom: \"1rem\",\r\n    maxWidth: \"4rem\"\r\n  }\r\n});\r\n\r\nexport default function RequestNumberSlider(props) {\r\n  const classes = useStyles();\r\n  const store = useContext(StateContext);\r\n  const dispatch = useContext(DispatchContext);\r\n\r\n  const handleSliderChange = (event, newValue) => {\r\n    dispatch({\r\n      type: SET_MAX_RESULTS_PER_PAGE,\r\n      resultsPerPage: newValue\r\n    });\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    let val = parseInt(event.target.value);\r\n    if (!Number.isNaN(val) && typeof val == \"number\") {\r\n      dispatch({\r\n        type: SET_MAX_RESULTS_PER_PAGE,\r\n        resultsPerPage: val\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    const value = store.resultsPerPage;\r\n    if (value <= 10) {\r\n      dispatch({\r\n        type: SET_MAX_RESULTS_PER_PAGE,\r\n        resultsPerPage: 10\r\n      });\r\n    } else if (value <= 250) {\r\n      dispatch({\r\n        type: SET_MAX_RESULTS_PER_PAGE,\r\n        resultsPerPage: Math.trunc(value / 10) * 10\r\n      });\r\n    } else if (value > 250) {\r\n      dispatch({\r\n        type: SET_MAX_RESULTS_PER_PAGE,\r\n        resultsPerPage: 250\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography align=\"center\" gutterBottom>\r\n        Number of photos to return per page\r\n      </Typography>\r\n\r\n      <div className={classes.root}>\r\n        <Slider\r\n          value={store.resultsPerPage}\r\n          onChange={handleSliderChange}\r\n          aria-labelledby=\"input-slider\"\r\n          step={10}\r\n          min={10}\r\n          max={250}\r\n          style={{ width: \"75%\", marginRight: \"0.5rem\", marginLeft: \"0.5rem\" }}\r\n        />\r\n        <Input\r\n          className={classes.input}\r\n          value={store.resultsPerPage}\r\n          type=\"number\"\r\n          margin=\"dense\"\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          inputProps={{\r\n            step: 10,\r\n            min: 10,\r\n            max: 250,\r\n            type: \"number\",\r\n            \"aria-labelledby\": \"input-slider\"\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  InputLabel,\r\n  MenuItem,\r\n  FormHelperText,\r\n  FormControl,\r\n  Select,\r\n  makeStyles\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  formControl: {\r\n    width: \"100%\"\r\n  },\r\n  root_select: {\r\n    textAlign: \"left\"\r\n  }\r\n}));\r\n\r\nexport default function SelectSortingMethod(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <FormControl className={classes.formControl}>\r\n      <InputLabel htmlFor=\"sorting-helper\">Display results by:</InputLabel>\r\n      <Select\r\n        classes={{ root: classes.root_select }}\r\n        value={props.sortMethod}\r\n        onChange={props.handeSelectSortMethod}\r\n      >\r\n        <MenuItem value={\"date-posted-asc\"}>Date posted ascending</MenuItem>\r\n        <MenuItem value={\"date-posted-desc\"}>Date posted descending</MenuItem>\r\n        <MenuItem value={\"date-taken-asc\"}>Date taken ascending</MenuItem>\r\n        <MenuItem value={\"date-taken-desc\"}>Date taken descending</MenuItem>\r\n      </Select>\r\n      <FormHelperText>\r\n        Sorting filters must be set before photo search\r\n      </FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  // TextField,\r\n  InputAdornment,\r\n  InputLabel,\r\n  Input,\r\n  IconButton,\r\n  FormControl,\r\n  FormHelperText\r\n} from \"@material-ui/core/\";\r\nimport { Close } from \"@material-ui/icons/\";\r\n\r\nexport default function TextQuery(props) {\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(\"Submit!\");\r\n    props.searchFlikr();\r\n  };\r\n  return (\r\n    <>\r\n      {/* <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          label=\"Optional text query\"\r\n          value={props.searchText}\r\n          onChange={props.handleTextQueryChange}\r\n          fullWidth\r\n          // className={classes.textField}\r\n          helperText=\"Adding text to the query will greatly limit the photos results\"\r\n          margin=\"normal\"\r\n          placeholder=\"text search in photos names,tags,albums\"\r\n        />\r\n      </form> */}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <FormControl onSubmit={handleSubmit} style={{ width: \"100%\" }}>\r\n          <InputLabel htmlFor=\"adornment-text\">Optional text query</InputLabel>\r\n          <Input\r\n            id=\"adornment-text\"\r\n            type=\"text\"\r\n            fullWidth\r\n            placeholder=\"search for a keyword in tags,albums,titles etc\"\r\n            value={props.searchText}\r\n            onChange={props.handleTextQueryChange}\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                {/* {props.searchText.length > 0 ? ( */}\r\n                <IconButton\r\n                  style={props.searchText.length > 0 ? {} : { display: \"none\" }}\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={props.clearTextQuery}\r\n                >\r\n                  <Close />\r\n                </IconButton>\r\n                {/* ) : null} */}\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n        <FormHelperText style={{ margin: \"5px 0 \" }}>\r\n          Adding text to the query will greatly limit the results\r\n        </FormHelperText>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import \"date-fns\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { format } from \"date-fns\";\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport StateContext from \"../../../context/stateContext\";\r\nimport DispatchContext from \"../../../context/dispatchContext\";\r\nimport { SET_MIN_UPLOAD_DATE } from \"../../../context/rootReducer\";\r\n\r\nexport default function MinUploadDatePicker(props) {\r\n  const store = useContext(StateContext);\r\n  const dispatch = useContext(DispatchContext);\r\n  /** placeholderDate is used:\r\n   * 1) As initial date at the initialization of the component\r\n   * 2) As a placeholder when the user unchecks the checkbox\r\n   * so that the date doesn't reset each time after disabling the datepicker\r\n   * current implementation won't work on mobile because:\r\n   * when the drawer is closed the datepickers are unmounted and its state is wiped\r\n   * -initial minUploadDate is set to Flickrs official launch year 2004\r\n   */\r\n  const [placeholderDate, setPlaceholderDate] = useState(new Date(2004, 1, 1));\r\n\r\n  const checked = store.minUploadDate ? true : false;\r\n  let selectedDate = checked ? store.minUploadDate : placeholderDate;\r\n\r\n  const handleCheckBox = event => {\r\n    if (event.target.checked) {\r\n      dispatch({\r\n        type: SET_MIN_UPLOAD_DATE,\r\n        minUploadDate: format(selectedDate, \"yyyy-MM-dd\")\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_MIN_UPLOAD_DATE,\r\n        minUploadDate: null\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    selectedDate = date;\r\n    setPlaceholderDate(date);\r\n    dispatch({\r\n      type: SET_MIN_UPLOAD_DATE,\r\n      minUploadDate: format(date, \"yyyy-MM-dd\") //sql format, also works with flickr api and unlike getUnixTime(date) is readable\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          minDate={\"2000,1,1\"}\r\n          style={{ marginLeft: \"0.5rem\" }}\r\n          disabled={!checked}\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"min upload date\"\r\n          format=\"dd/MM/yyyy\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n      <Checkbox\r\n        style={{ alignSelf: \"flex-end\", marginLeft: \"1rem\" }}\r\n        checked={checked}\r\n        onChange={handleCheckBox}\r\n        value=\"min upload date\"\r\n        color=\"primary\"\r\n        inputProps={{\r\n          \"aria-label\": \"minimum upload date\"\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import \"date-fns\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { format } from \"date-fns\";\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport DispatchContext from \"../../../context/dispatchContext\";\r\nimport StateContext from \"../../../context/stateContext\";\r\nimport { SET_MAX_UPLOAD_DATE } from \"../../../context/rootReducer\";\r\n\r\nexport default function MaxUploadDatePicker(props) {\r\n  const dispatch = useContext(DispatchContext);\r\n  const store = useContext(StateContext);\r\n\r\n  const [placeholderDate, setPlaceholderDate] = useState(new Date());\r\n\r\n  const checked = store.maxUploadDate ? true : false;\r\n  let selectedDate = checked ? store.maxUploadDate : placeholderDate;\r\n\r\n  const handleCheckBox = event => {\r\n    if (event.target.checked) {\r\n      dispatch({\r\n        type: SET_MAX_UPLOAD_DATE,\r\n        maxUploadDate: format(selectedDate, \"yyyy-MM-dd\")\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_MAX_UPLOAD_DATE,\r\n        maxUploadDate: null\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    selectedDate = date;\r\n    setPlaceholderDate(date);\r\n    dispatch({\r\n      type: SET_MAX_UPLOAD_DATE,\r\n      maxUploadDate: format(date, \"yyyy-MM-dd\")\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          minDate={\"2000,1,1\"}\r\n          style={{ marginLeft: \"0.5rem\" }}\r\n          disabled={!checked}\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"max upload date\"\r\n          format=\"dd/MM/yyyy\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n      <Checkbox\r\n        style={{ alignSelf: \"flex-end\", marginLeft: \"1rem\" }}\r\n        checked={checked}\r\n        onChange={handleCheckBox}\r\n        value=\"use max upload date\"\r\n        color=\"primary\"\r\n        inputProps={{\r\n          \"aria-label\": \"maximum upload date\"\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import \"date-fns\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { format } from \"date-fns\";\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport DispatchContext from \"../../../context/dispatchContext\";\r\nimport StateContext from \"../../../context/stateContext\";\r\nimport { SET_MIN_TAKEN_DATE } from \"../../../context/rootReducer\";\r\n\r\nexport default function MinTakenDatePicker(props) {\r\n  const dispatch = useContext(DispatchContext);\r\n  const store = useContext(StateContext);\r\n\r\n  const [placeholderDate, setPlaceholderDate] = useState(new Date(2004, 1, 1));\r\n\r\n  const checked = store.minTakenDate ? true : false;\r\n  let selectedDate = checked ? store.minTakenDate : placeholderDate;\r\n\r\n  const handleCheckBox = event => {\r\n    if (event.target.checked) {\r\n      dispatch({\r\n        type: SET_MIN_TAKEN_DATE,\r\n        minTakenDate: format(selectedDate, \"yyyy-MM-dd\") //sql format readable by humans and flickr API\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_MIN_TAKEN_DATE,\r\n        minTakenDate: null\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    selectedDate = date;\r\n    setPlaceholderDate(date);\r\n    dispatch({\r\n      type: SET_MIN_TAKEN_DATE,\r\n      minTakenDate: format(date, \"yyyy-MM-dd\")\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          style={{ marginLeft: \"0.5rem\" }}\r\n          disabled={!checked}\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"min taken date\"\r\n          format=\"dd/MM/yyyy\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n      <Checkbox\r\n        style={{ alignSelf: \"flex-end\", marginLeft: \"1rem\" }}\r\n        checked={checked}\r\n        onChange={handleCheckBox}\r\n        value=\"min taken date\"\r\n        color=\"primary\"\r\n        inputProps={{\r\n          \"aria-label\": \"minimum taken date\"\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import \"date-fns\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { format } from \"date-fns\";\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport DispatchContext from \"../../../context/dispatchContext\";\r\nimport StateContext from \"../../../context/stateContext\";\r\nimport { SET_MAX_TAKEN_DATE } from \"../../../context/rootReducer\";\r\n\r\nexport default function MaxTakenDatePicker(props) {\r\n  const dispatch = useContext(DispatchContext);\r\n  const store = useContext(StateContext);\r\n\r\n  const [placeholderDate, setPlaceholderDate] = useState(new Date());\r\n\r\n  const checked = store.maxTakenDate ? true : false;\r\n  let selectedDate = checked ? store.maxTakenDate : placeholderDate;\r\n\r\n  const handleCheckBox = event => {\r\n    if (event.target.checked) {\r\n      dispatch({\r\n        type: SET_MAX_TAKEN_DATE,\r\n        maxTakenDate: format(selectedDate, \"yyyy-MM-dd\")\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: SET_MAX_TAKEN_DATE,\r\n        maxTakenDate: false\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    selectedDate = date;\r\n    setPlaceholderDate(date);\r\n    dispatch({\r\n      type: SET_MAX_TAKEN_DATE,\r\n      maxTakenDate: format(date, \"yyyy-MM-dd\")\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          style={{ marginLeft: \"0.5rem\" }}\r\n          disabled={!checked}\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"max taken date\"\r\n          format=\"dd/MM/yyyy\"\r\n          value={selectedDate}\r\n          onChange={date => handleDateChange(date)}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n      <Checkbox\r\n        style={{ alignSelf: \"flex-end\", marginLeft: \"1rem\" }}\r\n        checked={checked}\r\n        onChange={handleCheckBox}\r\n        value=\"max taken date\"\r\n        color=\"primary\"\r\n        inputProps={{\r\n          \"aria-label\": \"maximum taken date\"\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nexport default function SwitchButton(props) {\r\n  const checked = !props.checked;\r\n\r\n  const handleSwitchChange = event => {\r\n    props.callback();\r\n  };\r\n\r\n  return (\r\n    <FormGroup row style={{ justifyContent: \"left\" }}>\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            checked={checked}\r\n            onChange={handleSwitchChange}\r\n            value={checked}\r\n          />\r\n        }\r\n        label={props.label}\r\n      />\r\n    </FormGroup>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Drawer,\r\n  IconButton,\r\n  List,\r\n  Divider,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Collapse,\r\n  Button,\r\n  makeStyles\r\n} from \"@material-ui/core/\";\r\nimport {\r\n  MenuRounded,\r\n  ExpandLess,\r\n  ExpandMore,\r\n  MyLocationTwoTone,\r\n  Map,\r\n  Ballot,\r\n  ChevronLeft\r\n} from \"@material-ui/icons/\";\r\nimport RequstNumberSlider from \"../controlPanel/requestsNumberSlider\";\r\nimport SelectSortingMethod from \"../controlPanel/selectSortingMethod\";\r\nimport TextQuery from \"../controlPanel/textQuery\";\r\nimport MinUploadDatePicker from \"../controlPanel/datePickers/minUploadDatePicker\";\r\nimport MaxUploadDatePicker from \"../controlPanel/datePickers/maxUploadDatePicker\";\r\nimport MinTakenDatePicker from \"../controlPanel/datePickers/minTakenDatePicker\";\r\nimport MaxTakenDatePicker from \"../controlPanel/datePickers/maxTakenDatePicker\";\r\nimport CustomSwitch from \"../controlPanel/switches/customSwitch\";\r\n\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    width: \"70vw\"\r\n  },\r\n  fullList: {\r\n    width: \"auto\"\r\n  },\r\n  hamburger: {\r\n    marginRight: \"0.5rem\",\r\n    color: \"#fff\"\r\n  }\r\n});\r\n\r\nexport default function DrawerMenu(props) {\r\n  const classes = useStyles();\r\n\r\n  const [openQueryOption, setOpenQueryOptions] = useState(false);\r\n  const handleQueryOptionsClick = () => setOpenQueryOptions(!openQueryOption);\r\n  const [openMapOptions, setOpenMapOptions] = useState(false);\r\n  const handleMapOptionsClick = () => setOpenMapOptions(!openMapOptions);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const toggleDrawer = () => {\r\n    const prevState = !drawerOpen;\r\n    setDrawerOpen(prevState);\r\n  };\r\n\r\n  const closeDrawer = () => {\r\n    setDrawerOpen(false);\r\n  };\r\n\r\n  const DrawerItems = () => (\r\n    <div className={classes.list} role=\"presentation\">\r\n      <List style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n        <IconButton onClick={closeDrawer} style={{ marginRight: \"1rem\" }}>\r\n          <ChevronLeft />\r\n        </IconButton>\r\n      </List>\r\n      <Divider />\r\n\r\n      <List>\r\n        <ListItem button onClick={handleQueryOptionsClick}>\r\n          <ListItemIcon>\r\n            <Ballot />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Query Options\" />\r\n          {openQueryOption ? <ExpandLess /> : <ExpandMore />}\r\n        </ListItem>\r\n\r\n        <Collapse in={openQueryOption} timeout=\"auto\" unmountOnExit>\r\n          <List component=\"div\" disablePadding>\r\n            <ListItem style={{ flexFlow: \"column\" }}>\r\n              <RequstNumberSlider />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n              <SelectSortingMethod\r\n                handeSelectSortMethod={props.handeSelectSortMethod}\r\n                sortMethod={props.sortMethod}\r\n              />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n              <TextQuery\r\n                handleTextQueryChange={props.handleTextQueryChange}\r\n                clearTextQuery={props.clearTextQuery}\r\n                searchText={props.searchText}\r\n                searchFlikr={props.searchFlikr}\r\n              />\r\n            </ListItem>\r\n\r\n            <Divider className={classes.divider} />\r\n\r\n            <ListItem>\r\n              <MinUploadDatePicker />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n              <MaxUploadDatePicker />\r\n            </ListItem>\r\n\r\n            <Divider className={classes.divider} />\r\n\r\n            <ListItem>\r\n              <MinTakenDatePicker />\r\n            </ListItem>\r\n            <ListItem>\r\n              <MaxTakenDatePicker />\r\n            </ListItem>\r\n          </List>\r\n        </Collapse>\r\n      </List>\r\n      {/* SECOND COLLAPSABLE LIST  */}\r\n      <List>\r\n        <ListItem button onClick={handleMapOptionsClick}>\r\n          <ListItemIcon>\r\n            <Map />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Map Options\" />\r\n          {openMapOptions ? <ExpandLess /> : <ExpandMore />}\r\n        </ListItem>\r\n\r\n        <Collapse in={openMapOptions} timeout=\"auto\" unmountOnExit>\r\n          <List component=\"div\" disablePadding>\r\n            <ListItem>\r\n              <CustomSwitch\r\n                callback={props.togglePhotoMarkerDisplay}\r\n                checked={props.displayPhotoMarkers}\r\n                label=\"Hide all results from the map\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <CustomSwitch\r\n                callback={props.toggleFavorites}\r\n                checked={props.displayFavorites}\r\n                label=\"Hide all favorites from the map\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <Button\r\n                variant=\"contained\"\r\n                style={{ marginTop: \"1rem\", color: \"black\", width: \"100%\" }}\r\n                color=\"secondary\"\r\n                size={\"large\"}\r\n                onClick={props.handleMyLocationClick}\r\n              >\r\n                <MyLocationTwoTone style={{ marginRight: \"1rem\" }} />\r\n                My location\r\n              </Button>\r\n            </ListItem>\r\n          </List>\r\n        </Collapse>\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        onClick={toggleDrawer}\r\n        aria-label=\"Open Menu\"\r\n        size=\"medium\"\r\n        className={classes.hamburger}\r\n      >\r\n        <MenuRounded fontSize=\"large\" />\r\n      </IconButton>\r\n\r\n      <Drawer open={drawerOpen} onClose={closeDrawer}>\r\n        {DrawerItems()}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","import useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nexport const useMinScreenWidth = width => {\r\n  const width450 = useMediaQuery(\"(min-width:450px)\");\r\n  const width900 = useMediaQuery(\"(min-width:900px)\");\r\n  const width1200 = useMediaQuery(\"(min-width:1200px)\");\r\n\r\n  switch (width) {\r\n    case 450:\r\n      return width450;\r\n    case 900:\r\n      return width900;\r\n    case 1200:\r\n      return width1200;\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  CssBaseline,\r\n  useScrollTrigger,\r\n  Box,\r\n  Slide,\r\n  Zoom,\r\n  Fab,\r\n  IconButton,\r\n  Tooltip,\r\n  makeStyles,\r\n  useMediaQuery\r\n} from \"@material-ui/core/\";\r\nimport {\r\n  KeyboardArrowUp,\r\n  ViewStream as Rows,\r\n  ViewWeek as Columns,\r\n  Favorite\r\n} from \"@material-ui/icons/\";\r\nimport DrawerMenu from \"../drawer/drawer\";\r\nimport { useMinScreenWidth } from \"../../helpers/CustomHooks/useMinScreenWidth\";\r\nimport PngLogo from \"../../assets/pngLogo.png\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2)\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n    color: \"red\",\r\n    width: \"100px\"\r\n  },\r\n  icons_container: {\r\n    display: \"flex\"\r\n  },\r\n  logo_container: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  favorites: {\r\n    color: \"#ff0000\"\r\n  }\r\n}));\r\n\r\nfunction HideOnScroll(props) {\r\n  const trigger = useScrollTrigger();\r\n  return (\r\n    <Slide\r\n      appear={false}\r\n      direction=\"down\"\r\n      /* if appBarHide is true hide the appbar otherwise leave useScrollTrigger to deal with it */\r\n      in={props.appBarHide ? false : !trigger}\r\n    >\r\n      {props.children}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nfunction ScrollTop(props) {\r\n  const { children } = props;\r\n  const classes = useStyles();\r\n  const trigger = useScrollTrigger({\r\n    disableHysteresis: true,\r\n    threshold: 100\r\n  });\r\n\r\n  const handleClick = event => {\r\n    const anchor = (event.target.ownerDocument || document).querySelector(\r\n      \"#back-to-top-anchor\"\r\n    );\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nexport default function HideAppBar(props) {\r\n  const classes = useStyles();\r\n  const smSceen = useMediaQuery(\"(max-width:450px)\");\r\n\r\n  const scrollToTop = event => {\r\n    const anchor = (event.target.ownerDocument || document).querySelector(\r\n      \"#back-to-top-anchor\"\r\n    );\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <HideOnScroll appBarHide={props.appBarHide} {...props}>\r\n        <AppBar>\r\n          <Toolbar disableGutters={useMinScreenWidth(900) ? false : true}>\r\n            {!useMinScreenWidth(900) && (\r\n              <DrawerMenu\r\n                handeSelectSortMethod={props.handeSelectSortMethod}\r\n                sortMethod={props.sortMethod}\r\n                handleTextQueryChange={props.handleTextQueryChange}\r\n                clearTextQuery={props.clearTextQuery}\r\n                searchText={props.searchText}\r\n                searchFlikr={props.searchFlikr}\r\n                handleMyLocationClick={props.handleMyLocationClick}\r\n                togglePhotoMarkerDisplay={props.togglePhotoMarkerDisplay}\r\n                toggleFavorites={props.toggleFavorites}\r\n                displayPhotoMarkers={props.displayPhotoMarkers}\r\n                displayFavorites={props.displayFavorites}\r\n              />\r\n            )}\r\n\r\n            <div className={classes.logo_container} onClick={scrollToTop}>\r\n              <img\r\n                src={PngLogo}\r\n                aria-label=\"World Gallery Logo\"\r\n                alt=\"World Gallery Logo\"\r\n                style={{ marginRight: \"0.5rem\", height: \"45px\" }}\r\n              />\r\n              <Typography variant=\"h6\">\r\n                <span style={{ color: \"#dedee6\" }}>World</span>\r\n                <span style={{ color: \"#ffc1d5\" }}>Gallery</span>\r\n              </Typography>\r\n            </div>\r\n            <div className={classes.grow} />\r\n            <div className={classes.icons_container}>\r\n              {props.photos > 0 && !smSceen && (\r\n                <Tooltip\r\n                  title={\r\n                    props.gridDirection === \"column\"\r\n                      ? \"Display images as Rows\"\r\n                      : \"Display images as Columns\"\r\n                  }\r\n                  aria-label={\r\n                    props.gridDirection === \"column\"\r\n                      ? \"Display images as Rows\"\r\n                      : \"Display images as Columns\"\r\n                  }\r\n                >\r\n                  <IconButton\r\n                    color=\"inherit\"\r\n                    onClick={props.toggleGridDirection}\r\n                  >\r\n                    {props.gridDirection === \"column\" ? (\r\n                      <>\r\n                        <Rows className={classes.control_icon} />\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Columns className={classes.control_icon} />\r\n                      </>\r\n                    )}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n\r\n              <Tooltip title=\"Open Favorites\" aria-label=\"Open Favorites\">\r\n                <IconButton\r\n                  color=\"inherit\"\r\n                  aria-label=\"Open Favorites\"\r\n                  onClick={props.handleOpenFavorites}\r\n                >\r\n                  <Favorite className={classes.favorites} />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </HideOnScroll>\r\n      <Toolbar id=\"back-to-top-anchor\" />\r\n      <Box\r\n        style={\r\n          useMinScreenWidth(1200)\r\n            ? { margin: \"5px 25px 2px\" }\r\n            : { margin: \"5px 0 2px\" }\r\n        }\r\n      >\r\n        {props.children}\r\n      </Box>\r\n      <ScrollTop {...props}>\r\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\r\n          <KeyboardArrowUp />\r\n        </Fab>\r\n      </ScrollTop>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Fab, makeStyles, Zoom } from \"@material-ui/core\";\r\nimport { Favorite, FavoriteBorder, MoreVert } from \"@material-ui/icons\";\r\nimport { find as _find } from \"lodash\";\r\nimport StateContext from \"../../context/stateContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pin_to_map_btn: {\r\n    position: \"absolute\",\r\n    bottom: \"2px\",\r\n    left: \"2px\",\r\n    backgroundColor: \"#f500577a\",\r\n    \"&:hover\": {\r\n      boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\"\r\n    }\r\n  },\r\n  options_btn: {\r\n    top: \"2px\",\r\n    right: \"2px\",\r\n    position: \"absolute\",\r\n    backgroundColor: \"#ffffffa6\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f5f5f5e8\",\r\n      boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\"\r\n    }\r\n  },\r\n  image: {\r\n    margin: \"2px\",\r\n    display: \"block\"\r\n  }\r\n}));\r\n\r\nconst ImageWrapper = ({\r\n  index,\r\n  photo,\r\n  margin,\r\n  direction,\r\n  top,\r\n  left,\r\n  selected,\r\n  imageToggleFavorites,\r\n  openLightbox,\r\n  handleOpenMenuClick\r\n}) => {\r\n  const classes = useStyles();\r\n  const state = useContext(StateContext);\r\n  const [hover, setHover] = useState(false);\r\n  const isFavorite = _find(state.favorites, el => el.photoId === photo.photoId)\r\n    ? true\r\n    : false;\r\n\r\n  const cont = {\r\n    backgroundColor: \"#eee\",\r\n    cursor: \"pointer\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\"\r\n  };\r\n\r\n  const handleOnMouseEnter = (photo, e) => {\r\n    setHover(true);\r\n  };\r\n  const handleOnMouseLeave = (photo, e) => {\r\n    setHover(false);\r\n  };\r\n\r\n  const handleTouch = () => {\r\n    setHover(true);\r\n    window.setTimeout(() => {\r\n      setHover(false);\r\n    }, 3000);\r\n  };\r\n\r\n  console.log(direction);\r\n  if (direction === \"column\") {\r\n    cont.position = \"absolute\";\r\n    cont.left = left;\r\n    cont.top = top;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin,\r\n        height: photo.height,\r\n        width: photo.width,\r\n        ...cont\r\n      }}\r\n      className={classes.container}\r\n      onMouseEnter={handleOnMouseEnter.bind(this, photo)}\r\n      onMouseLeave={handleOnMouseLeave}\r\n      onTouchStart={handleTouch}\r\n    >\r\n      <img\r\n        src={photo.src}\r\n        title={\r\n          photo.title\r\n            ? photo.title + ` - by user ${photo.ownername}`\r\n            : `untitled - by user ${photo.ownername}`\r\n        }\r\n        alt={photo.alt}\r\n        srcSet={photo.srcSet}\r\n        width={photo.width}\r\n        heigth={photo.height}\r\n        sizes={photo.sizes}\r\n        className={classes.image}\r\n        onClick={event => openLightbox.call(this, event, { index, photo })}\r\n      />\r\n      <Zoom in={hover}>\r\n        <Fab\r\n          size=\"small\"\r\n          aria-label=\"more\"\r\n          className={classes.options_btn}\r\n          onClick={handleOpenMenuClick.bind(this, photo)}\r\n        >\r\n          <MoreVert />\r\n        </Fab>\r\n      </Zoom>\r\n\r\n      <Zoom in={hover}>\r\n        <Fab\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n          aria-label={isFavorite ? \"remove from favorites\" : \"add to favorites\"}\r\n          className={classes.pin_to_map_btn}\r\n          onClick={imageToggleFavorites.bind(this, photo, isFavorite)}\r\n        >\r\n          {isFavorite ? (\r\n            <Favorite style={{ color: \"gold\" }} />\r\n          ) : (\r\n            <FavoriteBorder style={{ color: \"#000\" }} />\r\n          )}\r\n        </Fab>\r\n      </Zoom>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ImageWrapper);\r\n","import React, { useContext } from \"react\";\r\nimport { Menu, MenuItem, Link } from \"@material-ui/core/\";\r\nimport DispatchContext from \"../../context/dispatchContext\";\r\nimport { BLOCK_USER } from \"../../context/rootReducer\";\r\n\r\nconst linkStyle = {\r\n  width: \"100%\"\r\n};\r\n\r\nexport default function ImageMenu(props) {\r\n  const dispatch = useContext(DispatchContext);\r\n\r\n  const handleHideUser = () => {\r\n    props.handleMenuClose();\r\n    dispatch({\r\n      type: BLOCK_USER,\r\n      userId: props.photoData.owner\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Menu\r\n        id=\"image-menu\"\r\n        anchorEl={props.anchorEl}\r\n        keepMounted\r\n        open={Boolean(props.anchorEl)}\r\n        onClose={props.handleMenuClose}\r\n      >\r\n        {!props.openFavorites && (\r\n          <MenuItem onClick={handleHideUser}>\r\n            Temporary hide photos from this user\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem onClick={props.handleMenuClose}>\r\n          <Link\r\n            style={linkStyle}\r\n            target=\"_blank\"\r\n            href={\r\n              props.photoData\r\n                ? `https://www.flickr.com/photos/${props.photoData.owner}/${props.photoData.photoId}`\r\n                : \"\"\r\n            }\r\n            color=\"inherit\"\r\n          >\r\n            Open Photo in Flickr\r\n          </Link>\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useCallback } from \"react\";\r\nimport Gallery from \"react-photo-gallery\";\r\nimport ImageWrapper from \"../imageWrapper/imageWrapper\";\r\nimport ImageMenu from \"../imageWrapper/imageMenu\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst ImageGrid = ({\r\n  photos,\r\n  responseDetails,\r\n  direction,\r\n  imageToggleFavorites,\r\n  hiddenPhotos,\r\n  openLightbox,\r\n  openFavorites\r\n}) => {\r\n  React.useEffect(() => {\r\n    //debugging\r\n    console.log(\"IMAGE GRID: some props Caused Rerender!!!!!\");\r\n  }, [photos, responseDetails, direction, imageToggleFavorites, hiddenPhotos]);\r\n\r\n  console.log(\"IMAGEGRID UPDATED!\");\r\n\r\n  /** ImageMenu */\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [photoData, setPhotoData] = useState(null);\r\n  const handleOpenMenuClick = (data, event) => {\r\n    setPhotoData(data);\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  /**Wrapper around ImageWrapper */\r\n  const imageRenderer = useCallback(\r\n    props => {\r\n      return (\r\n        <ImageWrapper\r\n          key={props.key}\r\n          margin={\"2px\"}\r\n          index={props.index}\r\n          photo={props.photo}\r\n          left={props.left}\r\n          top={props.top}\r\n          imageToggleFavorites={imageToggleFavorites}\r\n          direction={props.direction}\r\n          openLightbox={props.onClick}\r\n          handleOpenMenuClick={handleOpenMenuClick}\r\n          openFavorites={openFavorites}\r\n        />\r\n      );\r\n    },\r\n    [imageToggleFavorites, openFavorites]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {openFavorites ? (\r\n        <>\r\n          <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\r\n            {photos.length === 0\r\n              ? \"Favorites is empty\"\r\n              : `${photos.length} photos in favorites:`}\r\n          </Typography>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Typography\r\n            variant=\"h3\"\r\n            component=\"h1\"\r\n            style={{ marginTop: \"1.9rem\" }}\r\n          >\r\n            Results:\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\r\n            {photos.length === 0\r\n              ? `Sorry could not find any photos in that particular area`\r\n              : `Displaying ${photos.length} of total ${responseDetails.totalPhotos} photos found...`}\r\n          </Typography>\r\n        </>\r\n      )}\r\n\r\n      {hiddenPhotos.length > 0 && (\r\n        <Typography variant=\"subtitle2\" component=\"p\" gutterBottom>\r\n          ({hiddenPhotos.length}) photos from blocked users are hidden.\r\n        </Typography>\r\n      )}\r\n\r\n      {photos.length > 0 && (\r\n        <Gallery\r\n          photos={photos}\r\n          direction={direction}\r\n          renderImage={imageRenderer}\r\n          onClick={openLightbox}\r\n          // the above onClick is an optional react-photo-gallery prop\r\n          // It receives the arguments -> event and an object containing the index,\r\n          // Photos obj originally sent and the next and previous photos in the gallery if they exist\r\n        />\r\n      )}\r\n\r\n      <ImageMenu\r\n        anchorEl={anchorEl}\r\n        handleOpenMenuClick={handleOpenMenuClick}\r\n        handleMenuClose={handleMenuClose}\r\n        photoData={photoData}\r\n        openFavorites={openFavorites}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ImageGrid);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: \"1rem auto\",\r\n    display: \"block\"\r\n  }\r\n}));\r\n\r\nconst LoadMoreButton = props => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Button\r\n      onClick={props.onClick}\r\n      variant=\"outlined\"\r\n      size=\"large\"\r\n      className={classes.button}\r\n    >\r\n      Load more photos\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default LoadMoreButton;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: \"0.5rem 0\"\r\n  }\r\n});\r\n\r\nexport default function LoadingBar() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <LinearProgress />\r\n      <LinearProgress color=\"secondary\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  input: {\r\n    marginLeft: \"1rem\",\r\n    marginBottom: \"1rem\"\r\n  }\r\n});\r\n\r\nexport default function RadiusSlider(props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(3);\r\n\r\n  const handleSliderChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    props.setSearchRadius(newValue);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography align=\"center\" gutterBottom>\r\n        Search Area Radius in Km\r\n      </Typography>\r\n\r\n      <div className={classes.root}>\r\n        <Slider\r\n          value={value}\r\n          onChange={handleSliderChange}\r\n          aria-labelledby=\"input-slider\"\r\n          step={0.5}\r\n          min={0.5}\r\n          max={30}\r\n          style={{ width: \"75%\", marginRight: \"0.5rem\", marginLeft: \"0.5rem\" }}\r\n        />\r\n        <Typography>{value + ` km`}</Typography>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useRef, useEffect, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Paper,\r\n  InputAdornment,\r\n  Divider,\r\n  InputBase,\r\n  IconButton\r\n} from \"@material-ui/core/\";\r\nimport StateContext from \"../../../context/stateContext\";\r\nimport { Close, Search as SearchIcon } from \"@material-ui/icons/\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    border: \"1px solid #29272752\"\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n  iconButton: {\r\n    padding: 10\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\"\r\n  }\r\n}));\r\n\r\nexport default function LocationSearch() {\r\n  const classes = useStyles();\r\n  const store = useContext(StateContext);\r\n  const autoCompleteInputRef = useRef(null);\r\n\r\n  let geocoder = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (store.mapLoaded) {\r\n      geocoder.current = new window.google.maps.Geocoder();\r\n    }\r\n  }, [store.mapLoaded]);\r\n\r\n  let autocomplete = useRef(null);\r\n  const fillInInput = React.useCallback(() => {\r\n    geocodeAddress(geocoder.current, window.map);\r\n  }, [geocoder]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"USEFFECT ON MOUNT(***********************************)\");\r\n    if (store.mapLoaded) {\r\n      autocomplete.current = new window.google.maps.places.Autocomplete(\r\n        autoCompleteInputRef.current //input element that will be handled to AutoComplete\r\n        // { types: [\"geocode\"] } // If no type is specified, all types will be returned (eg places, addresses etc).\r\n      );\r\n      // Avoid paying for data that you don't need by restricting the set of\r\n      // place fields that are returned to just the address components & the formatted_address.\r\n      autocomplete.current.setFields([\r\n        \"address_component\",\r\n        \"formatted_address\"\r\n      ]);\r\n\r\n      // When the user selects an address from the drop-down,\r\n      autocomplete.current.addListener(\"place_changed\", fillInInput);\r\n    }\r\n  }, [fillInInput, store.mapLoaded]);\r\n\r\n  function geocodeAddress(geocoder, resultsMap) {\r\n    const value = autoCompleteInputRef.current.value;\r\n    geocoder.geocode({ address: value }, function(results, status) {\r\n      if (status === \"OK\") {\r\n        resultsMap.fitBounds(results[0].geometry.viewport);\r\n        // const marker = new window.google.maps.Marker({\r\n        //   map: resultsMap,\r\n        //   position: results[0].geometry.location\r\n        // });\r\n      } else {\r\n        alert(\"Geocode was not successful for the following reason: \" + status);\r\n      }\r\n    });\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    geocodeAddress(geocoder.current, window.map);\r\n  };\r\n\r\n  const clearInput = () => {\r\n    autoCompleteInputRef.current.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.root} elevation={2}>\r\n      <form onSubmit={handleSubmit} className={classes.form}>\r\n        {/* InputBase is an uncontrolled component so that   google's autocomplete can change its value */}\r\n        <InputBase\r\n          disabled={!store.mapLoaded}\r\n          id=\"autocomplete\"\r\n          inputRef={autoCompleteInputRef}\r\n          className={classes.input}\r\n          placeholder=\"Search address or location\"\r\n          inputProps={{ \"aria-label\": \"search google maps\" }}\r\n          defaultValue=\"\"\r\n          endAdornment={\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"clear search google maps input\"\r\n                onClick={clearInput}\r\n              >\r\n                <Close />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          }\r\n        />\r\n        <Divider className={classes.divider} orientation=\"vertical\" />\r\n        <IconButton\r\n          type=\"submit\"\r\n          className={classes.iconButton}\r\n          aria-label=\"search\"\r\n          disabled={!store.mapLoaded}\r\n        >\r\n          <SearchIcon />\r\n        </IconButton>\r\n      </form>\r\n    </Paper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  makeStyles,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  Typography\r\n} from \"@material-ui/core/\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport GeoCodingBar from \"./geoCodingBar/geoCodingBar.js\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"100%\"\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular\r\n  },\r\n  details_root: {\r\n    display: \"flex\",\r\n    flexFlow: \"column\"\r\n  },\r\n  details_root_geolocation: {\r\n    padding: \"4px\",\r\n    marginBottom: \"12px\"\r\n  }\r\n}));\r\n\r\nexport default function ExpansionPanels(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel defaultExpanded>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"geolocation-search\"\r\n        >\r\n          <Typography className={classes.heading}>\r\n            Geolocation search\r\n          </Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails\r\n          id=\"geolocation-search\"\r\n          classes={{ root: classes.details_root_geolocation }}\r\n        >\r\n          <GeoCodingBar />\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"request-options-content\"\r\n        >\r\n          <Typography className={classes.heading}>Query Options</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails\r\n          id=\"request-options-content\"\r\n          classes={{ root: classes.details_root }}\r\n        >\r\n          {props.requestOptions}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"map-options-content\"\r\n        >\r\n          <Typography className={classes.heading}>Map Options</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails\r\n          id=\"map-options-content\"\r\n          classes={{ root: classes.details_root }}\r\n        >\r\n          {props.mapOptions}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Paper,\r\n  makeStyles,\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Divider,\r\n  Tooltip\r\n} from \"@material-ui/core\";\r\nimport {\r\n  ImageSearchRounded,\r\n  CenterFocusStrong,\r\n  ZoomOutMap,\r\n  MyLocationTwoTone\r\n} from \"@material-ui/icons\";\r\nimport RadiusSlider from \"./RadiusSlider\";\r\nimport SelectSortingMethod from \"./selectSortingMethod\";\r\nimport TextQuery from \"./textQuery\";\r\nimport CustomSwitch from \"./switches/customSwitch\";\r\nimport RequstNumberSlider from \"./requestsNumberSlider\";\r\nimport OptionsPanel from \"./expansionPanels\";\r\nimport MinUploadDatePicker from \"./datePickers/minUploadDatePicker\";\r\nimport MaxUploadDatePicker from \"./datePickers/maxUploadDatePicker\";\r\nimport MaxTakenDatePicker from \"./datePickers/maxTakenDatePicker\";\r\nimport MinTakenDatePicker from \"./datePickers/minTakenDatePicker\";\r\nimport StateContext from \"../../context/stateContext\";\r\nimport LoadingBar from \"../LoadingBar/loadingBar\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  panel: {\r\n    textAlign: \"center\",\r\n    maxWidth: \"40vw\",\r\n    width: \"40vw\",\r\n    display: \"flex\",\r\n    flexFlow: \"column\",\r\n    overflowY: \"scroll\"\r\n  },\r\n  panel_item: {\r\n    margin: \"8px\",\r\n    display: \"flex\"\r\n  },\r\n  wrapper: {\r\n    margin: \"0.5rem\"\r\n  },\r\n  divider: {\r\n    margin: \"1rem 0\"\r\n  },\r\n  control_icon: {\r\n    marginRight: \"1rem\"\r\n  },\r\n  search_photos_box: {\r\n    justifyContent: \"center\"\r\n  },\r\n  secondary_btn: {\r\n    margin: \"1rem\"\r\n  },\r\n  map_options_container: {\r\n    display: \"flex\",\r\n    flexFlow: \"column\",\r\n    textAlign: \"left\"\r\n  }\r\n}));\r\n\r\nconst ControlPanel = props => {\r\n  const store = useContext(StateContext);\r\n\r\n  const classes = useStyles();\r\n\r\n  const infoTextBox = `Zoom to the location that you want to search for photos and hit the search button.`;\r\n  const infoTextCircle = `Drag the blue circle on the map to select the place where you want\r\nto search for photos, when done press the button below to make the request.`;\r\n  return (\r\n    <Paper className={classes.panel}>\r\n      <div className={classes.wrapper}>\r\n        {store.searchMethod === \"EXTENTS\" && (\r\n          <>\r\n            <Box className={classes.panel_item}>\r\n              <Typography>{infoTextBox}</Typography>\r\n            </Box>\r\n            <Box className={classes.panel_item + classes.search_photos_box}>\r\n              <Button\r\n                disabled={!store.mapLoaded}\r\n                variant=\"contained\"\r\n                style={{ backgroundColor: \"#179207\", width: \"100%\" }}\r\n                size={\"large\"}\r\n                onClick={props.searchFlikr}\r\n              >\r\n                <ImageSearchRounded className={classes.control_icon} />\r\n                Search Photos\r\n              </Button>\r\n              {props.loadingPhotos && <LoadingBar />}\r\n            </Box>\r\n          </>\r\n        )}\r\n        {/* SEARCH BY RADIUS */}\r\n        {store.searchMethod === \"CIRCLE\" && (\r\n          <>\r\n            <Box className={classes.panel_item}>\r\n              <Typography>{infoTextCircle}</Typography>\r\n            </Box>\r\n            <RadiusSlider setSearchRadius={props.setSearchRadius} />\r\n            <Box\r\n              className={classes.panel_item + \" \" + classes.search_photos_box}\r\n            >\r\n              <Tooltip\r\n                title=\"Move Search-Area to the Center of map\"\r\n                aria-label=\"Move Search-Area to the Center of map\"\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"medium\"\r\n                  className={classes.secondary_btn}\r\n                  onClick={props.centerSearchAreaOnMap}\r\n                >\r\n                  <CenterFocusStrong />\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip\r\n                title=\"Zoom to Search-Area extents\"\r\n                aria-label=\"Zoom to Search-Area extents\"\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"medium\"\r\n                  className={classes.secondary_btn}\r\n                  onClick={props.zoomToSearchArea}\r\n                >\r\n                  <ZoomOutMap />\r\n                </Button>\r\n              </Tooltip>\r\n            </Box>\r\n          </>\r\n        )}\r\n\r\n        <Divider className={classes.divider} />\r\n\r\n        <OptionsPanel\r\n          requestOptions={\r\n            <>\r\n              <RequstNumberSlider />\r\n              <SelectSortingMethod\r\n                handeSelectSortMethod={props.handeSelectSortMethod}\r\n                sortMethod={props.sortMethod}\r\n              />\r\n              <TextQuery\r\n                handleTextQueryChange={props.handleTextQueryChange}\r\n                clearTextQuery={props.clearTextQuery}\r\n                searchText={props.searchText}\r\n                searchFlikr={props.searchFlikr}\r\n              />\r\n              <Divider className={classes.divider} />\r\n              <MinUploadDatePicker />\r\n              <MaxUploadDatePicker />\r\n              <Divider className={classes.divider} />\r\n              <MinTakenDatePicker />\r\n              <MaxTakenDatePicker />\r\n            </>\r\n          }\r\n          mapOptions={\r\n            <div className={classes.map_options_container}>\r\n              <CustomSwitch\r\n                callback={props.togglePhotoMarkerDisplay}\r\n                checked={props.displayPhotoMarkers}\r\n                label=\"Hide all results from map\"\r\n              />\r\n              <CustomSwitch\r\n                callback={props.toggleFavorites}\r\n                checked={props.displayFavorites}\r\n                label=\"Hide all favorites from map\"\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                style={{ marginTop: \"1rem\", color: \"black\" }}\r\n                color=\"secondary\"\r\n                size={\"large\"}\r\n                onClick={props.handleMyLocationClick}\r\n                disabled={!store.mapLoaded}\r\n              >\r\n                <MyLocationTwoTone style={{ marginRight: \"1rem\" }} />\r\n                My location\r\n              </Button>\r\n            </div>\r\n          }\r\n        ></OptionsPanel>\r\n\r\n        <Box className={classes.panel_item}>{props.children}</Box>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default ControlPanel;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Paper,\r\n  makeStyles,\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Tooltip\r\n} from \"@material-ui/core\";\r\nimport {\r\n  ImageSearchRounded,\r\n  CenterFocusStrong,\r\n  ZoomOutMap\r\n} from \"@material-ui/icons\";\r\nimport RadiusSlider from \"./RadiusSlider\";\r\nimport StateContext from \"../../context/stateContext\";\r\nimport LocationSearch from \"./geoCodingBar/geoCodingBar\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  panel: {\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    flexFlow: \"column\"\r\n  },\r\n  panel_item: {\r\n    margin: \"8px\",\r\n    display: \"flex\"\r\n  },\r\n  wrapper: {\r\n    margin: \"0 0.5rem\"\r\n  },\r\n  divider: {\r\n    margin: \"1rem 0\"\r\n  },\r\n  control_icon: {\r\n    marginRight: \"1rem\"\r\n  },\r\n  search_photos_box: {\r\n    justifyContent: \"center\"\r\n  },\r\n  secondary_btn: {\r\n    margin: \"0 1rem\"\r\n  },\r\n  search_btn_box: {\r\n    margin: \"0.5rem 0\",\r\n    width: \"100%\"\r\n  }\r\n}));\r\n\r\nconst ControlPanelMobile = props => {\r\n  const classes = useStyles();\r\n  const store = useContext(StateContext);\r\n\r\n  const infoTextBox = `Zoom to the location that you want to search for photos and hit the search button.`;\r\n  // infoTextCircle is waiting for search by radius implementation\r\n  //   const infoTextCircle = `Drag the blue circle on the map to select the place where you want\r\n  // to search for photos, when done press the button below to make the request.`;\r\n\r\n  return (\r\n    <Paper className={classes.panel}>\r\n      <div className={classes.wrapper}>\r\n        {store.searchMethod === \"EXTENTS\" ? (\r\n          <>\r\n            <div style={{ marginTop: \"5px\" }}>{infoTextBox}</div>\r\n            <LocationSearch />\r\n            <Tooltip title=\"Search Photos\" aria-label=\"Search Photos\">\r\n              <Button\r\n                variant=\"contained\"\r\n                style={{ backgroundColor: \"#179207\" }}\r\n                size=\"large\"\r\n                onClick={props.searchFlikr}\r\n                className={classes.search_btn_box}\r\n              >\r\n                <ImageSearchRounded className={classes.control_icon} />\r\n                Search Photos\r\n              </Button>\r\n            </Tooltip>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <RadiusSlider setSearchRadius={props.setSearchRadius} />\r\n\r\n            <Divider className={classes.divider} />\r\n\r\n            <Box\r\n              className={classes.panel_item + \" \" + classes.search_photos_box}\r\n            >\r\n              <Tooltip title=\"Search Photos\" aria-label=\"Search Photos\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  style={{ backgroundColor: \"#179207\" }}\r\n                  size=\"medium\"\r\n                  onClick={props.searchFlikr}\r\n                  className={classes.secondary_btn}\r\n                >\r\n                  <ImageSearchRounded />\r\n                </Button>\r\n              </Tooltip>\r\n\r\n              <Tooltip\r\n                title=\"Move Search-Area to the Center of map\"\r\n                aria-label=\"Move Search-Area to the Center of map\"\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"medium\"\r\n                  className={classes.secondary_btn}\r\n                  onClick={props.centerSearchAreaOnMap}\r\n                >\r\n                  <CenterFocusStrong />\r\n                </Button>\r\n              </Tooltip>\r\n\r\n              <Tooltip\r\n                title=\"Zoom to Search-Area extents\"\r\n                aria-label=\"Zoom to Search-Area extents\"\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"medium\"\r\n                  className={classes.secondary_btn}\r\n                  onClick={props.zoomToSearchArea}\r\n                >\r\n                  <ZoomOutMap />\r\n                </Button>\r\n              </Tooltip>\r\n            </Box>\r\n          </>\r\n        )}\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default ControlPanelMobile;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Dialog,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Tooltip,\r\n  useMediaQuery\r\n} from \"@material-ui/core/\";\r\nimport {\r\n  ViewStream as Rows,\r\n  ViewWeek as Columns,\r\n  Close as CloseIcon\r\n} from \"@material-ui/icons/\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport StateContext from \"../../context/stateContext\";\r\nimport ImageGrid from \"../imageGrid/imageGrid\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBar: {\r\n    position: \"relative\"\r\n  },\r\n  title: {\r\n    flex: 1\r\n  },\r\n  direction_btn: {\r\n    margin: \"0 1rem\"\r\n  }\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FavoritesDialog(props) {\r\n  const classes = useStyles();\r\n  const store = useContext(StateContext);\r\n  const smSceen = useMediaQuery(\"(max-width:450px)\");\r\n\r\n  const [gridDirection, setGridDirection] = useState(\"row\");\r\n  const toggleGridDirection = () => {\r\n    setGridDirection(gridDirection === \"row\" ? \"column\" : \"row\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen\r\n        open={props.openFavorites}\r\n        onClose={props.handleCloseFavorites}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <Typography variant=\"h5\" component=\"h1\" className={classes.title}>\r\n              Favorites\r\n            </Typography>\r\n            {store.favorites.length > 0 && !smSceen && (\r\n              <Tooltip\r\n                title={\r\n                  gridDirection === \"column\"\r\n                    ? \"Display images as Rows\"\r\n                    : \"Display images as Columns\"\r\n                }\r\n                aria-label={\r\n                  gridDirection === \"column\"\r\n                    ? \"Display images as Rows\"\r\n                    : \"Display images as Columns\"\r\n                }\r\n              >\r\n                <IconButton\r\n                  className={classes.direction_btn}\r\n                  color=\"inherit\"\r\n                  onClick={toggleGridDirection}\r\n                >\r\n                  {gridDirection === \"column\" ? (\r\n                    <>\r\n                      <Rows className={classes.control_icon} />\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Columns className={classes.control_icon} />\r\n                    </>\r\n                  )}\r\n                </IconButton>\r\n              </Tooltip>\r\n            )}\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={props.handleCloseFavorites}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        {store.favorites && (\r\n          <ImageGrid\r\n            photos={store.favorites}\r\n            hiddenPhotos={store.hiddenPhotos}\r\n            responseDetails={props.responseDetails}\r\n            direction={smSceen ? \"column\" : gridDirection}\r\n            imageToggleFavorites={props.imageToggleFavorites}\r\n            openLightbox={props.openLightbox}\r\n            openFavorites={props.openFavorites}\r\n          />\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","/** in case window.map is undefined (not loaded/initialized):\r\n * mapWait() checks if google.maps is loaded before trying to access the window.map object\r\n * each time the check results to false it retries after 10ms, when the waitingTrheshold (3seconds) runs out it gives up\r\n * (at this point google maps probably failed for some other reason, like network error, or auth problems...)\r\n */\r\nexport const mapReady = cb => {\r\n  let waitingThreshold = 3000; //max number of milliseconds to wait for google.maps to initialize\r\n\r\n  const mapWait = () => {\r\n    if (waitingThreshold <= 0) {\r\n      stopTimer();\r\n      // alert(\"google maps cannot be loaded!\");\r\n      //display some error\r\n    }\r\n    if (window.map) {\r\n      cb();\r\n      stopTimer();\r\n    } else {\r\n      // console.log(\"waiting for maps....\");\r\n      waitingThreshold -= 10;\r\n    }\r\n  };\r\n  const timer = setInterval(mapWait, 10);\r\n  const stopTimer = () => clearInterval(timer);\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport StateContext from \"../../context/stateContext\";\r\nimport { makeStyles, IconButton } from \"@material-ui/core\";\r\nimport {\r\n  Close,\r\n  Fullscreen,\r\n  FullscreenExit,\r\n  Favorite,\r\n  FavoriteBorder\r\n} from \"@material-ui/icons\";\r\nimport { find as _find } from \"lodash\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  header_container: {\r\n    position: \"absolute\",\r\n    top: \"2px\",\r\n    left: \"2px\",\r\n    width: \"100vw\",\r\n    display: \"flex\",\r\n    zIndex: \"2000\",\r\n    justifyContent: \"space-between\", //\"flex-end\", to align btns to the right\r\n    transition: \"opacity 300ms\",\r\n    opacity: \"1\"\r\n  },\r\n  lightbox_btn: {\r\n    color: \"#fff\",\r\n    background: \"rgba(255, 255, 255, 0.2)\",\r\n    margin: \"2px\",\r\n    border: \"1px solid #00000024\",\r\n    \"&:hover\": {\r\n      boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\",\r\n      background: \"rgba(255, 255, 255, 0.3)\"\r\n    }\r\n  },\r\n  hide_on_idle: {\r\n    opacity: \"0\"\r\n  }\r\n}));\r\n\r\nconst LightBoxHeader = props => {\r\n  /*most props like carouselProps, interactionIsIdle etc are passed by default props react-photo-gallery*/\r\n  const classes = useStyles();\r\n  const store = useContext(StateContext);\r\n  const isFavorite = _find(\r\n    store.favorites,\r\n    el => el.photoId === props.currentView.photoId\r\n  )\r\n    ? true\r\n    : false;\r\n\r\n  return props.isModal ? (\r\n    <div\r\n      className={\r\n        props.interactionIsIdle\r\n          ? classes.header_container + \" \" + classes.hide_on_idle\r\n          : classes.header_container\r\n      }\r\n    >\r\n      <IconButton\r\n        aria-label=\"Pin photo on map\"\r\n        className={classes.lightbox_btn}\r\n        onClick={props.carouselProps.imageToggleFavorites.bind(\r\n          this,\r\n          props.data,\r\n          isFavorite\r\n        )}\r\n      >\r\n        {isFavorite ? (\r\n          <Favorite style={{ color: \"gold\" }} />\r\n        ) : (\r\n          <FavoriteBorder />\r\n        )}\r\n      </IconButton>\r\n\r\n      <div className={classes.btn_container_right}>\r\n        <IconButton\r\n          aria-label=\"toggle fullscreen\"\r\n          className={classes.lightbox_btn}\r\n          edge=\"start\"\r\n          onClick={props.modalProps.toggleFullscreen}\r\n        >\r\n          {props.modalProps.isFullscreen ? <FullscreenExit /> : <Fullscreen />}\r\n        </IconButton>\r\n\r\n        {!props.modalProps.isFullscreen && (\r\n          <IconButton\r\n            aria-label=\"Close\"\r\n            className={classes.lightbox_btn}\r\n            edge=\"start\"\r\n            onClick={props.modalProps.onClose}\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        )}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default LightBoxHeader;\r\n","import React from \"react\";\r\n\r\nconst LightBoxViewRenderer = props => {\r\n  /** By default react-images carousel requests/loads all images that are passed to it\r\n   * this custom viewRenderer changes that behaviour and requests each image one by one when it's about to render it\r\n   * more on the issue:-->  https://github.com/jossmac/react-images/issues/300 */\r\n  const overScanCount = 1;\r\n  const { data, getStyles, index, currentIndex } = props;\r\n  const { alt, src } = data;\r\n\r\n  return Math.abs(currentIndex - index) <= overScanCount ? (\r\n    <div style={getStyles(\"view\", props)}>\r\n      <img\r\n        alt={alt || `Image ${index}`}\r\n        src={src}\r\n        style={{\r\n          height: \"auto\",\r\n          maxHeight: \"100vh\",\r\n          maxWidth: \"100%\",\r\n          userSelect: \"none\"\r\n        }}\r\n      />\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default LightBoxViewRenderer;\r\n","import React from \"react\";\r\nimport { AutoRotatingCarousel, Slide } from \"material-auto-rotating-carousel\";\r\nimport { makeStyles, useMediaQuery } from \"@material-ui/core/\";\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport SLIDE1 from \"../../assets/SLIDE1.png\";\r\nimport SLIDE2 from \"../../assets/SLIDE2.png\";\r\nimport SLIDE3 from \"../../assets/SLIDE3.png\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  content: {\r\n    maxHeight: \"700px\"\r\n  },\r\n  slide_text: {\r\n    maxWidth: \"90%\"\r\n  },\r\n  slide_text_mobile: {\r\n    paddingTop: \"8px\"\r\n  },\r\n  slide_title: {\r\n    whiteSpace: \"initial\",\r\n    lineHeight: \"23px\",\r\n    fontSize: \"22px\"\r\n  },\r\n  image: {\r\n    maxWidth: \"100%\"\r\n  }\r\n}));\r\n\r\nconst CarouselShowCase = props => {\r\n  const classes = useStyles();\r\n  const smScreen = useMediaQuery(\"(max-width:450px)\");\r\n\r\n  return (\r\n    <div\r\n      style={{ position: \"relative\", width: \"100%\", height: 65 }}\r\n      className=\"wrapper\"\r\n    >\r\n      <AutoRotatingCarousel\r\n        mobile={smScreen}\r\n        autoplay={true}\r\n        interval={3500}\r\n        label=\"Get Started\"\r\n        open={props.open}\r\n        onClose={props.closeCarousel}\r\n        onStart={props.closeCarousel}\r\n        style={{ position: \"absolute\", color: \"orange\" }}\r\n        // classes={{ content: classes.content }}\r\n      >\r\n        <Slide\r\n          media={\r\n            <img\r\n              src={SLIDE1}\r\n              alt=\"Flickr Api plus Maps\"\r\n              className={classes.image}\r\n            />\r\n          }\r\n          mediaBackgroundStyle={{ backgroundColor: green[400] }}\r\n          classes={{\r\n            textMobile: classes.slide_text_mobile,\r\n            text: classes.slide_text,\r\n            title: classes.slide_title\r\n          }}\r\n          style={{ backgroundColor: green[700] }}\r\n          title=\"Query Flickr's photos with one click\"\r\n          subtitle=\"World Gallery is a Web App that lets you query Flickr public photos by the location that they were taken.\"\r\n        />\r\n\r\n        <Slide\r\n          media={\r\n            <img\r\n              src={SLIDE3}\r\n              alt=\"Results are pinned on the Map\"\r\n              className={classes.image}\r\n            />\r\n          }\r\n          mediaBackgroundStyle={{ backgroundColor: green[400] }}\r\n          classes={{\r\n            textMobile: classes.slide_text_mobile,\r\n            text: classes.slide_text,\r\n            title: classes.slide_title\r\n          }}\r\n          style={{ backgroundColor: green[700] }}\r\n          title=\"Results are pinned on the spot they where taken*\"\r\n          subtitle={`*On average a photo taken with a camera with a GPS or a smartphone will have an error of 5-15 meters.\r\n              No spatial accuracy can be guaranteed for photos where geolocation was set explicitly.`}\r\n        />\r\n\r\n        <Slide\r\n          media={\r\n            <img\r\n              src={SLIDE2}\r\n              alt=\"Powered by Google Geocoding API, Place Autocomplete and Google Maps\"\r\n              className={classes.image}\r\n            />\r\n          }\r\n          mediaBackgroundStyle={{ backgroundColor: green[400] }}\r\n          classes={{\r\n            textMobile: classes.slide_text_mobile,\r\n            text: classes.slide_text,\r\n            title: classes.slide_title\r\n          }}\r\n          style={{ backgroundColor: green[700] }}\r\n          title=\"Geolocation search for easy localization\"\r\n          subtitle={`Powered by Google's Geocoding and Location Autocomplete to quickly center the desired\r\n           country, city, landmark, establishment or address on the map.`}\r\n        />\r\n      </AutoRotatingCarousel>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CarouselShowCase;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useCallback,\r\n  Suspense,\r\n  lazy\r\n} from \"react\";\r\nimport * as FlikrApi from \"./requests/flikr\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport StateContext from \"./context/stateContext\";\r\nimport DispatchContext from \"./context/dispatchContext\";\r\nimport {\r\n  SET_BOUNDING_BOX,\r\n  SET_USER_LOCATION,\r\n  SET_SEARCH_CENTER,\r\n  SET_SEARCH_RADIUS,\r\n  SET_PHOTOS,\r\n  UPDATE_PHOTOS,\r\n  ADD_IMG_TO_FAVORITES,\r\n  REMOVE_IMG_FROM_FAVORITES,\r\n  SET_MAP_LOADED\r\n} from \"./context/rootReducer\";\r\n\r\nimport Appbar from \"./components/appBar/appBar\";\r\nimport ImageGrid from \"./components/imageGrid/imageGrid\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport LoadMoreButton from \"./components/controls/loadMoreBtn\";\r\nimport LoadingBar from \"./components/LoadingBar/loadingBar\";\r\nimport ControlPanel from \"./components/controlPanel/controlPanel\";\r\nimport ControlPanelMobile from \"./components/controlPanel/controlPanelMobile\";\r\nimport FavoritesDialog from \"./components/favorites/FavoritesDialog\";\r\nimport { mapReady } from \"./helpers/helpers\";\r\n\r\nimport LightBoxHeader from \"./components/lightboxComponents/lightboxHeader\";\r\nimport LightBoxViewRenderer from \"./components/lightboxComponents/lightboxViewRenderer\";\r\nimport Carousel, { Modal, ModalGateway } from \"react-images\";\r\nimport { useMinScreenWidth } from \"./helpers/CustomHooks/useMinScreenWidth\";\r\n\r\nimport CarouselShowCase from \"./components/CarouselShowCase/carouselShowCase\";\r\n\r\nconst MapWrapper = lazy(() => import(\"./components/map/mapContainer\"));\r\nconst navButtonStyles = base => ({\r\n  ...base,\r\n  background: \"rgba(255, 255, 255, 0.2)\",\r\n  \"&:hover, &:active\": {\r\n    boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\",\r\n    background: \"rgba(255, 255, 255, 0.3)\"\r\n  },\r\n  \"&:active\": {\r\n    boxShadow: \"0 1px 3px rgba(0, 0, 0, 0.14)\",\r\n    transform: \"scale(0.96)\"\r\n  }\r\n});\r\n\r\nconst imagePositionerStyles = base => ({\r\n  ...base,\r\n  zIndex: \"5500\"\r\n});\r\nconst blanketStyles = base => ({\r\n  ...base,\r\n  zIndex: \"5000\"\r\n});\r\n\r\nfunction App() {\r\n  const store = useContext(StateContext);\r\n  const dispatch = useContext(DispatchContext);\r\n\r\n  const smSceen = useMediaQuery(\"(max-width:450px)\");\r\n\r\n  /** Top user benefits (Auto Rotating Carousel) */\r\n  const [carouselOpen, setCarouselOpen] = useState(true);\r\n  const closeCarousel = () => setCarouselOpen(false);\r\n  /**Favorites Dialog */\r\n  const [openFavorites, setOpenFavorites] = React.useState(false);\r\n  const handleOpenFavorites = () => {\r\n    setOpenFavorites(true);\r\n  };\r\n\r\n  const handleCloseFavorites = () => {\r\n    setOpenFavorites(false);\r\n  };\r\n\r\n  /**LightBox */\r\n  /**explicitly hide appbar if the lightbox is open (prevents appbar overlay with image in lightbox) */\r\n  const [appBarHide, setAppBarHide] = useState(false);\r\n\r\n  const [currentImage, setCurrentImage] = useState(0);\r\n  const [viewerIsOpen, setViewerIsOpen] = useState(false);\r\n\r\n  const openLightboxSinglePhoto = (event, { photo, index }) => {\r\n    setAppBarHide(true);\r\n    setCurrentImage(0);\r\n    setViewerIsOpen({ photo });\r\n  };\r\n\r\n  const openLightbox = useCallback(\r\n    (event, { photo, index }) => {\r\n      setAppBarHide(true);\r\n      setCurrentImage(index);\r\n      setViewerIsOpen(true);\r\n    },\r\n    [setAppBarHide]\r\n  );\r\n\r\n  const closeLightbox = () => {\r\n    setCurrentImage(0);\r\n    setViewerIsOpen(false);\r\n    setAppBarHide(false);\r\n  };\r\n\r\n  /** End LightBox */\r\n  const setMapLoaded = () => {\r\n    dispatch({\r\n      type: SET_MAP_LOADED,\r\n      mapLoaded: true\r\n    });\r\n  };\r\n\r\n  const resultsRef = React.useRef(null);\r\n\r\n  /**sorting filters for the results */\r\n  const [sortMethod, setSortMethod] = useState(\"date-posted-desc\");\r\n  const handeSelectSortMethod = event => {\r\n    setSortMethod(event.target.value);\r\n  };\r\n\r\n  /** option text for search */\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const handleTextQueryChange = (e, clearText) => {\r\n    setSearchText(e.target.value);\r\n  };\r\n  const clearTextQuery = () => setSearchText(\"\");\r\n\r\n  const [loadingPhotos, setLoadingPhotos] = useState(false);\r\n  const [triggerZoom, setTriggerZoom] = useState(false);\r\n  const [triggerCenter, setTriggerCenter] = useState(false);\r\n\r\n  const zoomToSearchArea = () => setTriggerZoom(true);\r\n  const disableZoom = useCallback(() => setTriggerZoom(false), [\r\n    setTriggerZoom\r\n  ]);\r\n  const centerSearchAreaOnMap = () => setTriggerCenter(true);\r\n  const disableCenter = useCallback(() => setTriggerCenter(false), [\r\n    setTriggerCenter\r\n  ]);\r\n\r\n  const [mapVisible, setMapVisible] = useState(true); //REFACTOR FOR MAP TO COLLAPSE (height:0) OR DELETE METHOD\r\n  const [responseDetails, setResponseDetails] = useState(null);\r\n\r\n  const [gridDirection, setGridDirection] = useState(\"row\");\r\n  const toggleGridDirection = () => {\r\n    setGridDirection(gridDirection === \"row\" ? \"column\" : \"row\");\r\n  };\r\n\r\n  /** Triggers plot photo on map  */\r\n  // const [triggerPhotoMarker, setTriggerPhotoMarker] = useState(false);\r\n  // const disableTriggerPhotoMarker = () => setTriggerPhotoMarker(false);\r\n\r\n  /** Markers trigger */\r\n  const [displayPhotoMarkers, setDisplayPhotoMarkers] = useState(true);\r\n  const togglePhotoMarkerDisplay = useCallback(() => {\r\n    setDisplayPhotoMarkers(!displayPhotoMarkers);\r\n  }, [setDisplayPhotoMarkers, displayPhotoMarkers]);\r\n\r\n  const [displayFavorites, setDisplayFavorites] = useState(true);\r\n  // const toggleFavorites = useCallback(() => {\r\n  //   setDisplayFavorites(!displayFavorites);\r\n  // }, [setDisplayFavorites, displayFavorites]);\r\n\r\n  const toggleFavorites = () => setDisplayFavorites(!displayFavorites);\r\n\r\n  const imageToggleFavorites = useCallback(\r\n    (img, isFavorite) => {\r\n      console.log(isFavorite);\r\n      if (!isFavorite) {\r\n        dispatch({\r\n          type: ADD_IMG_TO_FAVORITES,\r\n          image: img\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: REMOVE_IMG_FROM_FAVORITES,\r\n          image: img\r\n        });\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  /* triggerPlotRadiusMarkerOnMap allows calling methods from anywhere inside mapContainer */\r\n  const [\r\n    triggerPlotRadiusMarkerOnMap,\r\n    setTtriggerPlotRadiusMarkerOnMap\r\n  ] = useState(false);\r\n\r\n  const disableRadiusTrigger = useCallback(\r\n    () => setTtriggerPlotRadiusMarkerOnMap(false),\r\n    [setTtriggerPlotRadiusMarkerOnMap]\r\n  );\r\n  /**Bounds */\r\n  // const [triggerBoundingBox, setTriggerBoundingBox] = useState(false);\r\n  // const pinBoundingBoxOnMap = () => setTriggerBoundingBox(true);\r\n  // const disableBoundingBoxTrigger = () => setTriggerBoundingBox(false);\r\n  const [triggerMapExtents, setTriggerMapExtents] = useState(false);\r\n  const disableMapExtentsTrigger = useCallback(\r\n    () => setTriggerMapExtents(false),\r\n    [setTriggerMapExtents]\r\n  );\r\n\r\n  // const getMapExtents = () => {\r\n  //   dispatch({\r\n  //     type: SET_BOUNDING_BOX,\r\n  //     bounds: window.map.getBounds().toJSON()\r\n  //   });\r\n  // };\r\n\r\n  const toggleMap = () => {\r\n    const prevState = mapVisible;\r\n    setMapVisible(!prevState);\r\n  };\r\n\r\n  const searchFlikr = () => {\r\n    console.log(\"fetching...\");\r\n    let searchParams;\r\n    // if (store.boundingBox) {\r\n    //   searchParams = { ...store.boundingBox, type: \"boundingBox\" };\r\n    // } else if (store.radiusMarker) {\r\n    //   searchParams = { ...store.radiusMarker, type: \"radiusMarker\" };\r\n    // } else {\r\n    //   searchParams = {\r\n    //     ...store.radiusMarker,\r\n    //     search: \"Search String goes here\"\r\n    //   };\r\n    // }\r\n    switch (store.searchMethod) {\r\n      case \"CIRCLE\":\r\n        searchParams = {\r\n          lat: store.searchCenter.lat,\r\n          lng: store.searchCenter.lng,\r\n          radius: store.searchRadius,\r\n          searchMethod: store.searchMethod,\r\n          resultsPerPage: store.resultsPerPage,\r\n          minUploadDate: store.minUploadDate,\r\n          maxUploadDate: store.maxUploadDate,\r\n          minTakenDate: store.minTakenDate,\r\n          maxTakenDate: store.maxTakenDate,\r\n          sortMethod,\r\n          searchText\r\n        };\r\n        break;\r\n      case \"EXTENTS\":\r\n        const bounds = window.map ? window.map.getBounds().toJSON() : \"error\";\r\n        searchParams = {\r\n          searchMethod: store.searchMethod,\r\n          minUploadDate: store.minUploadDate,\r\n          maxUploadDate: store.maxUploadDate,\r\n          minTakenDate: store.minTakenDate,\r\n          maxTakenDate: store.maxTakenDate,\r\n          resultsPerPage: store.resultsPerPage,\r\n          bounds,\r\n          sortMethod,\r\n          searchText\r\n        };\r\n        break;\r\n      default:\r\n        console.log(\"invalid searchMethod\");\r\n        return;\r\n    }\r\n\r\n    setLoadingPhotos(true);\r\n    FlikrApi.getPhotosByTitle(searchParams)\r\n      .then(data => {\r\n        setLoadingPhotos(false);\r\n        setResponseDetails({\r\n          ...data\r\n        });\r\n        dispatch({\r\n          type: SET_PHOTOS,\r\n          photos: data.photos\r\n        });\r\n\r\n        /* if scrollIntoView is called syncronously there is a chance that the images are not loaded yet\r\n         * thus the body is still the same height and the element simply cannot be scrolled to. instead:\r\n         *  When the response is loaded wait 100ms for the body to resize (while image gallery loads),\r\n         * then scroll to the results (an empty div right above the results was used in order to avoid forwardingRefs)         *\r\n         */\r\n        window.setTimeout(() => {\r\n          resultsRef.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"center\"\r\n          });\r\n        }, 100);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setLoadingPhotos(false);\r\n      });\r\n  };\r\n\r\n  const fetchNextPage = () => {\r\n    console.log(\"fetching next page...\");\r\n    // let searchParams;\r\n    // if (responseDetails.query.type === \"boundingBox\") {\r\n    //   searchParams = { ...responseDetails.query };\r\n    // } else if (store.radiusMarker) {\r\n    //   searchParams = { ...responseDetails.query };\r\n    // }\r\n    const searchParams = {\r\n      ...responseDetails,\r\n      resultsPerPage: responseDetails.perPage\r\n    };\r\n    if (responseDetails.currentPage < responseDetails.totalPages) {\r\n      searchParams.page = responseDetails.currentPage + 1;\r\n    }\r\n    console.log(searchParams);\r\n    setLoadingPhotos(true);\r\n\r\n    FlikrApi.getPhotosByTitle(searchParams)\r\n      .then(data => {\r\n        setLoadingPhotos(false);\r\n\r\n        setResponseDetails({\r\n          ...data\r\n        });\r\n        dispatch({\r\n          type: UPDATE_PHOTOS,\r\n          photos: data.photos\r\n        });\r\n      })\r\n      .catch(error => {\r\n        setLoadingPhotos(false);\r\n      });\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   //debugging only\r\n  //   console.log(store);\r\n  //   console.log(responseDetails); // IF RESPONSE DETAILS RETURNS ERROR THE APP CAN CRASH\r\n  // }, [store, responseDetails]);\r\n\r\n  useEffect(() => {\r\n    //debugging only\r\n    console.log(store.filteredPhotos);\r\n  }, [store.filteredPhotos]);\r\n\r\n  useEffect(\r\n    () => {\r\n      /*fetch user location when app mounts*/\r\n      fetch(\"https://geoip-db.com/json/42e6a770-b3ac-11e9-80ca-c95181800da7\")\r\n        .then(res => res.json())\r\n        .then(position => {\r\n          dispatch({\r\n            type: SET_USER_LOCATION,\r\n            userLocation: { lat: position.latitude, lng: position.longitude }\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // eslint-disable-next-line\r\n    []\r\n  );\r\n\r\n  const zoomToLocation = location => {\r\n    const zoom = () => {\r\n      window.map.panTo(location);\r\n      window.map.setZoom(16);\r\n    };\r\n    mapReady(zoom);\r\n  };\r\n\r\n  const handleMyLocationClick = () => {\r\n    if (store.userLocation) {\r\n      zoomToLocation(store.userLocation);\r\n    } else {\r\n      /* if geoip-db call failed or if it was blocked by an add-blocker use native geolocation API */\r\n      const success = position => {\r\n        zoomToLocation({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        });\r\n        dispatch({\r\n          type: SET_USER_LOCATION,\r\n          userLocation: {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          }\r\n        });\r\n      };\r\n      if (\"geolocation\" in navigator) {\r\n        navigator.geolocation.getCurrentPosition(success, err =>\r\n          console.log(err)\r\n        );\r\n      } else {\r\n        alert(\"Sorry geolocation is not supported by your broweser.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const setBounds = useCallback(\r\n    bounds => {\r\n      dispatch({\r\n        type: SET_BOUNDING_BOX,\r\n        boundingBox: bounds\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  // const getRadiusMarkerCoordinates = marker => {\r\n  //   dispatch({\r\n  //     type: SET_RADIUS_MARKER,\r\n  //     radiusMarker: marker\r\n  //   });\r\n  // };\r\n\r\n  const setSearchCenter = useCallback(\r\n    center => {\r\n      dispatch({\r\n        type: SET_SEARCH_CENTER,\r\n        searchCenter: center\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setSearchRadius = radius => {\r\n    dispatch({\r\n      type: SET_SEARCH_RADIUS,\r\n      searchRadius: radius\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Appbar\r\n        toggleMap={toggleMap}\r\n        appBarHide={appBarHide}\r\n        photos={responseDetails ? responseDetails.totalPages : 0}\r\n        toggleGridDirection={toggleGridDirection}\r\n        gridDirection={gridDirection}\r\n        handeSelectSortMethod={handeSelectSortMethod}\r\n        sortMethod={sortMethod}\r\n        handleTextQueryChange={handleTextQueryChange}\r\n        clearTextQuery={clearTextQuery}\r\n        searchText={searchText}\r\n        searchFlikr={searchFlikr}\r\n        handleMyLocationClick={handleMyLocationClick}\r\n        togglePhotoMarkerDisplay={togglePhotoMarkerDisplay}\r\n        toggleFavorites={toggleFavorites}\r\n        displayPhotoMarkers={displayPhotoMarkers}\r\n        displayFavorites={displayFavorites}\r\n        handleOpenFavorites={handleOpenFavorites}\r\n      >\r\n        <section\r\n          style={\r\n            useMinScreenWidth(900)\r\n              ? { display: \"flex\", height: \"calc(100vh - 7px - 64px)\" } //7px margins, 64appbar\r\n              : {\r\n                  display: \"flex\",\r\n                  height: \"calc(100vh - 7px - 64px )\",\r\n                  flexFlow: \"column\"\r\n                }\r\n          }\r\n        >\r\n          {useMinScreenWidth(900) && (\r\n            <ControlPanel\r\n              setSearchRadius={setSearchRadius}\r\n              searchFlikr={searchFlikr}\r\n              loadingPhotos={loadingPhotos}\r\n              zoomToSearchArea={zoomToSearchArea}\r\n              centerSearchAreaOnMap={centerSearchAreaOnMap}\r\n              sortMethod={sortMethod}\r\n              handeSelectSortMethod={handeSelectSortMethod}\r\n              handleTextQueryChange={handleTextQueryChange}\r\n              clearTextQuery={clearTextQuery}\r\n              searchText={searchText}\r\n              zoomToLocation={zoomToLocation}\r\n              togglePhotoMarkerDisplay={togglePhotoMarkerDisplay}\r\n              toggleFavorites={toggleFavorites}\r\n              displayPhotoMarkers={displayPhotoMarkers}\r\n              displayFavorites={displayFavorites}\r\n              handleMyLocationClick={handleMyLocationClick}\r\n            ></ControlPanel>\r\n          )}\r\n          {!useMinScreenWidth(900) && (\r\n            <ControlPanelMobile\r\n              setSearchRadius={setSearchRadius}\r\n              searchFlikr={searchFlikr}\r\n              loadingPhotos={loadingPhotos}\r\n              zoomToSearchArea={zoomToSearchArea}\r\n              centerSearchAreaOnMap={centerSearchAreaOnMap}\r\n              sortMethod={sortMethod}\r\n              handeSelectSortMethod={handeSelectSortMethod}\r\n              handleTextQueryChange={handleTextQueryChange}\r\n              searchText={searchText}\r\n            />\r\n          )}\r\n          <Suspense fallback={<Skeleton variant=\"rect\" />}>\r\n            <MapWrapper\r\n              setMapLoaded={setMapLoaded}\r\n              photos={store.filteredPhotos}\r\n              favorites={store.favorites}\r\n              userLocation={store.userLocation}\r\n              setSearchCenter={setSearchCenter}\r\n              searchRadius={store.searchRadius}\r\n              // /** */\r\n              displayPhotoMarkers={displayPhotoMarkers}\r\n              displayFavorites={displayFavorites}\r\n              setBounds={setBounds}\r\n              // /**triggerGetMapExtents */\r\n              triggerMapExtents={triggerMapExtents}\r\n              disableMapExtentsTrigger={disableMapExtentsTrigger}\r\n              // /* photoMarker*/\r\n              // triggerPhotoMarker={triggerPhotoMarker}\r\n              // disableTriggerPhotoMarker={disableTriggerPhotoMarker}\r\n              // /* radius marker */\r\n              triggerPlotRadiusMarkerOnMap={triggerPlotRadiusMarkerOnMap}\r\n              disableRadiusTrigger={disableRadiusTrigger}\r\n              // /* boundingBox Trigger */\r\n              // // triggerBoundingBox={triggerBoundingBox}\r\n              // // disableBoundingBoxTrigger={disableBoundingBoxTrigger}\r\n              // /* triggeer zoom to search area */\r\n              triggerZoom={triggerZoom}\r\n              disableZoom={disableZoom}\r\n              // /* trigger center search area on map */\r\n              triggerCenter={triggerCenter}\r\n              disableCenter={disableCenter}\r\n              // /**ScreenSize */\r\n              screenWidth900px={useMinScreenWidth(900)}\r\n              openLightbox={openLightboxSinglePhoto}\r\n            />\r\n          </Suspense>\r\n        </section>\r\n\r\n        <div ref={resultsRef}></div>\r\n        {store.filteredPhotos && (\r\n          <ImageGrid\r\n            photos={store.filteredPhotos}\r\n            hiddenPhotos={store.hiddenPhotos}\r\n            responseDetails={responseDetails}\r\n            direction={smSceen ? \"column\" : gridDirection}\r\n            imageToggleFavorites={imageToggleFavorites}\r\n            openFavorites={openFavorites}\r\n            // setAppBarHide={setAppBarHide}\r\n            openLightbox={openLightbox}\r\n          />\r\n        )}\r\n\r\n        {responseDetails &&\r\n          responseDetails.currentPage < responseDetails.totalPages && (\r\n            <>\r\n              {loadingPhotos && <LoadingBar />}\r\n              <LoadMoreButton onClick={fetchNextPage} />\r\n            </>\r\n          )}\r\n      </Appbar>\r\n      <ModalGateway>\r\n        {viewerIsOpen && (\r\n          <Modal\r\n            onClose={closeLightbox}\r\n            styles={{\r\n              blanket: blanketStyles,\r\n              positioner: imagePositionerStyles\r\n            }}\r\n          >\r\n            <Carousel\r\n              imageToggleFavorites={imageToggleFavorites}\r\n              components={{\r\n                Header: LightBoxHeader,\r\n                View: LightBoxViewRenderer\r\n              }}\r\n              currentIndex={currentImage}\r\n              views={\r\n                // if viewerIsOpen has a .photo property then open a single photo,\r\n                // else if favorites is open render favorites else render normal carousel\r\n                viewerIsOpen.photo\r\n                  ? [\r\n                      {\r\n                        ...viewerIsOpen.photo,\r\n                        srcset: viewerIsOpen.photo.srcSet,\r\n                        caption: viewerIsOpen.photo.title\r\n                      }\r\n                    ]\r\n                  : openFavorites\r\n                  ? store.favorites.map(x => ({\r\n                      ...x,\r\n                      srcset: x.srcSet,\r\n                      caption: x.title\r\n                    }))\r\n                  : store.filteredPhotos.map(x => ({\r\n                      ...x,\r\n                      srcset: x.srcSet,\r\n                      caption: x.title\r\n                    }))\r\n              }\r\n              styles={{\r\n                navigationPrev: navButtonStyles,\r\n                navigationNext: navButtonStyles\r\n              }}\r\n            />\r\n          </Modal>\r\n        )}\r\n      </ModalGateway>\r\n      {openFavorites && (\r\n        <FavoritesDialog\r\n          openFavorites={openFavorites}\r\n          handleCloseFavorites={handleCloseFavorites}\r\n          responseDetails={responseDetails}\r\n          imageToggleFavorites={imageToggleFavorites}\r\n          openLightbox={openLightbox}\r\n        />\r\n      )}\r\n      {carouselOpen && (\r\n        <CarouselShowCase open={carouselOpen} closeCarousel={closeCarousel} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Store from \"./context/store\";\n\nReactDOM.render(\n  <Store>\n    <CssBaseline />\n    <App />\n  </Store>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useReducer } from \"react\";\r\n\r\nimport rootReducer from \"./rootReducer\";\r\nimport StateContext from \"./stateContext\";\r\nimport DispatchContext from \"./dispatchContext\";\r\n\r\nexport default function Store(props) {\r\n  const initialState = {\r\n    boundingBox: null, // remove?\r\n    radiusMarker: null, // remove?\r\n    //\r\n    mapLoaded: false,\r\n    searchMethod: \"EXTENTS\", // \"CIRCLE\" or \"BOX\"?\r\n    resultsPerPage: 30,\r\n    userLocation: null,\r\n    searchRadius: 3,\r\n    searchCenter: { lat: 48.80582620218145, lng: 2.1164958494489383 }, //paris, versailles,\r\n    photos: null,\r\n    filteredPhotos: null,\r\n    hiddenPhotos: [],\r\n    favorites: [],\r\n    blockedUsers: [],\r\n    minUploadDate: false,\r\n    maxUploadDate: false,\r\n    minTakenDate: false,\r\n    maxTakenDate: false\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(rootReducer, initialState);\r\n\r\n  return (\r\n    <DispatchContext.Provider value={dispatch}>\r\n      <StateContext.Provider value={state}>\r\n        {props.children}\r\n      </StateContext.Provider>\r\n    </DispatchContext.Provider>\r\n  );\r\n}\r\n"],"sourceRoot":""}