(window["webpackJsonpflickr-explorer"]=window["webpackJsonpflickr-explorer"]||[]).push([[3],{446:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVRYhc2XsU8TURzHP1ehKQWJgILEzRhhMUqLEqIDw90AXSAsBBYHRhKYmN39G2CDjYGhxOStCoEEjIYBiFGjCQGiULDApdQ7h75XrnB37eER/SUv13u/vvf93K+/+/X9NNu2ATAMowqIAFF5rSJcywMWkAMsIUQeQLNtW4lHgZgcUQkQCUnckgA5wJQjJ4TIa7quK/E4UC+vMa4nAiZwAhzJa049ZUyKNwshlkIWLjHDMLrlRwvIO0MfF0IsfRoZ4XhtDXNjI1ThWHs7tYkEQoglwzAeIX8GZ+LFgGsRBy7uqfIsorJdjWsRd4EoaqosDyvbg1jkXwlfpvhvAW729PDk2zfuvXp1yXd3YoKO7W2ahob+CkDTdb0RuA00CiGWljUNgC5Zop22UlODbZquPrWunHUVKm83sA/8cI3A/elp18XPTk9dxQGemmZFABfNFeBGfX3ZhVsDA6y1tpI/POQgnWY9kThf39hIcn+fZCZDVXOz7z6u9f53Nuu7aDOVoi2dLt43pFI0pFIsaxqJnR2qW1qKvuTuLqebm3xsb3fdyzUCn1++9BTfGhwsEXdal22XiCuraWvz3M/zLdh+/dp1/tfbt56b+VkkHg8G8H1ykuPV1UvzN1+8uBKAdXISDABgvbOTvampkrmHc3N8HR+/EkRgAIAvo6Ns9PaWzN3xyRE386sRFZXiwzdvWGttLd5/HRuruPAsV1f7+is+dp3t7LCZSnGrr4/s4mJhc03zLEzKX84CnfsyCwtkFhYuifxNaQ7l33BZ07DPzgKLhwYAsBKNcjA/H0jcCWCFAbHV3x/k65YCyDsGMY+aHYY59i5qRjhvl0yA2kTiWiDUsVyaKTUtTdf1KFAH3MKnMfk0MsLP2dmKxJqGh3kwM+Pqk4eRPSADZKsoRMCk0C4hmwZnaxYBEEK8A8pCKHHDMJ7LKZVfF1szE7AqaU6LZ3ghxKpfJBziSUpzy7s5LdOeq6uzfXvvBuEQ75BPqX5nJ4B7e+5nEixGIU/qJMQHJ4RD/LEUz8phKiEvKwvgAVGnIgE4nzxLAPGKAVwg6iXEqvQlpehREPFAABcg4nJEpStHIfQnQcQDAzggVFKqV1W9Yrkg4gB/AEq+djdASXN9AAAAAElFTkSuQmCC"},447:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVRYhcWXP0wTURyAv5am1KY0JRJMCEkDQhxQREmMooREe4mDOKiDcXEE4wIOrq5uxIFBw2RcSUxYNM8YFgKDRCViTGwkTfwHBUVoylkuV4e+V694tH2llV/y8tp3l/d99+737u7nyWazABiG4QO8gF/2PqobFmADGcAWQlgAnmw2q+B+ICCbXwp4qwS3pUAGMGXLCCEsTywWU/AgEJZ9gNqsgAmkgQ3ZZ9RVBiS8WQgxW2VwQRiGcUb+tAHLufRBIcTs0GiChcU0Hz/9riq4s72e7q4gQohZwzCOIW+DM/ECQE3gwM45VZ55VbarVhO4i0SeqbK8WtmuE979Av9rsZ9R1l5vbvLxfu5o/n9bzwKbKfv/CaysWjR1vKkKUFtgNd6zJ0Ap8Yoet2pSNzknsBz5igTUxM9f/uL78jatLX4uDITLhu5ZYO2Hxe27CV5Mb+bHBvpCTD7u0J6rom145NQ7Ll+MsBrvybf+voaKElVbYPHDFgA3rh0sGB8ZPgTA56+Z2gok16yix9Nbes8HbYGT3UEAvi1vF4zHl0wAWlv8tRUIN9TxaCzK8J0Ec69SLCe3mZ7Z5OatJSYeRAke0Juyol1wZbCRSKSOS9fj+bGnTw5z7nSD9lwlde/d/+I6fr4/XLAL3OBTz9Zpixa/JSVXYHwiyfhEstRpFce+v46VQHXerXphKwHL0ehsr68Z0TF3nunlb7lkAnR3BWsioT7LZZiSaXtisZgfCAERihQmQ6MJJqd+lgW7OtjIw7Go6zFZmKwA60DKR24FTHLlErJocJZmXgAhxAxQUkLBDcM4K4dUfu0szUzALqc4zX/DCyHmi62EA95LYW7tXpyWKM9V7yzfXrtJOOAn5FWq++wUcC/Pi4UUC5DLk5CUeOuUcMCPS3hKNlOBdouSArtIhNRKAM4rT6EBL1vARSIsJeblsV4J3dCBawnskAjKpt40GXJLn9aBaws4JFRSqq2qtlhGBw7wBzAAVz/sPdCmAAAAAElFTkSuQmCC"},448:function(t,o,e){"use strict";e.r(o);var n=e(13),i=e(92),r=e(48),a=e(79),s=e(66);function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,o){return(l=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}var c=e(0),d=e.n(c),h=e(446),w=e.n(h),A=e(447),u=e.n(A);function g(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?g(e,!0).forEach((function(o){Object(n.a)(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(e).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}var m=function(t,o){return'\n  <h1 style="font-size:1rem;text-align:center;"> '.concat(t.title?t.title:"untitled photo",' </h1>\n  <img id="image-info" title="').concat(t.title?t.title:"untitled photo",'" data-src=').concat(t.src," data-photoid=").concat(t.photoId,' style="margin: 0 auto;display: block;cursor:pointer;" \n    src=').concat(t.thumb,' alt="').concat(t.title,'" >\n  <a \n    title="open photo in flickr"\n    style="background-color: #3f51b5;\n    width: ').concat(t.width_t,'px;\n    color: white;\n    padding: 4px 5px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    text-align: center;\n    margin: 0 auto 0.5rem ;\n    display: block;" \n    href=https://www.flickr.com/photos/').concat(t.owner,"/").concat(t.photoId,'\n    target="_blank">View in flickr\n  </a>\n  ')},v={width:"100vw",border:"1px solid black",maxWidth:"100%",boxSizing:"border-box",minHeight:"75vh",maxHeight:"100%"},k=function(t){function o(){var t,e,n,r;Object(i.a)(this,o);for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=this,r=(t=p(o)).call.apply(t,[this].concat(c)),(e=!r||"object"!==Object(a.a)(r)&&"function"!==typeof r?Object(s.a)(n):r).state={photoMarkers:[],favorites:[]},e.handleGoogleMapsError=function(){window.gm_authFailure=function(){e.props.handleGoogleMapsError(),document.querySelector(".gm-err-title").innerHTML="Oops it seems there was a problem loading Google Maps!",document.querySelector(".gm-err-message").innerHTML="Failed to authenticate Google Maps, please try again later"}},e.createGoogleApiScript=function(){var t=window.document.querySelector("body"),o=window.document.createElement("script");o.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzs3fKNRPknPJs8LaW9rsCvBxeY2QCJhg&v=3&libraries=places&callback=initMap",o.async=!0,o.defer=!0,o.onerror=function(){this.props.mapsErrorToast()},t.insertBefore(o,t.lastElementChild),o.addEventListener("load",(function(){e.props.setMapLoaded()}))},e.initMap=function(){console.log("Google Maps API Loaded...");window.map=new window.google.maps.Map(document.getElementById("map-container"),{center:{lat:47.55241106676634,lng:11.389968539500511},zoom:5,gestureHandling:"cooperative",mapTypeId:window.google.maps.MapTypeId.TERRAIN,streetViewControl:!1,fullscreenControl:!1}),window.largeInfowindow=new window.google.maps.InfoWindow({maxWidth:200});window.largeInfowindow.addListener("domready",(function(){var t=document.getElementById("image-info"),o=t.getAttribute("data-photoid"),n=e.props.photos.find((function(t){return t.photoId===o}));n||(n=e.props.favorites.find((function(t){return t.photoId===o})));var i=e.props.openLightbox.bind(Object(s.a)(e),null,{index:0,photo:n});t.onclick=i}));var t=new window.google.maps.Polyline({path:[{lat:90,lng:180},{lat:-90,lng:180}],geodesic:!0,strokeColor:"#FF0000",strokeOpacity:.9,strokeWeight:12});t.setMap(window.map),window.antiMeridianInfo=new window.google.maps.InfoWindow({maxWidth:200}),window.antiMeridianInfo.setContent("The red line that you just clicked is the the 180th meridian \n      (sometimes called antimeridian).\n      Please make sure that the antimeridian is outside the screen when you make a request for photos.\n      (pan the map to the left or right untill the red line is no longer in view)"),t.addListener("click",(function(t){window.antiMeridianInfo.setPosition(t.latLng),window.antiMeridianInfo.open(window.map)})),window.google.maps.event.addListenerOnce(window.map,"idle",(function(){document.getElementsByTagName("iframe")[0].title="Google Maps"}))},e.createPhotoMarker=function(t,o){var n=new window.google.maps.Marker({position:t.geolocation,map:o?window.map:null,icon:u.a,scaledSize:.5,title:t.title,animation:window.google.maps.Animation.DROP,photoId:t.photoId,color:"blue"});e.setState((function(t){var o=t.photoMarkers;return o.push(n),{photoMarkers:o}})),n.addListener("click",(function(){window.map.panTo(this.getPosition()),window.largeInfowindow.setContent(m(t)),window.largeInfowindow.open(window.map,n)})),window.photoMarker=n},e.showAllPhotoMarkers=function(){for(var t=window.map,o=e.state.photoMarkers,n=0;n<o.length;n++)o[n].setMap(t)},e.hideAllPhotoMarkers=function(){for(var t=e.state.photoMarkers,o=0;o<t.length;o++)t[o].setMap(null)},e.showAllFavorites=function(){for(var t=window.map,o=e.state.favorites,n=0;n<o.length;n++)o[n].setMap(t)},e.hideAllFavorites=function(){for(var t=e.state.favorites,o=0;o<t.length;o++)t[o].setMap(null)},e.pinFavorite=function(t,o){var n=new window.google.maps.Marker({position:t.geolocation,map:o?window.map:null,icon:w.a,title:t.title,animation:window.google.maps.Animation.DROP,photoId:t.photoId,favorite:!0});e.setState((function(t){var o=t.favorites;return o.push(n),{favorites:o}})),n.addListener("click",(function(){window.map.panTo(this.getPosition()),window.largeInfowindow.setContent(m(t)),window.largeInfowindow.open(window.map,n)}))},e}return function(t,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&l(t,o)}(o,t),Object(r.a)(o,[{key:"componentDidMount",value:function(){window.initMap=this.initMap,this.handleGoogleMapsError(),this.createGoogleApiScript()}},{key:"componentDidUpdate",value:function(t,o){var e=this;if(console.log(this.props),t.searchRadius!==this.props.searchRadius&&this.searchCircle.setRadius(1e3*this.props.searchRadius),console.log("map updated"),t.photos!==this.props.photos){console.log("PHOTOS CHANGED - RERENDERING MARKERS");var n=this.props.photos;this.state.photoMarkers.forEach((function(t){return t.setMap(null)})),this.setState({photoMarkers:[]}),n.forEach((function(t){if(!t.isFavorite)return e.createPhotoMarker(t,e.props.displayPhotoMarkers)}))}else console.log("PHOTOS DID NOT CHANGE - NO RERENDER FOR MARKERS");if(t.favorites!==this.props.favorites){console.log("if prevProps favorites...."),this.hideAllFavorites(),this.setState({favorites:[]});var i=this.props.displayFavorites;this.props.favorites.forEach((function(t){return e.pinFavorite(t,i)}))}t.displayPhotoMarkers!==this.props.displayPhotoMarkers&&(console.log("SHOW/HIDE PHOTOMARKERS"),this.props.displayPhotoMarkers?this.showAllPhotoMarkers():this.hideAllPhotoMarkers()),t.displayFavorites!==this.props.displayFavorites&&(console.log("SHOW/HIDE PHOTOMARKERS"),this.props.displayFavorites?this.showAllFavorites():this.hideAllFavorites()),this.props.triggerPhotoMarker&&(this.createPhotoMarker(this.props.triggerPhotoMarker,this.props.displayPhotoMarkers),this.props.disableTriggerPhotoMarker())}},{key:"render",value:function(){return d.a.createElement("div",{role:"application","aria-label":"Map",id:"map-container",style:this.props.screenWidth900px?v:f({},v,{minHeight:"50vh",flexGrow:"1"})})}}]),o}(d.a.Component);o.default=d.a.memo(k)}}]);
//# sourceMappingURL=3.0aa62cea.chunk.js.map