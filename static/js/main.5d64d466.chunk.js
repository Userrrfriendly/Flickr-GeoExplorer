(window["webpackJsonpflickr-explorer"]=window["webpackJsonpflickr-explorer"]||[]).push([[0],{149:function(e,t,a){e.exports=a(225)},154:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),c=(a(154),a(15)),i=a(13),s=a(287);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var m=function(e){var t;console.log(e);var a=new URLSearchParams;if(a.append("method","flickr.photos.search"),a.append("api_key","f6536bb373bca1fcd14d4da1281f2839"),e.searchText&&a.append("text",e.searchText),e.sortMethod&&a.append("sort",e.sortMethod),e.minUploadDate&&a.append("min_upload_date",e.minUploadDate),e.maxUploadDate&&a.append("max_upload_date",e.maxUploadDate),e.minTakenDate&&a.append("min_taken_date",e.minTakenDate),e.maxTakenDate&&a.append("max_taken_date",e.maxTakenDate),"EXTENTS"===e.searchMethod){var n=e.bounds,r=n.south,o=n.west,l=n.north,i=n.east;t={bounds:e.bounds,searchMethod:e.searchMethod,maxTakenDate:e.maxTakenDate,maxUploadDate:e.maxUploadDate,minTakenDate:e.minTakenDate,minUploadDate:e.minUploadDate,searchText:e.searchText,sortMethod:e.sortMethod},a.append("bbox","".concat(o,",").concat(r,",").concat(i,",").concat(l))}return"CIRCLE"===e.searchMethod&&(a.append("lat",e.lat),a.append("lon",e.lng),a.append("radius",e.radius/1.609),a.append("radius_units","km"),t={lat:e.lat,lng:e.lng,radius:e.radius,searchMethod:e.searchMethod,maxTakenDate:e.maxTakenDate,maxUploadDate:e.maxUploadDate,minTakenDate:e.minTakenDate,minUploadDate:e.minUploadDate,searchText:e.searchText,sortMethod:e.sortMethod}),a.append("has_geo","1"),a.append("per_page",e.resultsPerPage?e.resultsPerPage:"50"),a.append("format","json"),a.append("nojsoncallback","1"),a.append("extras","url_t,url_m,url_c,url_l,url_h,url_o,geo, date_upload, date_taken, owner_name"),e.page&&a.append("page",e.page),fetch("https://api.flickr.com/services/rest/?"+a).then((function(e){return console.log(a),e.json().then((function(e){return console.log(e),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{currentPage:e.photos.page,totalPages:e.photos.pages,totalPhotos:e.photos.total,perPage:e.photos.perpage,photos:e.photos.photo.map((function(e){return{dateupload:e.dateupload,datetaken:e.datetaken,ownername:e.ownername,geolocation:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},photoId:e.id,width_t:e.width_t?parseInt(e.width_t):"",width_c:e.width_c?parseInt(e.width_c):"",width_h:e.width_h?parseInt(e.width_h):"",width_l:e.width_l?parseInt(e.width_l):"",width_m:e.width_m?parseInt(e.width_m):"",width_o:e.width_o?parseInt(e.width_o):"",height_c:e.height_c?parseInt(e.height_c):"",height_h:e.height_h?parseInt(e.height_h):"",height_l:e.height_l?parseInt(e.height_l):"",height_m:e.height_m?parseInt(e.height_m):"",height_o:e.height_o?parseInt(e.height_o):"",height:e.height_m?parseInt(e.height_m):e.height_o?parseInt(e.height_o):100,width:e.width_m?parseInt(e.width_m):e.width_o?parseInt(e.width_o):100,src:e.url_l?e.url_l:e.url_m?e.url_m:e.url_o,title:e.title,alt:e.title,key:e.id,owner:e.owner,thumb:e.url_t,srcSet:[e.url_m?"".concat(e.url_m," ").concat(e.width_m,"w"):"",e.url_c?"".concat(e.url_c," ").concat(e.width_c,"w"):"",e.url_l?"".concat(e.url_l," ").concat(e.width_l,"w"):"",e.url_h?"".concat(e.url_h," ").concat(e.width_h,"w"):"",e.url_o?"".concat(e.url_o," ").concat(e.width_o,"w"):""],sizes:"(min-width: 480px) 50vw, (min-width: 1024px) 33.3vw, 100vw"}}))})}))})).catch((function(e){return console.log(e),["error"]}))},d=a(309),p=r.a.createContext(),h=r.a.createContext(),g=a(20),f=a(37);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y="SET_BOUNDING_BOX",v="SET_MAX_RESULTS_PER_PAGE",x="SET_USER_LOCATION",O="SET_SEARCH_RADIUS",w="SET_SEARCH_CENTER",k="SET_PHOTOS",_="UPDATE_PHOTOS",j="BLOCK_USER",P="ADD_IMG_TO_FAVORITES",M="REMOVE_IMG_FROM_FAVORITES",S="SET_MIN_UPLOAD_DATE",C="SET_MAX_UPLOAD_DATE",D="SET_MIN_TAKEN_DATE",T="SET_MAX_TAKEN_DATE",N="SET_MAP_LOADED",I=function(e,t){switch(t.type){case y:return console.log(t.type),function(e,t){return E({},t,{boundingBox:e.boundingBox})}(t,e);case v:return console.log(t.type),function(e,t){return E({},t,{resultsPerPage:e.resultsPerPage})}(t,e);case x:return console.log(t.type),function(e,t){return E({},t,{userLocation:e.userLocation,searchCenter:e.userLocation})}(t,e);case O:return console.log(t.type),function(e,t){return E({},t,{searchRadius:e.searchRadius})}(t,e);case w:return console.log(t.type),function(e,t){return E({},t,{searchCenter:e.searchCenter})}(t,e);case k:return console.log(t.type),function(e,t){var a=e.photos,n=e.photos;return t.favorites.length>0&&(n=n.filter((function(e){return!Object(f.find)(t.favorites,(function(t){return t.photoId===e.photoId}))})),console.log(n)),E({},t,{photos:e.photos,filteredPhotos:a,blockedUsers:[],hiddenPhotos:[],mapPhotos:n})}(t,e);case _:return console.log(t.type),function(e,t){var a=e.photos.filter((function(e){return!t.blockedUsers.includes(e.owner)})),n=e.photos.filter((function(e){return t.blockedUsers.includes(e.owner)})),r=t.filteredPhotos.concat(a),o=t.mapPhotos,l=Object(g.a)(e.photos);t.favorites.length>0&&(l=l.filter((function(e){return!Object(f.find)(t.favorites,(function(t){return t.photoId===e.photoId}))}))),o=o.concat(l);var c=t.hiddenPhotos.concat(n),i=t.photos.concat(e.photos);return E({},t,{photos:i,filteredPhotos:r,hiddenPhotos:c,mapPhotos:o})}(t,e);case j:return console.log(t.type),function(e,t){var a=t.blockedUsers.concat(e.userId),n=t.filteredPhotos.filter((function(e){return!a.includes(e.owner)})),r=t.photos.filter((function(e){return a.includes(e.owner)}));return E({},t,{blockedUsers:a,filteredPhotos:n,hiddenPhotos:r})}(t,e);case P:return console.log(t.type),function(e,t){var a=t.favorites.concat(e.image),n=t.mapPhotos;return a.length>0&&(n=n.filter((function(e){return!Object(f.find)(a,(function(t){return t.photoId===e.photoId}))})),console.log(n)),E({},t,{favorites:a,mapPhotos:n})}(t,e);case M:return console.log(t.type),function(e,t){var a=Object(g.a)(t.favorites),n=!!Object(f.find)(t.photos,e.image)?t.mapPhotos.concat(e.image):t.mapPhotos,r=Object(f.findIndex)(a,(function(t){return t.photoId===e.image.photoId}));return-1!==r&&a.splice(r,1),E({},t,{favorites:a,mapPhotos:n})}(t,e);case S:return console.log(t.type),function(e,t){return E({},t,{minUploadDate:e.minUploadDate})}(t,e);case C:return console.log(t.type),function(e,t){return E({},t,{maxUploadDate:e.maxUploadDate})}(t,e);case D:return console.log(t.type),function(e,t){return E({},t,{minTakenDate:e.minTakenDate})}(t,e);case T:return console.log(t.type),function(e,t){return E({},t,{maxTakenDate:e.maxTakenDate})}(t,e);case N:return console.log(t.type),function(e,t){return E({},t,{mapLoaded:e.mapLoaded})}(t,e);default:return e}},F=a(118),L=a(288),R=a(231),U=a(289),A=a(290),z=a(291),B=a(271),H=a(50),Q=a(317),G=a(126),V=a(311),q=a(294),W=a(292),X=a(293),Z=a(295),K=function(e){return r.a.createElement("svg",Object.assign({viewBox:"0 0 448 448"},e),r.a.createElement("circle",{cx:106.667,cy:127.973,r:106.667,fill:"#2196f3"}),r.a.createElement("circle",{cx:341.333,cy:127.973,r:106.667,fill:"#ec407a"}),r.a.createElement("g",{fill:"#455a64"},r.a.createElement("path",{d:"M32 426.64c-5.891 0-10.667-4.776-10.667-10.667V330.64c0-17.673 14.327-32 32-32H64c5.891 0 10.667 4.776 10.667 10.667S69.891 319.973 64 319.973H53.333c-5.891 0-10.667 4.776-10.667 10.667v85.333c.001 5.891-4.775 10.667-10.666 10.667z"}),r.a.createElement("path",{d:"M64 362.64H10.667C4.776 362.64 0 357.864 0 351.973s4.776-10.667 10.667-10.667H64c5.891 0 10.667 4.776 10.667 10.667S69.891 362.64 64 362.64zM96 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667zM138.667 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v64c-.001 5.891-4.776 10.667-10.667 10.667zM213.333 426.64c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667a50.366 50.366 0 0140.384 14.72c3.652 4.624 2.864 11.334-1.76 14.987-4.624 3.652-11.334 2.865-14.987-1.76a33.21 33.21 0 00-23.637-6.613c-11.782 0-21.333 9.551-21.333 21.333 0 11.782 9.551 21.333 21.333 21.333a36.905 36.905 0 0024.576-7.659c4.234-3.978 10.873-3.836 14.933.32 4.066 4.148 4.066 10.786 0 14.933a56.658 56.658 0 01-39.509 13.74zM288 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667z"}),r.a.createElement("path",{d:"M330.667 426.64a10.663 10.663 0 01-7.552-3.115l-42.667-42.667c-4.17-4.162-4.176-10.915-.014-15.085.499-.5 1.047-.95 1.636-1.342l32-21.333c4.901-3.27 11.525-1.947 14.795 2.955s1.947 11.525-2.955 14.795l-21.163 14.123 33.451 33.472c4.159 4.172 4.149 10.926-.024 15.085a10.672 10.672 0 01-7.507 3.112zM373.333 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667S384 346.082 384 351.973v64c0 5.891-4.776 10.667-10.667 10.667z"}),r.a.createElement("path",{d:"M373.333 405.306c-5.891 0-10.667-4.776-10.667-10.667 0-29.455 23.878-53.333 53.333-53.333 5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667c-17.673 0-32 14.327-32 32 .001 5.891-4.775 10.666-10.666 10.666zM139.093 319.973c-5.891 0-10.667-4.776-10.667-10.667s4.776-10.667 10.667-10.667h.213c5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667h-.213z"})),r.a.createElement("path",{d:"M106.667 234.64C47.756 234.64 0 186.883 0 127.973S47.756 21.306 106.667 21.306s106.667 47.756 106.667 106.667c-.071 58.881-47.786 106.596-106.667 106.667zm0-192c-47.128 0-85.333 38.205-85.333 85.333s38.205 85.333 85.333 85.333S192 175.101 192 127.973 153.795 42.64 106.667 42.64zM341.333 234.64c-58.91 0-106.667-47.756-106.667-106.667S282.423 21.306 341.333 21.306 448 69.063 448 127.973c-.07 58.881-47.786 106.596-106.667 106.667zm0-192C294.205 42.64 256 80.845 256 127.973s38.205 85.333 85.333 85.333 85.333-38.205 85.333-85.333-38.204-85.333-85.333-85.333zM32 426.64c-5.891 0-10.667-4.776-10.667-10.667V330.64c0-17.673 14.327-32 32-32H64c5.891 0 10.667 4.776 10.667 10.667S69.891 319.973 64 319.973H53.333c-5.891 0-10.667 4.776-10.667 10.667v85.333c.001 5.891-4.775 10.667-10.666 10.667z"}),r.a.createElement("path",{d:"M64 362.64H10.667C4.776 362.64 0 357.864 0 351.973s4.776-10.667 10.667-10.667H64c5.891 0 10.667 4.776 10.667 10.667S69.891 362.64 64 362.64zM96 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667zM138.667 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v64c-.001 5.891-4.776 10.667-10.667 10.667zM213.333 426.64c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667a50.39 50.39 0 0140.363 14.699c3.658 4.619 2.88 11.328-1.739 14.987-4.619 3.658-11.328 2.88-14.987-1.739a33.21 33.21 0 00-23.637-6.613c-11.782 0-21.333 9.551-21.333 21.333 0 11.782 9.551 21.333 21.333 21.333a36.93 36.93 0 0024.576-7.659c4.234-3.978 10.873-3.836 14.933.32 4.066 4.148 4.066 10.786 0 14.933a56.616 56.616 0 01-39.509 13.74zM288 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667z"}),r.a.createElement("path",{d:"M330.667 426.64a10.663 10.663 0 01-7.552-3.115l-42.667-42.667c-4.17-4.162-4.176-10.915-.014-15.085.499-.5 1.047-.95 1.636-1.342l32-21.333c4.901-3.27 11.525-1.947 14.795 2.955s1.947 11.525-2.955 14.795l-21.184 14.123 33.472 33.472c4.159 4.172 4.149 10.926-.024 15.085a10.672 10.672 0 01-7.507 3.112zM373.333 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667S384 346.082 384 351.973v64c0 5.891-4.776 10.667-10.667 10.667z"}),r.a.createElement("path",{d:"M373.333 405.306c-5.891 0-10.667-4.776-10.667-10.667 0-29.455 23.878-53.333 53.333-53.333 5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667c-17.673 0-32 14.327-32 32 .001 5.891-4.775 10.666-10.666 10.666zM139.093 319.973c-5.891 0-10.667-4.776-10.667-10.667 0-5.85 4.711-10.608 10.56-10.667h.213c5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667h-.106z"}))},J=a(265),Y=a(276),$=a(228),ee=a(277),te=a(279),ae=a(282),ne=a(270),re=a(286),oe=a(275),le=a(278),ce=a(280),ie=a(281),se=a(283),ue=a(284),me=a(285),de=a(314),pe=a(260),he=Object(F.a)({root:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},input:{marginLeft:"1rem",marginBottom:"1rem",maxWidth:"4rem"}});function ge(e){var t=he(),a=Object(n.useContext)(p),o=Object(n.useContext)(h);return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{align:"center",gutterBottom:!0},"Number of photos to return per page"),r.a.createElement("div",{className:t.root},r.a.createElement(de.a,{value:a.resultsPerPage,onChange:function(e,t){o({type:v,resultsPerPage:t})},"aria-labelledby":"input-slider",step:10,min:10,max:250,style:{width:"75%",marginRight:"0.5rem",marginLeft:"0.5rem"}}),r.a.createElement(pe.a,{className:t.input,value:a.resultsPerPage,type:"number",margin:"dense",onChange:function(e){var t=parseInt(e.target.value);Number.isNaN(t)||"number"!=typeof t||o({type:v,resultsPerPage:t})},onBlur:function(){var e=a.resultsPerPage;e<=10?o({type:v,resultsPerPage:10}):e<=250?o({type:v,resultsPerPage:10*Math.trunc(e/10)}):e>250&&o({type:v,resultsPerPage:250})},inputProps:{step:10,min:10,max:250,type:"number","aria-labelledby":"input-slider"}})))}var fe=a(261),be=a(315),Ee=a(312),ye=a(266),ve=a(267),xe=Object(F.a)((function(e){return{formControl:{width:"100%"},root_select:{textAlign:"left"}}}));function Oe(e){var t=xe();return r.a.createElement(fe.a,{className:t.formControl},r.a.createElement(be.a,{htmlFor:"sorting-helper"},"Display results by:"),r.a.createElement(Ee.a,{classes:{root:t.root_select},value:e.sortMethod,onChange:e.handeSelectSortMethod},r.a.createElement(ye.a,{value:"date-posted-asc"},"Date posted ascending"),r.a.createElement(ye.a,{value:"date-posted-desc"},"Date posted descending"),r.a.createElement(ye.a,{value:"date-taken-asc"},"Date taken ascending"),r.a.createElement(ye.a,{value:"date-taken-desc"},"Date taken descending")),r.a.createElement(ve.a,null,"Sorting filters must be set before photo search"))}var we=a(268),ke=a(269);function _e(e){var t=function(t){t.preventDefault(),console.log("Submit!"),e.searchFlikr()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:t},r.a.createElement(fe.a,{onSubmit:t,style:{width:"100%"}},r.a.createElement(be.a,{htmlFor:"adornment-text"},"Optional text query"),r.a.createElement(pe.a,{id:"adornment-text",type:"text",fullWidth:!0,placeholder:"search for a keyword in tags,albums,titles etc",value:e.searchText,onChange:e.handleTextQueryChange,endAdornment:r.a.createElement(we.a,{position:"end"},r.a.createElement(G.a,{style:e.searchText.length>0?{}:{display:"none"},"aria-label":"toggle password visibility",onClick:e.clearTextQuery},r.a.createElement(ke.a,null)))})),r.a.createElement(ve.a,{style:{margin:"5px 0 "}},"Adding text to the query will greatly limit the results")))}var je=a(41),Pe=a(124),Me=a(23),Se=a(310),Ce=a(313);function De(e){var t=Object(n.useContext)(p),a=Object(n.useContext)(h),o=Object(n.useState)(new Date(2004,1,1)),l=Object(i.a)(o,2),c=l[0],s=l[1],u=!!t.minUploadDate,m=u?t.minUploadDate:c;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Me.a,{utils:je.a},r.a.createElement(Se.a,{minDate:"2000,1,1",style:{marginLeft:"0.5rem"},disabled:!u,margin:"normal",id:"date-picker-dialog",label:"min upload date",format:"dd/MM/yyyy",value:m,onChange:function(e){m=e,s(e),a({type:S,minUploadDate:Object(Pe.a)(e,"yyyy-MM-dd")})}})),r.a.createElement(Ce.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:u,onChange:function(e){e.target.checked?a({type:S,minUploadDate:Object(Pe.a)(m,"yyyy-MM-dd")}):a({type:S,minUploadDate:null})},value:"min upload date",color:"primary",inputProps:{"aria-label":"minimum upload date"}}))}function Te(e){var t=Object(n.useContext)(h),a=Object(n.useContext)(p),o=Object(n.useState)(new Date),l=Object(i.a)(o,2),c=l[0],s=l[1],u=!!a.maxUploadDate,m=u?a.maxUploadDate:c;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Me.a,{utils:je.a},r.a.createElement(Se.a,{minDate:"2000,1,1",style:{marginLeft:"0.5rem"},disabled:!u,margin:"normal",id:"date-picker-dialog",label:"max upload date",format:"dd/MM/yyyy",value:m,onChange:function(e){m=e,s(e),t({type:C,maxUploadDate:Object(Pe.a)(e,"yyyy-MM-dd")})}})),r.a.createElement(Ce.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:u,onChange:function(e){e.target.checked?t({type:C,maxUploadDate:Object(Pe.a)(m,"yyyy-MM-dd")}):t({type:C,maxUploadDate:null})},value:"use max upload date",color:"primary",inputProps:{"aria-label":"maximum upload date"}}))}function Ne(e){var t=Object(n.useContext)(h),a=Object(n.useContext)(p),o=Object(n.useState)(new Date(2004,1,1)),l=Object(i.a)(o,2),c=l[0],s=l[1],u=!!a.minTakenDate,m=u?a.minTakenDate:c;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Me.a,{utils:je.a},r.a.createElement(Se.a,{style:{marginLeft:"0.5rem"},disabled:!u,margin:"normal",id:"date-picker-dialog",label:"min taken date",format:"dd/MM/yyyy",value:m,onChange:function(e){m=e,s(e),t({type:D,minTakenDate:Object(Pe.a)(e,"yyyy-MM-dd")})}})),r.a.createElement(Ce.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:u,onChange:function(e){e.target.checked?t({type:D,minTakenDate:Object(Pe.a)(m,"yyyy-MM-dd")}):t({type:D,minTakenDate:null})},value:"min taken date",color:"primary",inputProps:{"aria-label":"minimum taken date"}}))}function Ie(e){var t=Object(n.useContext)(h),a=Object(n.useContext)(p),o=Object(n.useState)(new Date),l=Object(i.a)(o,2),c=l[0],s=l[1],u=!!a.maxTakenDate,m=u?a.maxTakenDate:c;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Me.a,{utils:je.a},r.a.createElement(Se.a,{style:{marginLeft:"0.5rem"},disabled:!u,margin:"normal",id:"date-picker-dialog",label:"max taken date",format:"dd/MM/yyyy",value:m,onChange:function(e){return function(e){m=e,s(e),t({type:T,maxTakenDate:Object(Pe.a)(e,"yyyy-MM-dd")})}(e)}})),r.a.createElement(Ce.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:u,onChange:function(e){e.target.checked?t({type:T,maxTakenDate:Object(Pe.a)(m,"yyyy-MM-dd")}):t({type:T,maxTakenDate:!1})},value:"max taken date",color:"primary",inputProps:{"aria-label":"maximum taken date"}}))}var Fe=a(272),Le=a(273),Re=a(274);function Ue(e){var t=!e.checked;return r.a.createElement(Fe.a,{row:!0,style:{justifyContent:"left"}},r.a.createElement(Le.a,{control:r.a.createElement(Re.a,{checked:t,onChange:function(t){e.callback()},value:t}),label:e.label}))}var Ae=Object(F.a)({list:{width:"70vw"},fullList:{width:"auto"},hamburger:{marginRight:"0.5rem",color:"#fff"}});function ze(e){var t=Ae(),a=Object(n.useState)(!1),o=Object(i.a)(a,2),l=o[0],c=o[1],s=function(){return c(!l)},u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],h=function(){return p(!d)},g=Object(n.useState)(!1),f=Object(i.a)(g,2),b=f[0],E=f[1],y=function(){E(!1)};return r.a.createElement("div",null,r.a.createElement(G.a,{onClick:function(){E(!b)},"aria-label":"Open Menu",size:"medium",className:t.hamburger},r.a.createElement(me.a,{fontSize:"large"})),r.a.createElement(re.a,{open:b,onClose:y},r.a.createElement("div",{className:t.list,role:"presentation"},r.a.createElement(J.a,{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(G.a,{onClick:y,style:{marginRight:"1rem"}},r.a.createElement(oe.a,null))),r.a.createElement(Y.a,null),r.a.createElement(J.a,null,r.a.createElement($.a,{button:!0,onClick:s},r.a.createElement(ee.a,null,r.a.createElement(le.a,null)),r.a.createElement(te.a,{primary:"Query Options"}),l?r.a.createElement(ce.a,null):r.a.createElement(ie.a,null)),r.a.createElement(ae.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(J.a,{component:"div",disablePadding:!0},r.a.createElement($.a,{style:{flexFlow:"column"}},r.a.createElement(ge,null)),r.a.createElement($.a,null,r.a.createElement(Oe,{handeSelectSortMethod:e.handeSelectSortMethod,sortMethod:e.sortMethod})),r.a.createElement($.a,null,r.a.createElement(_e,{handleTextQueryChange:e.handleTextQueryChange,clearTextQuery:e.clearTextQuery,searchText:e.searchText,searchFlikr:e.searchFlikr})),r.a.createElement(Y.a,{className:t.divider}),r.a.createElement($.a,null,r.a.createElement(De,null)),r.a.createElement($.a,null,r.a.createElement(Te,null)),r.a.createElement(Y.a,{className:t.divider}),r.a.createElement($.a,null,r.a.createElement(Ne,null)),r.a.createElement($.a,null,r.a.createElement(Ie,null))))),r.a.createElement(J.a,null,r.a.createElement($.a,{button:!0,onClick:h},r.a.createElement(ee.a,null,r.a.createElement(se.a,null)),r.a.createElement(te.a,{primary:"Map Options"}),d?r.a.createElement(ce.a,null):r.a.createElement(ie.a,null)),r.a.createElement(ae.a,{in:d,timeout:"auto",unmountOnExit:!0},r.a.createElement(J.a,{component:"div",disablePadding:!0},r.a.createElement($.a,null,r.a.createElement(Ue,{callback:e.togglePhotoMarkerDisplay,checked:e.displayPhotoMarkers,label:"Hide all results from the map"})),r.a.createElement($.a,null,r.a.createElement(Ue,{callback:e.toggleFavorites,checked:e.displayFavorites,label:"Hide all favorites from the map"})),r.a.createElement($.a,null,r.a.createElement(ne.a,{variant:"contained",style:{marginTop:"1rem",color:"black",width:"100%"},color:"secondary",size:"large",onClick:e.handleMyLocationClick},r.a.createElement(ue.a,{style:{marginRight:"1rem"}}),"My location"))))))))}var Be=function(){return Object(s.a)("(min-width:900px)")},He=Object(F.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},grow:{flexGrow:1,color:"red",width:"100px"},icons_container:{display:"flex"},logo_container:{cursor:"pointer",display:"flex",alignItems:"center"}}}));function Qe(e){var t=Object(L.a)();return r.a.createElement(R.a,{appear:!1,direction:"down",in:!e.appBarHide&&!t},e.children)}function Ge(e){var t=e.children,a=He(),n=Object(L.a)({disableHysteresis:!0,threshold:100});return r.a.createElement(U.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.root},t))}function Ve(e){var t=Object(s.a)("(min-width:1200px)"),a=He();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null),r.a.createElement(Qe,Object.assign({appBarHide:e.appBarHide},e),r.a.createElement(z.a,null,r.a.createElement(B.a,{disableGutters:!Be()},!Be()&&r.a.createElement(ze,{handeSelectSortMethod:e.handeSelectSortMethod,sortMethod:e.sortMethod,handleTextQueryChange:e.handleTextQueryChange,clearTextQuery:e.clearTextQuery,searchText:e.searchText,searchFlikr:e.searchFlikr,handleMyLocationClick:e.handleMyLocationClick,togglePhotoMarkerDisplay:e.togglePhotoMarkerDisplay,toggleFavorites:e.toggleFavorites,displayPhotoMarkers:e.displayPhotoMarkers,displayFavorites:e.displayFavorites}),r.a.createElement("div",{className:a.logo_container,onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},r.a.createElement(K,{style:{width:"40px",marginRight:"0.75rem",fill:"white"},"aria-label":"Flickr"}),r.a.createElement(H.a,{variant:"h6"},r.a.createElement("span",{style:{color:"#dedee6"}},"Geo"),r.a.createElement("span",{style:{color:"#ffc1d5"}},"Explorer"))),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.icons_container},e.photos>0&&r.a.createElement(Q.a,{title:"column"===e.gridDirection?"Display images as Rows":"Display images as Columns","aria-label":"column"===e.gridDirection?"Display images as Rows":"Display images as Columns"},r.a.createElement(G.a,{color:"inherit",onClick:e.toggleGridDirection},"column"===e.gridDirection?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{className:a.control_icon})):r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{className:a.control_icon})))))))),r.a.createElement(B.a,{id:"back-to-top-anchor"}),r.a.createElement(V.a,{style:t?{margin:"5px 25px 2px"}:{margin:"5px 0 2px"}},e.children),r.a.createElement(Ge,e,r.a.createElement(q.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},r.a.createElement(Z.a,null))))}var qe=a(120),We=a(296),Xe=a(297),Ze=a(298);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=Object(F.a)((function(e){return{pin_to_map_btn:{position:"absolute",bottom:"2px",left:"2px",backgroundColor:"#f500577a","&:hover":{boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)"}},options_btn:{top:"2px",right:"2px",position:"absolute",backgroundColor:"#ffffffa6","&:hover":{backgroundColor:"#f5f5f5e8",boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)"}},image:{margin:"2px",display:"block"}}})),$e=r.a.memo((function(e){var t=e.index,a=e.photo,o=e.margin,l=e.direction,c=e.top,s=e.left,u=(e.selected,e.imageToggleFavorites),m=e.openLightbox,d=e.handleOpenMenuClick,h=Ye(),g=Object(n.useContext)(p),b=Object(n.useState)(!1),E=Object(i.a)(b,2),y=E[0],v=E[1],x=!!Object(f.find)(g.favorites,(function(e){return e.photoId===a.photoId})),O={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative"};return console.log(l),"column"===l&&(O.position="absolute",O.left=s,O.top=c),r.a.createElement("div",{style:Je({margin:o,height:a.height,width:a.width},O),className:h.container,onMouseEnter:function(e,t){v(!0)}.bind(void 0,a),onMouseLeave:function(e,t){v(!1)},onTouchStart:function(){v(!0),window.setTimeout((function(){v(!1)}),3e3)}},r.a.createElement("img",{src:a.src,title:a.title?a.title+" - by user ".concat(a.ownername):"untitled - by user ".concat(a.ownername),alt:a.alt,srcSet:a.srcSet,width:a.width,heigth:a.height,sizes:a.sizes,className:h.image,onClick:function(e){return m.call(void 0,e,{index:t,photo:a})}}),r.a.createElement(U.a,{in:y},r.a.createElement(q.a,{size:"small","aria-label":"add",className:h.options_btn,onClick:d.bind(void 0,a)},r.a.createElement(We.a,null))),r.a.createElement(U.a,{in:y},r.a.createElement(q.a,{size:"small",color:"secondary","aria-label":"add",className:h.pin_to_map_btn,onClick:u.bind(void 0,a,x)},x?r.a.createElement(Xe.a,{style:{color:"gold"}}):r.a.createElement(Ze.a,{style:{color:"#000"}}))))})),et=a(125),tt=a(299),at={width:"100%"};function nt(e){var t=r.a.useContext(h);return r.a.createElement("div",null,r.a.createElement(et.a,{id:"image-menu",anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleMenuClose},r.a.createElement(ye.a,{onClick:function(){e.handleMenuClose(),t({type:j,userId:e.photoData.owner})}},"Temporary hide photos from this user"),r.a.createElement(ye.a,{onClick:e.handleMenuClose},r.a.createElement(tt.a,{style:at,target:"_blank",href:e.photoData?"https://www.flickr.com/photos/".concat(e.photoData.owner,"/").concat(e.photoData.photoId):"",color:"inherit"},"Open Photo in Flickr"))))}var rt=a(87),ot=a(300),lt=a(301);function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function it(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var st=Object(F.a)((function(e){return{header_container:{position:"absolute",top:"2px",left:"2px",width:"100vw",display:"flex",zIndex:"2000",justifyContent:"space-between",transition:"opacity 300ms",opacity:"1"},lightbox_btn:{color:"#fff",background:"rgba(255, 255, 255, 0.2)",margin:"2px",border:"1px solid #00000024","&:hover":{boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)",background:"rgba(255, 255, 255, 0.3)"}},hide_on_idle:{opacity:"0"}}})),ut=function(e){return it({},e,{background:"rgba(255, 255, 255, 0.2)","&:hover, &:active":{boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)",background:"rgba(255, 255, 255, 0.3)"},"&:active":{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.14)",transform:"scale(0.96)"}})},mt=function(e){var t=e.data,a=e.getStyles,n=e.index,o=e.currentIndex,l=t.alt,c=t.src;return Math.abs(o-n)<=1?r.a.createElement("div",{style:a("view",e)},r.a.createElement("img",{alt:l||"Image ".concat(n),src:c,style:{height:"auto",maxHeight:"100vh",maxWidth:"100%",userSelect:"none"}})):null},dt=function(e){var t=st(),a=Object(n.useContext)(p),o=!!Object(f.find)(a.favorites,(function(t){return t.photoId===e.currentView.photoId}));return e.isModal?r.a.createElement("div",{className:e.interactionIsIdle?t.header_container+" "+t.hide_on_idle:t.header_container},r.a.createElement(G.a,{"aria-label":"Pin photo on map",className:t.lightbox_btn,onClick:e.carouselProps.imageToggleFavorites.bind(void 0,e.data,o)},o?r.a.createElement(Xe.a,{style:{color:"gold"}}):r.a.createElement(Ze.a,null)),r.a.createElement("div",{className:t.btn_container_right},r.a.createElement(G.a,{"aria-label":"toggle fullscreen",className:t.lightbox_btn,edge:"start",onClick:e.modalProps.toggleFullscreen},e.modalProps.isFullscreen?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),!e.modalProps.isFullscreen&&r.a.createElement(G.a,{"aria-label":"Close",className:t.lightbox_btn,edge:"start",onClick:e.modalProps.onClose},r.a.createElement(ke.a,null)))):null},pt=r.a.memo((function(e){var t=e.photos,a=e.responseDetails,o=e.direction,l=e.imageToggleFavorites,c=e.setAppBarHide,s=e.columns,u=e.hiddenPhotos,m=Object(n.useState)(0),d=Object(i.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)(!1),f=Object(i.a)(g,2),b=f[0],E=f[1];r.a.useEffect((function(){console.log("IMAGE GRID: some props Caused Rerender!!!!!")}),[t,a,o,l,c,s,u]),console.log("IMAGEGRID UPDATED!");var y=Object(n.useCallback)((function(e,t){t.photo;var a=t.index;c(!0),h(a),E(!0)}),[c]),v=Object(n.useState)(null),x=Object(i.a)(v,2),O=x[0],w=x[1],k=Object(n.useState)(null),_=Object(i.a)(k,2),j=_[0],P=_[1],M=function(e,t){P(e),w(t.currentTarget)},S=Object(n.useCallback)((function(e){return r.a.createElement($e,{key:e.key,margin:"2px",index:e.index,photo:e.photo,left:e.left,top:e.top,imageToggleFavorites:l,direction:e.direction,openLightbox:e.onClick,handleOpenMenuClick:M})}),[l]);return r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h3",component:"h1",style:{marginTop:"1.9rem"}},"Results:"),r.a.createElement(H.a,{variant:"subtitle1",component:"h2",gutterBottom:!0},0===t.length?"Sorry could not find any photos in that particular area":"Displaying ".concat(t.length," of total ").concat(a.totalPhotos," photos found...")),u.length>0&&r.a.createElement(H.a,{variant:"subtitle2",component:"p",gutterBottom:!0},"(",u.length,") photos from blocked users are hidden."),t.length>0&&r.a.createElement(qe.a,{photos:t,direction:o,renderImage:S,onClick:y}),r.a.createElement(rt.b,null,b?r.a.createElement(rt.a,{onClose:function(){h(0),E(!1),c(!1)}},r.a.createElement(rt.c,{imageToggleFavorites:l,components:{Header:dt,View:mt},currentIndex:p,views:t.map((function(e){return it({},e,{srcset:e.srcSet,caption:e.title})})),styles:{navigationPrev:ut,navigationNext:ut}})):null),r.a.createElement(nt,{anchorEl:O,handleOpenMenuClick:M,handleMenuClose:function(){w(null)},photoData:j}))})),ht=Object(F.a)((function(e){return{button:{margin:"1rem auto",display:"block"}}})),gt=function(e){var t=ht();return r.a.createElement(ne.a,{onClick:e.onClick,variant:"outlined",size:"large",className:t.button},"Load more photos")},ft=a(302),bt=Object(F.a)({root:{flexGrow:1,margin:"0.5rem 0"}});function Et(){var e=bt();return r.a.createElement("div",{className:e.root},r.a.createElement(ft.a,null),r.a.createElement(ft.a,{color:"secondary"}))}var yt=a(100),vt=a(306),xt=a(307),Ot=a(308),wt=Object(F.a)({root:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},input:{marginLeft:"1rem",marginBottom:"1rem"}});function kt(e){var t=wt(),a=r.a.useState(3),n=Object(i.a)(a,2),o=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{align:"center",gutterBottom:!0},"Search Area Radius in Km"),r.a.createElement("div",{className:t.root},r.a.createElement(de.a,{value:o,onChange:function(t,a){l(a),e.setSearchRadius(a)},"aria-labelledby":"input-slider",step:.5,min:.5,max:30,style:{width:"75%",marginRight:"0.5rem",marginLeft:"0.5rem"}}),r.a.createElement(H.a,null,o+" km")))}var _t=a(318),jt=a(304),Pt=a(305),Mt=a(86),St=a.n(Mt),Ct=a(128),Dt=a(303),Tt=Object(F.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:"1px solid #29272752"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},form:{display:"flex",width:"100%",alignItems:"center"}}}));function Nt(){var e=Tt(),t=Object(n.useContext)(p),a=Object(n.useRef)(null),o=Object(n.useRef)(null);Object(n.useEffect)((function(){t.mapLoaded&&(o.current=new window.google.maps.Geocoder)}),[t.mapLoaded]);var l=Object(n.useRef)(null),c=r.a.useCallback((function(){i(o.current,window.map)}),[o]);function i(e,t){var n=a.current.value;e.geocode({address:n},(function(e,a){"OK"===a?t.fitBounds(e[0].geometry.viewport):alert("Geocode was not successful for the following reason: "+a)}))}Object(n.useEffect)((function(){console.log("USEFFECT ON MOUNT(***********************************)"),t.mapLoaded&&(l.current=new window.google.maps.places.Autocomplete(a.current),l.current.setFields(["address_component","formatted_address"]),l.current.addListener("place_changed",c))}),[c,t.mapLoaded]);return r.a.createElement(yt.a,{className:e.root,elevation:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(o.current,window.map)},className:e.form},r.a.createElement(Ct.a,{disabled:!t.mapLoaded,id:"autocomplete",inputRef:a,className:e.input,placeholder:"Search address or location",inputProps:{"aria-label":"search google maps"},defaultValue:"",endAdornment:r.a.createElement(we.a,{position:"end"},r.a.createElement(G.a,{"aria-label":"clear search google maps input",onClick:function(){a.current.value=""}},r.a.createElement(ke.a,null)))}),r.a.createElement(Y.a,{className:e.divider,orientation:"vertical"}),r.a.createElement(G.a,{type:"submit",className:e.iconButton,"aria-label":"search",disabled:!t.mapLoaded},r.a.createElement(Dt.a,null))))}var It=Object(F.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},details_root:{display:"flex",flexFlow:"column"},details_root_geolocation:{padding:"4px",marginBottom:"12px"}}}));function Ft(e){var t=It();return r.a.createElement("div",{className:t.root},r.a.createElement(_t.a,{defaultExpanded:!0},r.a.createElement(jt.a,{expandIcon:r.a.createElement(St.a,null),"aria-controls":"geolocation-search"},r.a.createElement(H.a,{className:t.heading},"Geolocation search")),r.a.createElement(Pt.a,{id:"geolocation-search",classes:{root:t.details_root_geolocation}},r.a.createElement(Nt,null))),r.a.createElement(_t.a,null,r.a.createElement(jt.a,{expandIcon:r.a.createElement(St.a,null),"aria-controls":"request-options-content"},r.a.createElement(H.a,{className:t.heading},"Query Options")),r.a.createElement(Pt.a,{id:"request-options-content",classes:{root:t.details_root}},e.requestOptions)),r.a.createElement(_t.a,null,r.a.createElement(jt.a,{expandIcon:r.a.createElement(St.a,null),"aria-controls":"map-options-content"},r.a.createElement(H.a,{className:t.heading},"Map Options")),r.a.createElement(Pt.a,{id:"map-options-content",classes:{root:t.details_root}},e.mapOptions)))}var Lt=Object(F.a)((function(e){return{panel:{textAlign:"center",maxWidth:"40vw",width:"40vw",display:"flex",flexFlow:"column",overflowY:"scroll"},panel_item:{margin:"8px",display:"flex"},wrapper:{margin:"0.5rem"},divider:{margin:"1rem 0"},control_icon:{marginRight:"1rem"},search_photos_box:{justifyContent:"center"},secondary_btn:{margin:"1rem"},map_options_container:{display:"flex",flexFlow:"column",textAlign:"left"}}})),Rt=function(e){var t=Object(n.useContext)(p),a=Lt();return r.a.createElement(yt.a,{className:a.panel},r.a.createElement("div",{className:a.wrapper},"EXTENTS"===t.searchMethod&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:a.panel_item},r.a.createElement(H.a,null,"Zoom to the location that you want to search for photos and hit the search button.")),r.a.createElement(V.a,{className:a.panel_item+a.search_photos_box},r.a.createElement(ne.a,{disabled:!t.mapLoaded,variant:"contained",style:{backgroundColor:"#179207",width:"100%"},size:"large",onClick:e.searchFlikr},r.a.createElement(vt.a,{className:a.control_icon}),"Search Photos"),e.loadingPhotos&&r.a.createElement(Et,null))),"CIRCLE"===t.searchMethod&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:a.panel_item},r.a.createElement(H.a,null,"Drag the blue circle on the map to select the place where you want\nto search for photos, when done press the button below to make the request.")),r.a.createElement(kt,{setSearchRadius:e.setSearchRadius}),r.a.createElement(V.a,{className:a.panel_item+" "+a.search_photos_box},r.a.createElement(Q.a,{title:"Move Search-Area to the Center of map","aria-label":"Move Search-Area to the Center of map"},r.a.createElement(ne.a,{variant:"contained",color:"primary",size:"medium",className:a.secondary_btn,onClick:e.centerSearchAreaOnMap},r.a.createElement(xt.a,null))),r.a.createElement(Q.a,{title:"Zoom to Search-Area extents","aria-label":"Zoom to Search-Area extents"},r.a.createElement(ne.a,{variant:"contained",color:"primary",size:"medium",className:a.secondary_btn,onClick:e.zoomToSearchArea},r.a.createElement(Ot.a,null))))),r.a.createElement(Y.a,{className:a.divider}),r.a.createElement(Ft,{requestOptions:r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null),r.a.createElement(Oe,{handeSelectSortMethod:e.handeSelectSortMethod,sortMethod:e.sortMethod}),r.a.createElement(_e,{handleTextQueryChange:e.handleTextQueryChange,clearTextQuery:e.clearTextQuery,searchText:e.searchText,searchFlikr:e.searchFlikr}),r.a.createElement(Y.a,{className:a.divider}),r.a.createElement(De,null),r.a.createElement(Te,null),r.a.createElement(Y.a,{className:a.divider}),r.a.createElement(Ne,null),r.a.createElement(Ie,null)),mapOptions:r.a.createElement("div",{className:a.map_options_container},r.a.createElement(Ue,{callback:e.togglePhotoMarkerDisplay,checked:e.displayPhotoMarkers,label:"Hide all results from map"}),r.a.createElement(Ue,{callback:e.toggleFavorites,checked:e.displayFavorites,label:"Hide all favorites from map"}),r.a.createElement(ne.a,{variant:"contained",style:{marginTop:"1rem",color:"black"},color:"secondary",size:"large",onClick:e.handleMyLocationClick,disabled:!t.mapLoaded},r.a.createElement(ue.a,{style:{marginRight:"1rem"}}),"My location"))}),r.a.createElement(V.a,{className:a.panel_item},e.children)))},Ut=Object(F.a)((function(e){return{panel:{textAlign:"center",display:"flex",flexFlow:"column"},panel_item:{margin:"8px",display:"flex"},wrapper:{margin:"0 0.5rem"},divider:{margin:"1rem 0"},control_icon:{marginRight:"1rem"},search_photos_box:{justifyContent:"center"},secondary_btn:{margin:"0 1rem"},search_btn_box:{margin:"0.5rem 0",width:"100%"}}})),At=function(e){var t=Ut(),a=Object(n.useContext)(p);return r.a.createElement(yt.a,{className:t.panel},r.a.createElement("div",{className:t.wrapper},"EXTENTS"===a.searchMethod?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:"5px"}},"Zoom to the location that you want to search for photos and hit the search button."),r.a.createElement(Nt,null),r.a.createElement(Q.a,{title:"Search Photos","aria-label":"Search Photos"},r.a.createElement(ne.a,{variant:"contained",style:{backgroundColor:"#179207"},size:"large",onClick:e.searchFlikr,className:t.search_btn_box},r.a.createElement(vt.a,{className:t.control_icon}),"Search Photos"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,{setSearchRadius:e.setSearchRadius}),r.a.createElement(Y.a,{className:t.divider}),r.a.createElement(V.a,{className:t.panel_item+" "+t.search_photos_box},r.a.createElement(Q.a,{title:"Search Photos","aria-label":"Search Photos"},r.a.createElement(ne.a,{variant:"contained",style:{backgroundColor:"#179207"},size:"medium",onClick:e.searchFlikr,className:t.secondary_btn},r.a.createElement(vt.a,null))),r.a.createElement(Q.a,{title:"Move Search-Area to the Center of map","aria-label":"Move Search-Area to the Center of map"},r.a.createElement(ne.a,{variant:"contained",color:"primary",size:"medium",className:t.secondary_btn,onClick:e.centerSearchAreaOnMap},r.a.createElement(xt.a,null))),r.a.createElement(Q.a,{title:"Zoom to Search-Area extents","aria-label":"Zoom to Search-Area extents"},r.a.createElement(ne.a,{variant:"contained",color:"primary",size:"medium",className:t.secondary_btn,onClick:e.zoomToSearchArea},r.a.createElement(Ot.a,null)))))))},zt=function(e){var t=3e3,a=setInterval((function(){t<=0&&n(),window.map?(e(),n()):t-=10}),10),n=function(){return clearInterval(a)}};function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qt=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,322))}));var Gt=function(){var e=Object(n.useContext)(p),t=Object(n.useContext)(h),a=Object(s.a)("(min-width:900px)"),o=r.a.useRef(null),l=Object(n.useState)("date-posted-desc"),c=Object(i.a)(l,2),u=c[0],g=c[1],f=function(e){g(e.target.value)},b=Object(n.useState)(""),E=Object(i.a)(b,2),v=E[0],j=E[1],S=function(e,t){j(e.target.value)},C=function(){return j("")},D=Object(n.useState)(!1),T=Object(i.a)(D,2),I=T[0],F=T[1],L=Object(n.useState)(!1),R=Object(i.a)(L,2),U=R[0],A=R[1],z=Object(n.useState)(!1),B=Object(i.a)(z,2),H=B[0],Q=B[1],G=function(){return A(!0)},V=Object(n.useCallback)((function(){return A(!1)}),[A]),q=function(){return Q(!0)},W=Object(n.useCallback)((function(){return Q(!1)}),[Q]),X=Object(n.useState)(!0),Z=Object(i.a)(X,2),K=Z[0],J=Z[1],Y=Object(n.useState)(null),$=Object(i.a)(Y,2),ee=$[0],te=$[1],ae=Object(n.useState)("row"),ne=Object(i.a)(ae,2),re=ne[0],oe=ne[1],le=Object(n.useState)(!1),ce=Object(i.a)(le,2),ie=ce[0],se=ce[1],ue=Object(n.useState)(!0),me=Object(i.a)(ue,2),de=me[0],pe=me[1],he=Object(n.useCallback)((function(){pe(!de)}),[pe,de]),ge=Object(n.useState)(!0),fe=Object(i.a)(ge,2),be=fe[0],Ee=fe[1],ye=function(){return Ee(!be)},ve=Object(n.useCallback)((function(e,a){console.log(a),t(a?{type:M,image:e}:{type:P,image:e})}),[t]),xe=Object(n.useState)(!1),Oe=Object(i.a)(xe,2),we=Oe[0],ke=Oe[1],_e=Object(n.useCallback)((function(){return ke(!1)}),[ke]),je=Object(n.useState)(!1),Pe=Object(i.a)(je,2),Me=Pe[0],Se=Pe[1],Ce=Object(n.useCallback)((function(){return Se(!1)}),[Se]),De=function(){var a;switch(console.log("fetching..."),e.searchMethod){case"CIRCLE":a={lat:e.searchCenter.lat,lng:e.searchCenter.lng,radius:e.searchRadius,searchMethod:e.searchMethod,resultsPerPage:e.resultsPerPage,minUploadDate:e.minUploadDate,maxUploadDate:e.maxUploadDate,minTakenDate:e.minTakenDate,maxTakenDate:e.maxTakenDate,sortMethod:u,searchText:v};break;case"EXTENTS":var n=window.map?window.map.getBounds().toJSON():"error";a={searchMethod:e.searchMethod,minUploadDate:e.minUploadDate,maxUploadDate:e.maxUploadDate,minTakenDate:e.minTakenDate,maxTakenDate:e.maxTakenDate,resultsPerPage:e.resultsPerPage,bounds:n,sortMethod:u,searchText:v};break;default:return void console.log("invalid searchMethod")}F(!0),m(a).then((function(e){F(!1),te(Ht({},e)),t({type:k,photos:e.photos}),window.setTimeout((function(){o.current.scrollIntoView({behavior:"smooth",block:"center"})}),100)})).catch((function(e){console.log(e),F(!1)}))};Object(n.useEffect)((function(){console.log(e),console.log(ee)}),[e,ee]),Object(n.useEffect)((function(){console.log(e.filteredPhotos)}),[e.filteredPhotos]),Object(n.useEffect)((function(){fetch("https://geoip-db.com/json/42e6a770-b3ac-11e9-80ca-c95181800da7").then((function(e){return e.json()})).then((function(e){t({type:x,userLocation:{lat:e.latitude,lng:e.longitude}})})).catch((function(e){console.log(e)}))}),[]);var Te=function(e){zt((function(){window.map.panTo(e),window.map.setZoom(16)}))},Ne=function(){if(e.userLocation)Te(e.userLocation);else{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){Te({lat:e.coords.latitude,lng:e.coords.longitude}),t({type:x,userLocation:{lat:e.coords.latitude,lng:e.coords.longitude}})}),(function(e){return console.log(e)})):alert("Sorry geolocation is not supported by your broweser.")}},Ie=Object(n.useCallback)((function(e){t({type:y,boundingBox:e})}),[t]),Fe=Object(n.useCallback)((function(e){t({type:w,searchCenter:e})}),[t]),Le=function(e){t({type:O,searchRadius:e})};return r.a.createElement("div",{className:"App"},r.a.createElement(Ve,{toggleMap:function(){J(!K)},appBarHide:ie,photos:ee?ee.totalPages:0,toggleGridDirection:function(){oe("row"===re?"column":"row")},gridDirection:re,handeSelectSortMethod:f,sortMethod:u,handleTextQueryChange:S,clearTextQuery:C,searchText:v,searchFlikr:De,handleMyLocationClick:Ne,togglePhotoMarkerDisplay:he,toggleFavorites:ye,displayPhotoMarkers:de,displayFavorites:be},r.a.createElement("section",{style:a?{display:"flex",height:"calc(100vh - 7px - 64px)"}:{display:"flex",height:"calc(100vh - 7px - 64px )",flexFlow:"column"}},a&&r.a.createElement(Rt,{setSearchRadius:Le,searchFlikr:De,loadingPhotos:I,zoomToSearchArea:G,centerSearchAreaOnMap:q,sortMethod:u,handeSelectSortMethod:f,handleTextQueryChange:S,clearTextQuery:C,searchText:v,zoomToLocation:Te,togglePhotoMarkerDisplay:he,toggleFavorites:ye,displayPhotoMarkers:de,displayFavorites:be,handleMyLocationClick:Ne}),!a&&r.a.createElement(At,{setSearchRadius:Le,searchFlikr:De,loadingPhotos:I,zoomToSearchArea:G,centerSearchAreaOnMap:q,sortMethod:u,handeSelectSortMethod:f,handleTextQueryChange:S,searchText:v}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(d.a,{variant:"rect"})},r.a.createElement(Qt,{setMapLoaded:function(){t({type:N,mapLoaded:!0})},photos:e.mapPhotos,favorites:e.favorites,userLocation:e.userLocation,setSearchCenter:Fe,searchRadius:e.searchRadius,displayPhotoMarkers:de,displayFavorites:be,setBounds:Ie,triggerMapExtents:Me,disableMapExtentsTrigger:Ce,triggerPlotRadiusMarkerOnMap:we,disableRadiusTrigger:_e,triggerZoom:U,disableZoom:V,triggerCenter:H,disableCenter:W,screenWidth900px:a}))),r.a.createElement("div",{ref:o}),e.filteredPhotos&&r.a.createElement(pt,{photos:e.filteredPhotos,hiddenPhotos:e.hiddenPhotos,responseDetails:ee,direction:re,imageToggleFavorites:ve,columns:2,setAppBarHide:se}),ee&&ee.currentPage<ee.totalPages&&r.a.createElement(r.a.Fragment,null,I&&r.a.createElement(Et,null),r.a.createElement(gt,{onClick:function(){console.log("fetching next page...");var e=Ht({},ee,{resultsPerPage:ee.perPage});ee.currentPage<ee.totalPages&&(e.page=ee.currentPage+1),console.log(e),F(!0),m(e).then((function(e){F(!1),te(Ht({},e)),t({type:_,photos:e.photos})})).catch((function(e){F(!1)}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(e){var t=Object(n.useReducer)(I,{boundingBox:null,radiusMarker:null,mapLoaded:!1,searchMethod:"EXTENTS",resultsPerPage:30,userLocation:null,searchRadius:3,searchCenter:{lat:48.80582620218145,lng:2.1164958494489383},photos:null,filteredPhotos:null,mapPhotos:[],hiddenPhotos:[],blockedUsers:[],favorites:[],minUploadDate:!1,maxUploadDate:!1,minTakenDate:!1,maxTakenDate:!1}),a=Object(i.a)(t,2),o=a[0],l=a[1];return r.a.createElement(h.Provider,{value:l},r.a.createElement(p.Provider,{value:o},e.children))}),null,r.a.createElement(A.a,null),r.a.createElement(Gt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[149,1,2]]]);
//# sourceMappingURL=main.5d64d466.chunk.js.map