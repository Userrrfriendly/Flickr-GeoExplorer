{"version":3,"sources":["assets/loveinterestDark.png","assets/photoDark_Blue.png","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","components/map/mapContainer.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/inherits.js"],"names":["module","exports","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","infoWindowContents","data","title","thumb","width_t","owner","photoId","mapStyle","width","border","maxWidth","boxSizing","minHeight","maxHeight","Map","self","call","assertThisInitialized","state","boundingBox","selectionMarker","photoMarkers","favorites","handleGoogleMapsError","window","gm_authFailure","props","document","querySelector","innerHTML","createGoogleApiScript","userLocation","body","script","createElement","src","async","defer","onerror","write","insertBefore","lastElementChild","addEventListener","setMapLoaded","initMap","console","log","map","google","maps","getElementById","center","lat","lng","zoom","gestureHandling","mapTypeId","MapTypeId","TERRAIN","streetViewControl","fullscreenControl","largeInfowindow","InfoWindow","event","addListenerOnce","getElementsByTagName","addPolygon","centerXY","toJSON","removePolygon","setBounds","zoomBounds","getBounds","northSouth","north","south","eastWest","east","west","boundsDynamic","removeMarker","rectangle","Rectangle","bounds","editable","draggable","setMap","getRadiusMarkerCoordinates","addListener","setState","polygon","createPhotoMarker","pin","show","marker","Marker","position","geolocation","icon","photoMarker","scaledSize","animation","Animation","DROP","color","SETIMG","LASTMARKER","setIcon","heartMarker","RESET","forEach","prevState","pins","push","panTo","this","getPosition","setContent","open","showAllPhotoMarkers","markers","i","length","hideAllPhotoMarkers","showAllFavorites","hideAllFavorites","pinFavorite","img","favorite","addSearchCircle","searchCircle","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","radius","searchRadius","SEARCHRADIUS","centerSearchCircle","setCenter","setSearchCenter","zoomToBounds","getCenter","fitBounds","subClass","superClass","TypeError","prototype","create","constructor","value","writable","configurable","prevProps","setRadius","photos","photo","displayPhotoMarkers","showFavorites","displayFavorites","f","triggerPhotoMarker","disableTriggerPhotoMarker","triggerCenter","disableCenter","triggerZoom","disableZoom","role","aria-label","id","style","screenWidth900px","flexGrow","React","Component","memo"],"mappings":"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","file":"static/js/3.beea5f8b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVRYhc2XsU8TURzHP1ehKQWJgILEzRhhMUqLEqIDw90AXSAsBBYHRhKYmN39G2CDjYGhxOStCoEEjIYBiFGjCQGiULDApdQ7h75XrnB37eER/SUv13u/vvf93K+/+/X9NNu2ATAMowqIAFF5rSJcywMWkAMsIUQeQLNtW4lHgZgcUQkQCUnckgA5wJQjJ4TIa7quK/E4UC+vMa4nAiZwAhzJa049ZUyKNwshlkIWLjHDMLrlRwvIO0MfF0IsfRoZ4XhtDXNjI1ThWHs7tYkEQoglwzAeIX8GZ+LFgGsRBy7uqfIsorJdjWsRd4EoaqosDyvbg1jkXwlfpvhvAW729PDk2zfuvXp1yXd3YoKO7W2ahob+CkDTdb0RuA00CiGWljUNgC5Zop22UlODbZquPrWunHUVKm83sA/8cI3A/elp18XPTk9dxQGemmZFABfNFeBGfX3ZhVsDA6y1tpI/POQgnWY9kThf39hIcn+fZCZDVXOz7z6u9f53Nuu7aDOVoi2dLt43pFI0pFIsaxqJnR2qW1qKvuTuLqebm3xsb3fdyzUCn1++9BTfGhwsEXdal22XiCuraWvz3M/zLdh+/dp1/tfbt56b+VkkHg8G8H1ykuPV1UvzN1+8uBKAdXISDABgvbOTvampkrmHc3N8HR+/EkRgAIAvo6Ns9PaWzN3xyRE386sRFZXiwzdvWGttLd5/HRuruPAsV1f7+is+dp3t7LCZSnGrr4/s4mJhc03zLEzKX84CnfsyCwtkFhYuifxNaQ7l33BZ07DPzgKLhwYAsBKNcjA/H0jcCWCFAbHV3x/k65YCyDsGMY+aHYY59i5qRjhvl0yA2kTiWiDUsVyaKTUtTdf1KFAH3MKnMfk0MsLP2dmKxJqGh3kwM+Pqk4eRPSADZKsoRMCk0C4hmwZnaxYBEEK8A8pCKHHDMJ7LKZVfF1szE7AqaU6LZ3ghxKpfJBziSUpzy7s5LdOeq6uzfXvvBuEQ75BPqX5nJ4B7e+5nEixGIU/qJMQHJ4RD/LEUz8phKiEvKwvgAVGnIgE4nzxLAPGKAVwg6iXEqvQlpehREPFAABcg4nJEpStHIfQnQcQDAzggVFKqV1W9Yrkg4gB/AEq+djdASXN9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVRYhcWXP0wTURyAv5am1KY0JRJMCEkDQhxQREmMooREe4mDOKiDcXEE4wIOrq5uxIFBw2RcSUxYNM8YFgKDRCViTGwkTfwHBUVoylkuV4e+V694tH2llV/y8tp3l/d99+737u7nyWazABiG4QO8gF/2PqobFmADGcAWQlgAnmw2q+B+ICCbXwp4qwS3pUAGMGXLCCEsTywWU/AgEJZ9gNqsgAmkgQ3ZZ9RVBiS8WQgxW2VwQRiGcUb+tAHLufRBIcTs0GiChcU0Hz/9riq4s72e7q4gQohZwzCOIW+DM/ECQE3gwM45VZ55VbarVhO4i0SeqbK8WtmuE979Av9rsZ9R1l5vbvLxfu5o/n9bzwKbKfv/CaysWjR1vKkKUFtgNd6zJ0Ap8Yoet2pSNzknsBz5igTUxM9f/uL78jatLX4uDITLhu5ZYO2Hxe27CV5Mb+bHBvpCTD7u0J6rom145NQ7Ll+MsBrvybf+voaKElVbYPHDFgA3rh0sGB8ZPgTA56+Z2gok16yix9Nbes8HbYGT3UEAvi1vF4zHl0wAWlv8tRUIN9TxaCzK8J0Ec69SLCe3mZ7Z5OatJSYeRAke0Juyol1wZbCRSKSOS9fj+bGnTw5z7nSD9lwlde/d/+I6fr4/XLAL3OBTz9Zpixa/JSVXYHwiyfhEstRpFce+v46VQHXerXphKwHL0ehsr68Z0TF3nunlb7lkAnR3BWsioT7LZZiSaXtisZgfCAERihQmQ6MJJqd+lgW7OtjIw7Go6zFZmKwA60DKR24FTHLlErJocJZmXgAhxAxQUkLBDcM4K4dUfu0szUzALqc4zX/DCyHmi62EA95LYW7tXpyWKM9V7yzfXrtJOOAn5FWq++wUcC/Pi4UUC5DLk5CUeOuUcMCPS3hKNlOBdouSArtIhNRKAM4rT6EBL1vARSIsJeblsV4J3dCBawnskAjKpt40GXJLn9aBaws4JFRSqq2qtlhGBw7wBzAAVz/sPdCmAAAAAElFTkSuQmCC\"","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import React from \"react\";\r\n\r\nimport heartMarker from \"../../assets/loveinterestDark.png\";\r\nimport photoMarker from \"../../assets/photoDark_Blue.png\";\r\n\r\nconst infoWindowContents = data => {\r\n  return `\r\n  <h1 style=\"font-size:1rem;text-align:center;\"> ${\r\n    data.title ? data.title : \"untitled photo\"\r\n  } </h1>\r\n  <img title=\"${\r\n    data.title ? data.title : \"untitled photo\"\r\n  }\" style=\"margin: 0 auto;display: block;cursor:pointer;\" \r\n    src=${data.thumb} alt=\"${data.title}\">\r\n  <a \r\n    title=\"open photo in flickr\"\r\n    style=\"background-color: #3f51b5;\r\n    width: ${data.width_t}px;\r\n    color: white;\r\n    padding: 4px 5px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    text-align: center;\r\n    margin: 0 auto 0.5rem ;\r\n    display: block;\" \r\n    href=https://www.flickr.com/photos/${data.owner}/${data.photoId}\r\n    target=\"_blank\">View in flickr\r\n  </a>\r\n  `;\r\n};\r\n\r\n/*When the Map component mounts the following happen:\r\n * the google maps callback is 'tied' to the window obj (componentDidMount())\r\n * a script with the google maps api is created and inserted at the bottom of the body (createGoogleApiScript)\r\n * the callback func fires (initMap) and initializes google maps\r\n * then initMap creates the default markers (addDefaultMarkers) and the default infowindow\r\n *** At this point the App is ready for user interaction\r\n */\r\n\r\nconst mapStyle = {\r\n  width: \"100vw\",\r\n  // height: \"75vh\",\r\n  border: \"1px solid black\",\r\n  maxWidth: \"100%\",\r\n  boxSizing: \"border-box\",\r\n  minHeight: \"75vh\",\r\n  maxHeight: \"100%\"\r\n};\r\n\r\nclass Map extends React.Component {\r\n  state = {\r\n    boundingBox: null,\r\n    selectionMarker: null,\r\n    photoMarkers: [],\r\n    favorites: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.initMap = this.initMap;\r\n    this.handleGoogleMapsError();\r\n    this.createGoogleApiScript(this.state.userLocation);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(this.props);\r\n    /**SET RADIUS IF IT CHANGED */\r\n    if (prevProps.searchRadius !== this.props.searchRadius) {\r\n      this.searchCircle.setRadius(this.props.searchRadius * 1000);\r\n    }\r\n    console.log(\"map updated\");\r\n\r\n    if (prevProps.photos !== this.props.photos) {\r\n      console.log(\"PHOTOS CHANGED - RERENDERING MARKERS\");\r\n      let photos = this.props.photos;\r\n      this.state.photoMarkers.forEach(pin => pin.setMap(null));\r\n      this.setState({ photoMarkers: [] });\r\n\r\n      photos.forEach(photo => {\r\n        return this.createPhotoMarker(photo, this.props.displayPhotoMarkers);\r\n      });\r\n    } else {\r\n      console.log(\"PHOTOS DID NOT CHANGE - NO RERENDER FOR MARKERS\");\r\n    }\r\n\r\n    if (prevProps.favorites !== this.props.favorites) {\r\n      console.log(\"if prevProps favorites....\");\r\n      this.hideAllFavorites();\r\n      this.setState({ favorites: [] });\r\n      const showFavorites = this.props.displayFavorites;\r\n      this.props.favorites.forEach(f => this.pinFavorite(f, showFavorites));\r\n    }\r\n\r\n    if (prevProps.displayPhotoMarkers !== this.props.displayPhotoMarkers) {\r\n      console.log(\"SHOW/HIDE PHOTOMARKERS\");\r\n      this.props.displayPhotoMarkers\r\n        ? this.showAllPhotoMarkers()\r\n        : this.hideAllPhotoMarkers();\r\n    }\r\n\r\n    if (prevProps.displayFavorites !== this.props.displayFavorites) {\r\n      console.log(\"SHOW/HIDE PHOTOMARKERS\");\r\n      this.props.displayFavorites\r\n        ? this.showAllFavorites()\r\n        : this.hideAllFavorites();\r\n    }\r\n\r\n    // if (prevProps.userLocation !== this.props.userLocation) {\r\n    //   /**  even though the component has mounted and is currently in re-render(update) phase\r\n    //    * window.map can be undefined (especially on first load where google.maps api is not cached and is not fully initialized)\r\n    //    * so there is a slim chance that window.map.panTo will run before google.maps is fully loaded thus trowing an error\r\n    //    * mapReady() checks if google.maps is loaded before trying to zoom  to the users location\r\n    //    * each time the check results to false it retries after 10ms, when the waitingTrheshold (3seconds) runs out it gives up\r\n    //    * (at this point google maps probably failed for some other reason, like network error, or auth problems...)\r\n    //    */\r\n    //   let waitingThreshold = 3000; //max number of milliseconds to wait for google.maps to initialize\r\n    //   const mapReady = () => {\r\n    //     if (waitingThreshold <= 0) {\r\n    //       stopTimer();\r\n    //     }\r\n    //     if (window.map) {\r\n    //       window.map.panTo(this.props.userLocation);\r\n    //       // this.addSearchCircle(this.props.userLocation);\r\n    //       window.map.setZoom(16);\r\n    //       stopTimer();\r\n    //     } else {\r\n    //       waitingThreshold -= 10;\r\n    //     }\r\n    //   };\r\n    //   const timer = setInterval(mapReady, 10);\r\n    //   const stopTimer = () => clearInterval(timer);\r\n    // }\r\n\r\n    // if (this.props.triggerMapExtents) {\r\n    //   window.\r\n    //   this.props.disableMapExtentsTrigger();\r\n    // }\r\n\r\n    if (this.props.triggerPhotoMarker) {\r\n      this.createPhotoMarker(\r\n        this.props.triggerPhotoMarker,\r\n        this.props.displayPhotoMarkers\r\n      );\r\n      this.props.disableTriggerPhotoMarker();\r\n    }\r\n\r\n    if (this.props.triggerCenter) {\r\n      this.searchCircle.setCenter(window.map.getCenter().toJSON());\r\n      this.props.disableCenter();\r\n    }\r\n\r\n    if (this.props.triggerZoom) {\r\n      this.zoomToBounds();\r\n      this.props.disableZoom();\r\n    }\r\n\r\n    // if (this.props.triggerBoundingBox) {\r\n    //   this.addPolygon();\r\n    //   this.props.disableBoundingBoxTrigger();\r\n    // }\r\n  }\r\n\r\n  handleGoogleMapsError = () => {\r\n    /* google maps method for handling authentication errors\r\n     * more on: https://developers.google.com/maps/documentation/javascript/events#auth-errors*/\r\n    window.gm_authFailure = () => {\r\n      this.props.handleGoogleMapsError();\r\n      document.querySelector(\".gm-err-title\").innerHTML =\r\n        \"Oops it seems there was a problem loading Google Maps!\";\r\n      document.querySelector(\".gm-err-message\").innerHTML =\r\n        \"Failed to authenticate Google Maps, please try again later\";\r\n    };\r\n  };\r\n\r\n  createGoogleApiScript = userLocation => {\r\n    let body = window.document.querySelector(\"body\");\r\n    let script = window.document.createElement(\"script\");\r\n    script.src =\r\n      \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCzs3fKNRPknPJs8LaW9rsCvBxeY2QCJhg&v=3&libraries=places&callback=initMap\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onerror = function() {\r\n      document.write(\"Error Loading Google Maps...\");\r\n    };\r\n    body.insertBefore(script, body.lastElementChild);\r\n    script.addEventListener(\"load\", () => {\r\n      // console.log(window.google);\r\n      this.props.setMapLoaded();\r\n    });\r\n  };\r\n\r\n  initMap = () => {\r\n    console.log(\"Google Maps API Loaded...\");\r\n    // const rome = {\r\n    //   lat: 41.890384586382844,\r\n    //   lng: 12.492241690388028\r\n    // }; //Rome, colosseo\r\n    const europe = { lat: 47.55241106676634, lng: 11.389968539500511 };\r\n\r\n    window.map = new window.google.maps.Map(\r\n      document.getElementById(\"map-container\"),\r\n      {\r\n        center: europe,\r\n        zoom: 5,\r\n        gestureHandling: \"cooperative\",\r\n        mapTypeId: window.google.maps.MapTypeId.TERRAIN,\r\n        streetViewControl: false,\r\n        fullscreenControl: false\r\n      }\r\n    );\r\n    window.largeInfowindow = new window.google.maps.InfoWindow({\r\n      maxWidth: 200\r\n    });\r\n\r\n    // this.addSearchCircle(rome);\r\n\r\n    window.google.maps.event.addListenerOnce(window.map, \"idle\", () => {\r\n      document.getElementsByTagName(\"iframe\")[0].title = \"Google Maps\";\r\n      /* https://stackoverflow.com/questions/49012240/google-maps-js-iframe-title \r\n            used to pass the (false possitive) accessibility audits */\r\n    });\r\n  };\r\n\r\n  /*** ADDING POLYGON + add marker*/\r\n  addPolygon = () => {\r\n    const centerXY = window.map.center.toJSON();\r\n    /** fixed size roughly 2x2 km box  **/\r\n    // const km = 0.009;\r\n    // const boundsStatic = {\r\n    //   north: centerXY.lat + km,\r\n    //   south: centerXY.lat - km,\r\n    //   east: centerXY.lng + km,\r\n    //   west: centerXY.lng - km\r\n    // };\r\n\r\n    /** dyniamic based on zoom level roughly 25% of map width/height  **/\r\n    if (this.state.boundingBox) {\r\n      this.removePolygon();\r\n      this.props.setBounds(null);\r\n      // this.setState({ polygon: null });\r\n    } else {\r\n      const zoomBounds = window.map.getBounds().toJSON();\r\n      const northSouth = (zoomBounds.north - zoomBounds.south) / 5;\r\n      const eastWest = (zoomBounds.east - zoomBounds.west) / 5;\r\n      const boundsDynamic = {\r\n        north: centerXY.lat + northSouth,\r\n        south: centerXY.lat - northSouth,\r\n        east: centerXY.lng + eastWest,\r\n        west: centerXY.lng - eastWest\r\n      };\r\n      //if there is a polygon /or a marker on the screen remove it\r\n      this.removePolygon();\r\n      this.removeMarker();\r\n      // Define a rectangle and set its editable property to true.\r\n      this.rectangle = new window.google.maps.Rectangle({\r\n        bounds: boundsDynamic,\r\n        editable: true,\r\n        draggable: true\r\n      });\r\n      this.rectangle.setMap(window.map);\r\n      this.props.getRadiusMarkerCoordinates(null);\r\n      this.props.setBounds(boundsDynamic);\r\n      this.rectangle.addListener(\"bounds_changed\", () =>\r\n        this.props.setBounds(this.rectangle.bounds.toJSON())\r\n      );\r\n      this.setState({ boundingBox: this.rectangle });\r\n      window.polygon = this.rectangle;\r\n    }\r\n  };\r\n\r\n  removePolygon = () => {\r\n    if (this.state.boundingBox) {\r\n      this.state.boundingBox.setMap(null);\r\n      this.setState({ boundingBox: null });\r\n    }\r\n  };\r\n\r\n  createPhotoMarker = (pin, show) => {\r\n    let marker = new window.google.maps.Marker({\r\n      position: pin.geolocation,\r\n      map: show ? window.map : null,\r\n      icon: photoMarker,\r\n      scaledSize: 0.5,\r\n      title: pin.title,\r\n      animation: window.google.maps.Animation.DROP,\r\n      photoId: pin.photoId,\r\n      color: \"blue\"\r\n    });\r\n\r\n    window.SETIMG = () => window.LASTMARKER.setIcon(heartMarker);\r\n    window.RESET = () => {\r\n      this.state.photoMarkers.forEach(pin => pin.setMap(null));\r\n      this.setState({ photoMarkers: [] });\r\n    };\r\n\r\n    this.setState(prevState => {\r\n      const pins = prevState.photoMarkers;\r\n      pins.push(marker);\r\n      return { photoMarkers: pins };\r\n    });\r\n\r\n    marker.addListener(\"click\", function() {\r\n      window.map.panTo(this.getPosition());\r\n      // window.largeInfowindow.setContent(\"test\");\r\n      window.largeInfowindow.setContent(infoWindowContents(pin));\r\n\r\n      // window.map.setZoom(14);\r\n      // window.map.openInfoWindow(marker, window.largeInfowindow);\r\n      window.largeInfowindow.open(window.map, marker);\r\n      // toggleBounce();\r\n    });\r\n    window.photoMarker = marker;\r\n\r\n    // marker.addListener('click', function() {\r\n    //   infowindow.open(map, marker);\r\n    // });\r\n  };\r\n\r\n  showAllPhotoMarkers = () => {\r\n    const map = window.map;\r\n    const markers = this.state.photoMarkers;\r\n    for (let i = 0; i < markers.length; i++) {\r\n      markers[i].setMap(map);\r\n    }\r\n  };\r\n\r\n  hideAllPhotoMarkers = () => {\r\n    const markers = this.state.photoMarkers;\r\n    for (let i = 0; i < markers.length; i++) {\r\n      markers[i].setMap(null);\r\n    }\r\n  };\r\n\r\n  showAllFavorites = () => {\r\n    const map = window.map;\r\n    const markers = this.state.favorites;\r\n    for (let i = 0; i < markers.length; i++) {\r\n      markers[i].setMap(map);\r\n    }\r\n  };\r\n\r\n  hideAllFavorites = () => {\r\n    const markers = this.state.favorites;\r\n    for (let i = 0; i < markers.length; i++) {\r\n      markers[i].setMap(null);\r\n    }\r\n  };\r\n\r\n  pinFavorite = (img, show) => {\r\n    let marker = new window.google.maps.Marker({\r\n      position: img.geolocation,\r\n      map: show ? window.map : null,\r\n      icon: heartMarker,\r\n      title: img.title,\r\n      animation: window.google.maps.Animation.DROP,\r\n      photoId: img.photoId,\r\n      favorite: true\r\n    });\r\n\r\n    this.setState(prevState => {\r\n      const favorites = prevState.favorites;\r\n      favorites.push(marker);\r\n      return { favorites: favorites };\r\n    });\r\n\r\n    marker.addListener(\"click\", function() {\r\n      window.map.panTo(this.getPosition());\r\n      window.largeInfowindow.setContent(infoWindowContents(img));\r\n      window.largeInfowindow.open(window.map, marker);\r\n    });\r\n  };\r\n\r\n  addSearchCircle = center => {\r\n    this.searchCircle = new window.google.maps.Circle({\r\n      strokeColor: \"#0e2a99\",\r\n      strokeOpacity: 0.8,\r\n      strokeWeight: 2,\r\n      fillColor: \"#64b1e8\",\r\n      fillOpacity: 0.35,\r\n      map: window.map,\r\n      center: center ? center : { lat: 48.8, lng: 2.29 },\r\n      radius: this.props.searchRadius * 1000, //radius in store is in KM radius in maps is meters\r\n      draggable: true\r\n    });\r\n    window.SEARCHRADIUS = this.searchCircle; //DEBUGGING ONLY\r\n\r\n    /** a circle bound to the center of searchCircle,\r\n     * its only purpose is to graphically represent searchCircle's center */\r\n    this.centerSearchCircle = new window.google.maps.Circle({\r\n      strokeColor: \"#0e0047\",\r\n      strokeOpacity: 0.8,\r\n      strokeWeight: 3,\r\n      fillColor: \"#0e0047\",\r\n      fillOpacity: 0.35,\r\n      map: window.map,\r\n      center: this.searchCircle.center.toJSON(),\r\n      radius: 10\r\n    });\r\n\r\n    // window.testCENTER = this.centerSearchRadius;\r\n\r\n    this.searchCircle.addListener(\"drag\", () => {\r\n      this.centerSearchCircle.setCenter(this.searchCircle.center.toJSON());\r\n      // console.log(this.searchRadius.center.toJSON());\r\n    });\r\n\r\n    this.searchCircle.addListener(\"dragend\", () => {\r\n      this.props.setSearchCenter(this.searchCircle.center.toJSON());\r\n    });\r\n    this.searchCircle.addListener(\"center_changed\", () => {\r\n      this.props.setSearchCenter(this.searchCircle.center.toJSON());\r\n      this.centerSearchCircle.setCenter(this.searchCircle.center.toJSON());\r\n    });\r\n  };\r\n\r\n  zoomToBounds = () => {\r\n    const km = 0.009; //roughtly one km in degrees of lat/lng\r\n    const center = this.searchCircle.getCenter().toJSON();\r\n    const bounds = {\r\n      north: center.lat + km * this.props.searchRadius,\r\n      south: center.lat - km * this.props.searchRadius,\r\n      east: center.lng + km * this.props.searchRadius,\r\n      west: center.lng - km * this.props.searchRadius\r\n    };\r\n    console.log(bounds);\r\n    window.map.fitBounds(bounds);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        role=\"application\"\r\n        aria-label=\"Map\"\r\n        id=\"map-container\"\r\n        style={\r\n          this.props.screenWidth900px\r\n            ? mapStyle\r\n            : {\r\n                ...mapStyle,\r\n                minHeight: \"50vh\",\r\n                flexGrow: \"1\"\r\n              }\r\n        }\r\n      ></div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.memo(Map);\r\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}"],"sourceRoot":""}