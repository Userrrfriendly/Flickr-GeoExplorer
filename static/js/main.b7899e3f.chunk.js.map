{"version":3,"sources":["requests/flikr.js","components/map/mapContainer.js","context/stateContext.js","context/dispatchContext.js","context/rootReducer.js","assets/logo.js","components/appBar/appBar.js","components/imageWrapper/imageWrapper.js","components/imageGrid/imageGrid.js","components/controls/SplitBtn.js","components/controls/controls.js","components/controls/loadMoreBtn.js","App.js","serviceWorker.js","index.js","context/store.js","assets/PhotoMarker_20.svg"],"names":["getPhotosByTitle","searchParams","query","console","log","boringSearch","rngSearch","Math","floor","random","length","url","URLSearchParams","append","search","type","south","west","north","east","lat","lng","page","fetch","then","res","json","currentPage","photos","totalPages","pages","totalPhotos","total","perPage","perpage","photo","map","img","photoId","id","width_c","parseInt","width_h","width_l","width_m","width_o","height_c","height_h","height_l","height_m","height_o","height","width","src","url_l","url_m","url_o","title","alt","key","srcSet","url_c","url_h","sizes","catch","err","getPhotoGeoLocation","photo_id","parseFloat","location","latitude","longitude","mapStyle","border","maxWidth","boxSizing","Map","state","boundingBox","selectionMarker","pinndedPhotos","handleGoogleMapsError","window","gm_authFailure","props","document","querySelector","innerHTML","createGoogleApiScript","userLocation","body","script","createElement","async","defer","onerror","write","insertBefore","lastElementChild","initMap","google","maps","getElementById","center","zoom","gestureHandling","mapTypeId","MapTypeId","TERRAIN","largeInfowindow","InfoWindow","event","addListenerOnce","getElementsByTagName","addPolygon","centerXY","toJSON","removePolygon","setBounds","zoomBounds","getBounds","northSouth","eastWest","boundsDynamic","removeMarker","rectangle","Rectangle","bounds","editable","draggable","setMap","getRadiusMarkerCoordinates","addListener","setState","polygon","addRadiusMarker","marker","Marker","position","animation","Animation","DROP","getPosition","pinPhotoMarkerOnMap","pin","customMarker","PhotoMarker_20","scale","icon","panTo","prevState","pins","push","this","setContent","open","photoMarker","prevProps","waitingThreshold","timer","setInterval","stopTimer","clearInterval","triggerPhotoMarker","disableTriggerPhotoMarker","triggerPlotRadiusMarkerOnMap","disableRadiusTrigger","triggerBoundingBox","disableBoundingBoxTrigger","role","aria-label","style","React","Component","StateContext","createContext","DispatchContext","SET_BOUNDING_BOX","SET_RADIUS_MARKER","rootReducer","action","setBoundingBox","radiusMarker","setRadiusMarker","Logo","viewBox","cx","cy","r","fill","d","useStyles","makeStyles","theme","root","bottom","spacing","right","grow","flexGrow","color","icons_container","display","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","appBarHide","children","ScrollTop","classes","disableHysteresis","threshold","Zoom","onClick","anchor","target","ownerDocument","scrollIntoView","behavior","block","className","HideAppBar","matches","useMediaQuery","Fragment","CssBaseline","AppBar","Toolbar","marginRight","Typography","variant","Tooltip","IconButton","searchFlikr","ImageSearchRounded","toggleMap","Box","margin","Fab","size","KeyboardArrowUp","pin_to_map_btn","left","backgroundColor","boxShadow","options_btn","top","image","ImageWrapper","index","pinPhotoOnMap","selected","openLightbox","cont","cursor","overflow","container","call","result","thumbnail","bind","MyLocationRounded","header_container","zIndex","justifyContent","transition","opacity","lightbox_btn","background","hide_on_idle","navButtonStyles","base","transform","CustomHeader","isModal","interactionIsIdle","data","carouselProps","btn_container_right","edge","modalProps","toggleFullscreen","isFullscreen","FullscreenExit","Fullscreen","onClose","Close","ImageGrid","responseDetails","setAppBarHide","useState","currentImage","setCurrentImage","viewerIsOpen","setViewerIsOpen","useCallback","pinPhoto","imageRenderer","containerHeight","marginTop","component","gutterBottom","renderImage","components","Header","currentIndex","views","x","srcset","caption","styles","navigationPrev","navigationNext","split_btn","popper","btn_icons","options","SplitBtn","useContext","smallScreen","setOpen","anchorRef","useRef","selectedIndex","setSelectedIndex","handleClose","current","contains","ButtonGroup","ref","Button","pinBoundingBoxOnMap","pinRadiusMarkerOnMap","CancelPresentation","Crop54","LocationDisabled","LocationSearching","aria-owns","undefined","aria-haspopup","prevOpen","ArrowDropDown","Popper","anchorEl","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","option","MenuItem","handleMenuItemClick","controls_panel","textAlign","alignItems","controls","controls_mobile","control_icon","AppControls","toggleGridDirection","gridDirection","button","LoadMoreButton","App","dispatch","setUserLocation","mapVisible","setMapVisible","setPhotos","setResponseDetails","setGridDirection","setTriggerPhotoMarker","setTtriggerPlotRadiusMarkerOnMap","setTriggerBoundingBox","FlikrApi","useEffect","navigator","geolocation","getCurrentPosition","coords","columns","updatedPhotos","concat","Boolean","hostname","match","ReactDOM","render","useReducer","Provider","value","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.b7899e3f.chunk.js","sourcesContent":["export const getPhotosByTitle = searchParams => {\r\n  /* This will ask flicker to fetch all photos (that have geolocation)\r\n    that contain the markers location title in any way (tag, image name, album name etc)\r\n    the photos returned will be within a 31km radius from the markers position\r\n    the func returns an array of photos details (id,farm,server etc)\r\n  */\r\n  console.log(searchParams);\r\n  //will be appended to response\r\n  let query;\r\n\r\n  const boringSearch = [\r\n    \"cat\",\r\n    \"eagle\",\r\n    \"pancakes\",\r\n    \"cats\",\r\n    \"parrot\",\r\n    \"crusade\",\r\n    \"WW2\",\r\n    \"tank\",\r\n    \"Tal\",\r\n    \"nun\",\r\n    \"rose\",\r\n    \"nike\",\r\n    \"java\",\r\n    \"javaScript\" //indoors screenshots\r\n  ];\r\n  const rngSearch =\r\n    boringSearch[Math.floor(Math.random() * boringSearch.length)];\r\n  //later replace boringSearch with searchParams.search\r\n\r\n  let url = new URLSearchParams();\r\n  url.append(\"method\", \"flickr.photos.search\");\r\n  url.append(\"api_key\", \"f6536bb373bca1fcd14d4da1281f2839\");\r\n  // url.append('tags', marker.title); //text produces broader results than tags leave it for now may implement later\r\n  if (searchParams.search) url.append(\"text\", rngSearch);\r\n  if (searchParams.type === \"boundingBox\") {\r\n    const { south, west, north, east } = searchParams;\r\n    query = { type: \"boundingBox\", south, west, north, east };\r\n    url.append(\"bbox\", `${west},${south},${east},${north}`);\r\n  }\r\n  if (searchParams.type === \"radiusMarker\") {\r\n    query = {\r\n      type: \"radiusMarker\",\r\n      lat: searchParams.lat,\r\n      lng: searchParams.lng\r\n    };\r\n    url.append(\"lat\", searchParams.lat);\r\n    url.append(\"lon\", searchParams.lng);\r\n  }\r\n  url.append(\"has_geo\", \"1\");\r\n  url.append(\"radius\", \"3\"); //1 to 31 km\r\n  url.append(\"radius_units\", \"km\");\r\n  url.append(\"per_page\", \"100\"); //250max for photos with geolocation\r\n  url.append(\"format\", \"json\");\r\n  url.append(\"nojsoncallback\", \"1\");\r\n  url.append(\"extras\", \"url_m,url_c,url_l,url_h,url_o\");\r\n  if (searchParams.page) url.append(\"page\", searchParams.page);\r\n\r\n  let arrayOfPhotos = fetch(\"https://api.flickr.com/services/rest/?\" + url)\r\n    .then(res => {\r\n      console.log(url);\r\n      return res.json().then(json => {\r\n        console.log(json);\r\n        // const test = {\r\n        //   ...json.photos,\r\n        //   photo: json.photos.photo.map(img => {\r\n        //     return {\r\n        //       ...img,\r\n        //       width_c: parseInt(img.width_c),\r\n        //       width_h: parseInt(img.width_h),\r\n        //       width_l: parseInt(img.width_l),\r\n        //       width_m: parseInt(img.width_m),\r\n        //       height_c: parseInt(img.height_c),\r\n        //       height_h: parseInt(img.height_h),\r\n        //       height_l: parseInt(img.height_l),\r\n        //       height_m: parseInt(img.height_m),\r\n        //       src: img.url_m, //flickr doesn't guarantee all sizes but medium will always be there\r\n        //       height: parseInt(img.height_m),\r\n        //       width: parseInt(img.width_m),\r\n        //       title: img.title,\r\n        //       alt: img.title,\r\n        //       key: img.id,\r\n        //       srcSet: [\r\n        //         `${img.url_m} ${img.width_m}w`,\r\n        //         `${img.url_c} ${img.width_c}w`,\r\n        //         `${img.url_l} ${img.width_l}w`,\r\n        //         `${img.url_h} ${img.width_h}w`\r\n        //       ],\r\n        //       sizes:\r\n        //         \"(min-width: 480px) 50vw, (min-width: 1024px) 33.3vw, 100vw\"\r\n        //     };\r\n        //   })\r\n        // };\r\n        // console.log(test);\r\n        return {\r\n          currentPage: json.photos.page,\r\n          totalPages: json.photos.pages,\r\n          totalPhotos: json.photos.total,\r\n          perPage: json.photos.perpage,\r\n          query,\r\n          photos: json.photos.photo.map(img => {\r\n            return {\r\n              // ...img,\r\n              photoId: img.id,\r\n              width_c: img.width_c ? parseInt(img.width_c) : \"\",\r\n              width_h: img.width_h ? parseInt(img.width_h) : \"\",\r\n              width_l: img.width_l ? parseInt(img.width_l) : \"\",\r\n              width_m: img.width_m ? parseInt(img.width_m) : \"\",\r\n              width_o: img.width_o ? parseInt(img.width_o) : \"\",\r\n              height_c: img.height_c ? parseInt(img.height_c) : \"\",\r\n              height_h: img.height_h ? parseInt(img.height_h) : \"\",\r\n              height_l: img.height_l ? parseInt(img.height_l) : \"\",\r\n              height_m: img.height_m ? parseInt(img.height_m) : \"\",\r\n              height_o: img.height_o ? parseInt(img.height_o) : \"\",\r\n              /* since you cant predict in what size will the photo be availiable:\r\n              if medium size is availiable use it if not get the original size\r\n              as fallback give the image 100px width and height */\r\n              height: img.height_m\r\n                ? parseInt(img.height_m)\r\n                : img.height_o\r\n                ? parseInt(img.height_o)\r\n                : 100,\r\n              width: img.width_m\r\n                ? parseInt(img.width_m)\r\n                : img.width_o\r\n                ? parseInt(img.width_o)\r\n                : 100,\r\n              src: img.url_l ? img.url_l : img.url_m ? img.url_m : img.url_o,\r\n              title: img.title,\r\n              alt: img.title,\r\n              key: img.id,\r\n              srcSet: [\r\n                img.url_m ? `${img.url_m} ${img.width_m}w` : \"\",\r\n                img.url_c ? `${img.url_c} ${img.width_c}w` : \"\",\r\n                img.url_l ? `${img.url_l} ${img.width_l}w` : \"\",\r\n                img.url_h ? `${img.url_h} ${img.width_h}w` : \"\",\r\n                img.url_o ? `${img.url_o} ${img.width_o}w` : \"\"\r\n              ],\r\n              sizes:\r\n                \"(min-width: 480px) 50vw, (min-width: 1024px) 33.3vw, 100vw\"\r\n            };\r\n          })\r\n        };\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      return [\"error\"];\r\n    });\r\n\r\n  return arrayOfPhotos;\r\n};\r\n\r\nexport const flickrUrlConstructor = array => {\r\n  /* This takes the array of photo information from the getPhotosByTitle() \r\n  and transforms each photo to a straightforward url*/\r\n\r\n  let urlArr = {\r\n    default: [],\r\n    thumbNail: [], //t\r\n    medium: [], //c\r\n    large: [], //b\r\n    title: []\r\n  };\r\n  if (array[0] !== \"error\") {\r\n    for (let i = 0; i < array.length; i++) {\r\n      urlArr.default.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0],\r\n        array[i].owner\r\n      ]);\r\n      urlArr.thumbNail.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}_t.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0]\r\n      ]);\r\n      urlArr.medium.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}_c.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0]\r\n      ]);\r\n      urlArr.large.push([\r\n        `https://farm${array[i].farm}.staticflickr.com/${array[i].server}/${array[i].id}_${array[i].secret}_b.jpg`,\r\n        array[i].id,\r\n        [array[i].title][0]\r\n      ]);\r\n      urlArr.title.push([array[i].title]);\r\n    }\r\n  } else {\r\n    urlArr = {\r\n      error: true,\r\n      default: [\"no-preview128px.png\"],\r\n      thumbNail: [\"no-preview128px.png\"], //t\r\n      medium: [\"no-preview128px.png\"], //c\r\n      large: [\"no-preview128px.png\"] //b\r\n    };\r\n  }\r\n  return urlArr;\r\n};\r\n\r\nexport const getPhotoGeoLocation = photo_id => {\r\n  /* This flicker api call returns a set of coordinates for a given photo\r\n    (Since there are no means to get the coordinates of a batch of photos)\r\n    this method must be called EACH TIME a new photograph marker is to be plotted on the map\r\n  */\r\n  let url = new URLSearchParams();\r\n  url.append(\"method\", \"flickr.photos.geo.getLocation\");\r\n  url.append(\"api_key\", \"f6536bb373bca1fcd14d4da1281f2839\");\r\n  url.append(\"format\", \"json\");\r\n  url.append(\"nojsoncallback\", \"1\");\r\n  url.append(\"photo_id\", photo_id);\r\n\r\n  let result = fetch(\"https://api.flickr.com/services/rest?\" + url)\r\n    .then(res => {\r\n      return res.json().then(json => {\r\n        let position = {\r\n          lat: parseFloat(json.photo.location.latitude),\r\n          lng: parseFloat(json.photo.location.longitude)\r\n        };\r\n        return position;\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      return [\"error\"];\r\n    });\r\n\r\n  return result;\r\n};\r\n","import React from \"react\";\r\nimport PhotoMarker_20 from \"../../assets/PhotoMarker_20.svg\";\r\n\r\n/*When the Map component mounts the following happen:\r\n * the google maps callback is 'tied' to the window obj (componentDidMount())\r\n * a script with the google maps api is created and inserted at the bottom of the body (createGoogleApiScript)\r\n * the callback func fires (initMap) and initializes google maps\r\n * then initMap creates the default markers (addDefaultMarkers) and the default infowindow\r\n *** At this point the App is ready for user interaction\r\n */\r\n\r\nconst mapStyle = {\r\n  width: \"100vw\",\r\n  height: \"75vh\",\r\n  border: \"1px solid black\",\r\n  maxWidth: \"100%\",\r\n  boxSizing: \"border-box\"\r\n};\r\nclass Map extends React.Component {\r\n  state = {\r\n    // activeMarker: null,\r\n    boundingBox: null,\r\n    selectionMarker: null,\r\n    pinndedPhotos: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.initMap = this.initMap;\r\n    this.handleGoogleMapsError();\r\n    this.createGoogleApiScript(this.state.userLocation);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\"map updated\");\r\n    //when the user location changes pan the map to it\r\n    //(either when the response comes from geoip-db or if the user sets it explicitly)\r\n\r\n    if (prevProps.userLocation !== this.props.userLocation) {\r\n      /**  even though the component has mounted and is currently in re-render(update) phase\r\n       * window.map can be undefined (especially on first load where google.maps api is not cached and is not fully initialized)\r\n       * so there is a slim chance that window.map.panTo will run before google.maps is fully loaded thus trowing an error\r\n       * The following ugly code checks if google.maps is loaded before trying to zoom/add marker to the users location\r\n       * each time the check results to false it retries after 10ms, when the waitingTrheshold (3seconds) runs out it gives up\r\n       * (at this point google maps probably failed for some other reason, like network error, or auth problems...)\r\n       */\r\n      let waitingThreshold = 3000; //max number of milliseconds to wait for google.maps to initialize\r\n      const mapReady = () => {\r\n        if (waitingThreshold <= 0) {\r\n          stopTimer();\r\n        }\r\n        if (window.map) {\r\n          window.map.panTo(this.props.userLocation);\r\n          this.addRadiusMarker(this.props.userLocation);\r\n          stopTimer();\r\n        } else {\r\n          waitingThreshold -= 10;\r\n        }\r\n      };\r\n      const timer = setInterval(mapReady, 10);\r\n      const stopTimer = () => clearInterval(timer);\r\n    }\r\n\r\n    if (this.props.triggerPhotoMarker) {\r\n      this.pinPhotoMarkerOnMap(this.props.triggerPhotoMarker);\r\n      this.props.disableTriggerPhotoMarker();\r\n    }\r\n\r\n    if (this.props.triggerPlotRadiusMarkerOnMap) {\r\n      this.addRadiusMarker();\r\n      this.props.disableRadiusTrigger();\r\n    }\r\n    if (this.props.triggerBoundingBox) {\r\n      this.addPolygon();\r\n      this.props.disableBoundingBoxTrigger();\r\n    }\r\n  }\r\n\r\n  handleGoogleMapsError = () => {\r\n    // google maps method for handling authentication errors\r\n    // more on: https://developers.google.com/maps/documentation/javascript/events#auth-errors\r\n    window.gm_authFailure = () => {\r\n      this.props.handleGoogleMapsError();\r\n      document.querySelector(\".gm-err-title\").innerHTML =\r\n        \"Oops it seems there was a problem loading Google Maps!\";\r\n      document.querySelector(\".gm-err-message\").innerHTML =\r\n        \"Failed to authenticate Google Maps, please try again later\";\r\n    };\r\n  };\r\n\r\n  createGoogleApiScript = userLocation => {\r\n    let body = window.document.querySelector(\"body\");\r\n    let script = window.document.createElement(\"script\");\r\n    script.src =\r\n      \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCzs3fKNRPknPJs8LaW9rsCvBxeY2QCJhg&v=3&callback=initMap\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onerror = function() {\r\n      document.write(\"Error Loading Google Maps...\");\r\n    };\r\n    body.insertBefore(script, body.lastElementChild);\r\n  };\r\n\r\n  initMap = () => {\r\n    console.log(\"Google Maps API Loaded...\");\r\n    window.map = new window.google.maps.Map(\r\n      document.getElementById(\"map-container\"),\r\n      {\r\n        center: { lat: 48.80582620218145, lng: 2.1164958494489383 }, //paris, versailles\r\n        zoom: 8,\r\n        gestureHandling: \"cooperative\",\r\n        mapTypeId: window.google.maps.MapTypeId.TERRAIN\r\n      }\r\n    );\r\n    window.largeInfowindow = new window.google.maps.InfoWindow({\r\n      maxWidth: 200\r\n    });\r\n\r\n    window.google.maps.event.addListenerOnce(window.map, \"idle\", () => {\r\n      document.getElementsByTagName(\"iframe\")[0].title = \"Google Maps\";\r\n      /* https://stackoverflow.com/questions/49012240/google-maps-js-iframe-title \r\n            used to pass the (false possitive) accessibility audits */\r\n    });\r\n  };\r\n\r\n  /*** ADDING POLYGON + add marker*/\r\n  addPolygon = () => {\r\n    const centerXY = window.map.center.toJSON();\r\n    /** fixed size roughly 2x2 km box  **/\r\n    // const km = 0.009;\r\n    // const boundsStatic = {\r\n    //   north: centerXY.lat + km,\r\n    //   south: centerXY.lat - km,\r\n    //   east: centerXY.lng + km,\r\n    //   west: centerXY.lng - km\r\n    // };\r\n\r\n    /** dyniamic based on zoom level roughly 25% of map width/height  **/\r\n    if (this.state.boundingBox) {\r\n      this.removePolygon();\r\n      this.props.setBounds(null);\r\n      // this.setState({ polygon: null });\r\n    } else {\r\n      const zoomBounds = window.map.getBounds().toJSON();\r\n      const northSouth = (zoomBounds.north - zoomBounds.south) / 5;\r\n      const eastWest = (zoomBounds.east - zoomBounds.west) / 5;\r\n      const boundsDynamic = {\r\n        north: centerXY.lat + northSouth,\r\n        south: centerXY.lat - northSouth,\r\n        east: centerXY.lng + eastWest,\r\n        west: centerXY.lng - eastWest\r\n      };\r\n      //if there is a polygon /or a marker on the screen remove it\r\n      this.removePolygon();\r\n      this.removeMarker();\r\n      // Define a rectangle and set its editable property to true.\r\n      this.rectangle = new window.google.maps.Rectangle({\r\n        bounds: boundsDynamic,\r\n        editable: true,\r\n        draggable: true\r\n      });\r\n      this.rectangle.setMap(window.map);\r\n      this.props.getRadiusMarkerCoordinates(null);\r\n      this.props.setBounds(boundsDynamic);\r\n      this.rectangle.addListener(\"bounds_changed\", () =>\r\n        this.props.setBounds(this.rectangle.bounds.toJSON())\r\n      );\r\n      this.setState({ boundingBox: this.rectangle });\r\n      window.polygon = this.rectangle;\r\n    }\r\n  };\r\n\r\n  removeMarker = () => {\r\n    if (this.state.selectionMarker) {\r\n      this.state.selectionMarker.setMap(null);\r\n      this.setState({ selectionMarker: null });\r\n    }\r\n  };\r\n\r\n  removePolygon = () => {\r\n    if (this.state.boundingBox) {\r\n      this.state.boundingBox.setMap(null);\r\n      this.setState({ boundingBox: null });\r\n    }\r\n  };\r\n\r\n  addRadiusMarker = location => {\r\n    if (this.state.selectionMarker) {\r\n      this.removeMarker();\r\n      this.props.getRadiusMarkerCoordinates(null);\r\n    } else {\r\n      //if a specific location is passed as arg, place the marker at that coords. If no args are passed use center of map\r\n      const centerXY = location ? location : window.map.center.toJSON();\r\n      //if marker/polygon already exists remove it\r\n      this.removeMarker();\r\n      this.removePolygon();\r\n\r\n      let marker = new window.google.maps.Marker({\r\n        position: centerXY,\r\n        map: window.map,\r\n        title: \"Test\",\r\n        draggable: true,\r\n        animation: window.google.maps.Animation.DROP\r\n      });\r\n      marker.addListener(\"dragend\", () =>\r\n        this.props.getRadiusMarkerCoordinates(marker.getPosition().toJSON())\r\n      );\r\n      this.setState({ selectionMarker: marker });\r\n      this.props.setBounds(null);\r\n      this.props.getRadiusMarkerCoordinates(marker.getPosition().toJSON());\r\n      window.marker = marker;\r\n    }\r\n  };\r\n\r\n  pinPhotoMarkerOnMap = pin => {\r\n    const customMarker = {\r\n      url: PhotoMarker_20,\r\n      scale: 0.1\r\n    };\r\n\r\n    let marker = new window.google.maps.Marker({\r\n      position: pin.position,\r\n      map: window.map,\r\n      icon: customMarker,\r\n      title: pin.title,\r\n      animation: window.google.maps.Animation.DROP\r\n    });\r\n\r\n    window.map.panTo(marker.getPosition());\r\n\r\n    this.setState(prevState => {\r\n      const pins = prevState.pinndedPhotos;\r\n      pins.push(marker);\r\n      return { pinndedPhotos: pins };\r\n    });\r\n\r\n    marker.addListener(\"click\", function() {\r\n      window.map.panTo(this.getPosition());\r\n      window.largeInfowindow.setContent(\"test\");\r\n      // window.map.setZoom(14);\r\n      // window.map.openInfoWindow(marker, window.largeInfowindow);\r\n      window.largeInfowindow.open(window.map, marker);\r\n      // toggleBounce();\r\n    });\r\n    window.photoMarker = marker;\r\n\r\n    // marker.addListener('click', function() {\r\n    //   infowindow.open(map, marker);\r\n    // });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        title=\"map\"\r\n        role=\"application\"\r\n        aria-label=\"Map with Landmarks and GeoTagged photos\"\r\n        id=\"map-container\"\r\n        style={mapStyle}\r\n      ></div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React from \"react\";\r\n\r\nconst StateContext = React.createContext();\r\n\r\nexport default StateContext;\r\n","import React from \"react\";\r\n\r\nconst DispatchContext = React.createContext();\r\n\r\nexport default DispatchContext;\r\n","export const SET_BOUNDING_BOX = \"SET_BOUNDING_BOX\";\r\nexport const SET_RADIUS_MARKER = \"SET_RADIUS_MARKER\";\r\n\r\nconst setBoundingBox = (action, state) => {\r\n  return { ...state, boundingBox: action.boundingBox };\r\n};\r\n\r\nconst setRadiusMarker = (action, state) => {\r\n  return { ...state, radiusMarker: action.radiusMarker };\r\n};\r\n\r\nexport const rootReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SET_BOUNDING_BOX:\r\n      console.log(action.type);\r\n      return setBoundingBox(action, state);\r\n    case SET_RADIUS_MARKER:\r\n      console.log(action.type);\r\n      return setRadiusMarker(action, state);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\n\r\nconst Logo = props => (\r\n  <svg viewBox=\"0 0 448 448\" {...props}>\r\n    <circle cx={106.667} cy={127.973} r={106.667} fill=\"#2196f3\" />\r\n    <circle cx={341.333} cy={127.973} r={106.667} fill=\"#ec407a\" />\r\n    <g fill=\"#455a64\">\r\n      <path d=\"M32 426.64c-5.891 0-10.667-4.776-10.667-10.667V330.64c0-17.673 14.327-32 32-32H64c5.891 0 10.667 4.776 10.667 10.667S69.891 319.973 64 319.973H53.333c-5.891 0-10.667 4.776-10.667 10.667v85.333c.001 5.891-4.775 10.667-10.666 10.667z\" />\r\n      <path d=\"M64 362.64H10.667C4.776 362.64 0 357.864 0 351.973s4.776-10.667 10.667-10.667H64c5.891 0 10.667 4.776 10.667 10.667S69.891 362.64 64 362.64zM96 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667zM138.667 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v64c-.001 5.891-4.776 10.667-10.667 10.667zM213.333 426.64c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667a50.366 50.366 0 0140.384 14.72c3.652 4.624 2.864 11.334-1.76 14.987-4.624 3.652-11.334 2.865-14.987-1.76a33.21 33.21 0 00-23.637-6.613c-11.782 0-21.333 9.551-21.333 21.333 0 11.782 9.551 21.333 21.333 21.333a36.905 36.905 0 0024.576-7.659c4.234-3.978 10.873-3.836 14.933.32 4.066 4.148 4.066 10.786 0 14.933a56.658 56.658 0 01-39.509 13.74zM288 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667z\" />\r\n      <path d=\"M330.667 426.64a10.663 10.663 0 01-7.552-3.115l-42.667-42.667c-4.17-4.162-4.176-10.915-.014-15.085.499-.5 1.047-.95 1.636-1.342l32-21.333c4.901-3.27 11.525-1.947 14.795 2.955s1.947 11.525-2.955 14.795l-21.163 14.123 33.451 33.472c4.159 4.172 4.149 10.926-.024 15.085a10.672 10.672 0 01-7.507 3.112zM373.333 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667S384 346.082 384 351.973v64c0 5.891-4.776 10.667-10.667 10.667z\" />\r\n      <path d=\"M373.333 405.306c-5.891 0-10.667-4.776-10.667-10.667 0-29.455 23.878-53.333 53.333-53.333 5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667c-17.673 0-32 14.327-32 32 .001 5.891-4.775 10.666-10.666 10.666zM139.093 319.973c-5.891 0-10.667-4.776-10.667-10.667s4.776-10.667 10.667-10.667h.213c5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667h-.213z\" />\r\n    </g>\r\n    <path d=\"M106.667 234.64C47.756 234.64 0 186.883 0 127.973S47.756 21.306 106.667 21.306s106.667 47.756 106.667 106.667c-.071 58.881-47.786 106.596-106.667 106.667zm0-192c-47.128 0-85.333 38.205-85.333 85.333s38.205 85.333 85.333 85.333S192 175.101 192 127.973 153.795 42.64 106.667 42.64zM341.333 234.64c-58.91 0-106.667-47.756-106.667-106.667S282.423 21.306 341.333 21.306 448 69.063 448 127.973c-.07 58.881-47.786 106.596-106.667 106.667zm0-192C294.205 42.64 256 80.845 256 127.973s38.205 85.333 85.333 85.333 85.333-38.205 85.333-85.333-38.204-85.333-85.333-85.333zM32 426.64c-5.891 0-10.667-4.776-10.667-10.667V330.64c0-17.673 14.327-32 32-32H64c5.891 0 10.667 4.776 10.667 10.667S69.891 319.973 64 319.973H53.333c-5.891 0-10.667 4.776-10.667 10.667v85.333c.001 5.891-4.775 10.667-10.666 10.667z\" />\r\n    <path d=\"M64 362.64H10.667C4.776 362.64 0 357.864 0 351.973s4.776-10.667 10.667-10.667H64c5.891 0 10.667 4.776 10.667 10.667S69.891 362.64 64 362.64zM96 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667zM138.667 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v64c-.001 5.891-4.776 10.667-10.667 10.667zM213.333 426.64c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667a50.39 50.39 0 0140.363 14.699c3.658 4.619 2.88 11.328-1.739 14.987-4.619 3.658-11.328 2.88-14.987-1.739a33.21 33.21 0 00-23.637-6.613c-11.782 0-21.333 9.551-21.333 21.333 0 11.782 9.551 21.333 21.333 21.333a36.93 36.93 0 0024.576-7.659c4.234-3.978 10.873-3.836 14.933.32 4.066 4.148 4.066 10.786 0 14.933a56.616 56.616 0 01-39.509 13.74zM288 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667z\" />\r\n    <path d=\"M330.667 426.64a10.663 10.663 0 01-7.552-3.115l-42.667-42.667c-4.17-4.162-4.176-10.915-.014-15.085.499-.5 1.047-.95 1.636-1.342l32-21.333c4.901-3.27 11.525-1.947 14.795 2.955s1.947 11.525-2.955 14.795l-21.184 14.123 33.472 33.472c4.159 4.172 4.149 10.926-.024 15.085a10.672 10.672 0 01-7.507 3.112zM373.333 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667S384 346.082 384 351.973v64c0 5.891-4.776 10.667-10.667 10.667z\" />\r\n    <path d=\"M373.333 405.306c-5.891 0-10.667-4.776-10.667-10.667 0-29.455 23.878-53.333 53.333-53.333 5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667c-17.673 0-32 14.327-32 32 .001 5.891-4.775 10.666-10.666 10.666zM139.093 319.973c-5.891 0-10.667-4.776-10.667-10.667 0-5.85 4.711-10.608 10.56-10.667h.213c5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667h-.106z\" />\r\n  </svg>\r\n);\r\n\r\nexport default Logo;\r\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  CssBaseline,\r\n  useScrollTrigger,\r\n  Box,\r\n  Slide,\r\n  useMediaQuery,\r\n  Zoom,\r\n  Fab,\r\n  IconButton,\r\n  Tooltip,\r\n  makeStyles\r\n} from \"@material-ui/core/\";\r\nimport { KeyboardArrowUp, Map, ImageSearchRounded } from \"@material-ui/icons/\";\r\nimport Logo from \"../../assets/logo\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2)\r\n  },\r\n\r\n  grow: {\r\n    flexGrow: 1,\r\n    color: \"red\",\r\n    width: \"100px\"\r\n  },\r\n  icons_container: {\r\n    display: \"flex\"\r\n  }\r\n}));\r\n\r\nfunction HideOnScroll(props) {\r\n  const trigger = useScrollTrigger();\r\n  return (\r\n    <Slide\r\n      appear={false}\r\n      direction=\"down\"\r\n      /* if appBarHide is true hide the appbar otherwise leave useScrollTrigger to deal with it */\r\n      in={props.appBarHide ? false : !trigger}\r\n    >\r\n      {props.children}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nfunction ScrollTop(props) {\r\n  const { children } = props;\r\n  const classes = useStyles();\r\n  const trigger = useScrollTrigger({\r\n    disableHysteresis: true,\r\n    threshold: 100\r\n  });\r\n\r\n  const handleClick = event => {\r\n    const anchor = (event.target.ownerDocument || document).querySelector(\r\n      \"#back-to-top-anchor\"\r\n    );\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nexport default function HideAppBar(props) {\r\n  const matches = useMediaQuery(\"(min-width:1200px)\");\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <HideOnScroll appBarHide={props.appBarHide} {...props}>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <Logo\r\n              style={{ width: \"40px\", marginRight: \"0.75rem\", fill: \"white\" }}\r\n              aria-label=\"Flickr\"\r\n            />\r\n            <Typography variant=\"h6\">\r\n              <span style={{ color: \"#dedee6\" }}>Geo</span>\r\n              <span style={{ color: \"#ffc1d5\" }}>Explorer</span>\r\n            </Typography>\r\n            <div className={classes.grow} />\r\n            <div className={classes.icons_container}>\r\n              <Tooltip title=\"Search Photos\" aria-label=\"Search Photos\">\r\n                <IconButton\r\n                  color=\"inherit\"\r\n                  aria-label=\"search photos\"\r\n                  onClick={props.searchFlikr}\r\n                >\r\n                  <ImageSearchRounded />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Toggle Map\" aria-label=\"Toggle Map\">\r\n                <IconButton\r\n                  color=\"inherit\"\r\n                  aria-label=\"toggle map\"\r\n                  onClick={props.toggleMap}\r\n                >\r\n                  <Map />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </HideOnScroll>\r\n      <Toolbar id=\"back-to-top-anchor\" />\r\n      <Box\r\n        style={matches ? { margin: \"5px 25px 2px\" } : { margin: \"5px 0 2px\" }}\r\n      >\r\n        {props.children}\r\n      </Box>\r\n      <ScrollTop {...props}>\r\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\r\n          <KeyboardArrowUp />\r\n        </Fab>\r\n      </ScrollTop>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Fab, makeStyles } from \"@material-ui/core\";\r\nimport { MyLocationRounded } from \"@material-ui/icons\";\r\n// import { MyLocationRounded, MoreVert } from \"@material-ui/icons\";\r\nimport { getPhotoGeoLocation } from \"../../requests/flikr\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pin_to_map_btn: {\r\n    position: \"absolute\",\r\n    bottom: \"2px\",\r\n    left: \"2px\",\r\n    backgroundColor: \"#f500577a\",\r\n    \"&:hover\": {\r\n      boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\"\r\n    }\r\n  },\r\n  options_btn: {\r\n    top: \"2px\",\r\n    right: \"2px\",\r\n    position: \"absolute\",\r\n    backgroundColor: \"#ffffff59\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#fff\",\r\n      boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\"\r\n    }\r\n  },\r\n  image: {\r\n    margin: \"2px\",\r\n    display: \"block\"\r\n  }\r\n  // container: {\r\n  //   // position: \"relative\",\r\n  //   // width: \"100%\"\r\n  //   position: \"absolute\",\r\n  //   left: \"left\",\r\n  //   top: \"top\"\r\n  // }\r\n}));\r\n\r\nconst ImageWrapper = ({\r\n  index,\r\n  photo,\r\n  margin,\r\n  direction,\r\n  top,\r\n  left,\r\n  selected,\r\n  pinPhotoOnMap,\r\n  openLightbox\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const cont = {\r\n    backgroundColor: \"#eee\",\r\n    cursor: \"pointer\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\"\r\n  };\r\n\r\n  // console.log(photo);\r\n  const handlePinOnMapClick = id => {\r\n    getPhotoGeoLocation(id).then(res => {\r\n      // console.log(props.src);\r\n      const result = {\r\n        position: res,\r\n        thumbnail: photo.src,\r\n        title: photo.title,\r\n        id: photo.photoId\r\n      };\r\n      // console.log(result);\r\n      // console.log(pinPhotoOnMap);\r\n      return pinPhotoOnMap(result);\r\n    });\r\n  };\r\n\r\n  //CONTAINER OVERRIDES FOR COLUMNT LAYOUT\r\n  // position: \"absolute\",\r\n  // left: left,\r\n  // top: top\r\n  console.log(direction);\r\n  if (direction === \"column\") {\r\n    cont.position = \"absolute\";\r\n    cont.left = left;\r\n    cont.top = top;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin,\r\n        height: photo.height,\r\n        width: photo.width,\r\n        ...cont\r\n        // position: \"absolute\",\r\n        // left: left,\r\n        // top: top\r\n      }}\r\n      className={classes.container}\r\n    >\r\n      <img\r\n        {...photo}\r\n        alt={photo.alt}\r\n        className={classes.image}\r\n        onClick={event => openLightbox.call(this, event, { index, photo })}\r\n      />\r\n\r\n      {/* <Fab\r\n        size=\"small\"\r\n        aria-label=\"add\"\r\n        className={classes.options_btn}\r\n      >\r\n        <MoreVert />\r\n      </Fab> */}\r\n\r\n      <Fab\r\n        size=\"small\"\r\n        color=\"secondary\"\r\n        aria-label=\"add\"\r\n        className={classes.pin_to_map_btn}\r\n        onClick={handlePinOnMapClick.bind(this, photo.photoId)}\r\n      >\r\n        <MyLocationRounded />\r\n      </Fab>\r\n      <p>Image Title and stuff</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageWrapper;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport Gallery from \"react-photo-gallery\";\r\nimport ImageWrapper from \"../imageWrapper/imageWrapper\";\r\nimport Carousel, { Modal, ModalGateway } from \"react-images\";\r\nimport { makeStyles, IconButton, Typography } from \"@material-ui/core\";\r\nimport {\r\n  Close,\r\n  Fullscreen,\r\n  FullscreenExit,\r\n  MyLocationRounded\r\n} from \"@material-ui/icons\";\r\nimport { getPhotoGeoLocation } from \"../../requests/flikr\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  header_container: {\r\n    position: \"absolute\",\r\n    top: \"1px\",\r\n    width: \"100vw\",\r\n    display: \"flex\",\r\n    zIndex: \"2000\",\r\n    justifyContent: \"space-between\", //\"flex-end\", to align btns to the right\r\n    transition: \"opacity 300ms\",\r\n    opacity: \"1\"\r\n  },\r\n  lightbox_btn: {\r\n    color: \"#fff\",\r\n    background: \"rgba(255, 255, 255, 0.2)\",\r\n    margin: \"2px\",\r\n    border: \"1px solid #00000024\",\r\n    \"&:hover\": {\r\n      boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\",\r\n      background: \"rgba(255, 255, 255, 0.3)\"\r\n    }\r\n  },\r\n  hide_on_idle: {\r\n    opacity: \"0\"\r\n  }\r\n}));\r\n\r\nconst navButtonStyles = base => ({\r\n  ...base,\r\n  background: \"rgba(255, 255, 255, 0.2)\",\r\n  \"&:hover, &:active\": {\r\n    boxShadow: \"0px 0px 11px 0px rgba(0,0,0,0.75)\",\r\n    background: \"rgba(255, 255, 255, 0.3)\"\r\n  },\r\n  \"&:active\": {\r\n    boxShadow: \"0 1px 3px rgba(0, 0, 0, 0.14)\",\r\n    transform: \"scale(0.96)\"\r\n  }\r\n});\r\n\r\nconst CustomHeader = props => {\r\n  //most props like carouselProps, interactionIsIdle etc are passed by default props react-photo-gallery\r\n  const classes = useStyles();\r\n  const handlePinOnMapClick = id => {\r\n    getPhotoGeoLocation(id).then(res => {\r\n      const result = {\r\n        position: res,\r\n        thumbnail: props.data.src,\r\n        title: props.data.title,\r\n        id: props.data.photoId\r\n      };\r\n      return props.carouselProps.pinPhotoOnMap(result);\r\n    });\r\n  };\r\n  return props.isModal ? (\r\n    <div\r\n      className={\r\n        props.interactionIsIdle\r\n          ? classes.header_container + \" \" + classes.hide_on_idle\r\n          : classes.header_container\r\n      }\r\n    >\r\n      <IconButton\r\n        aria-label=\"Pin photo on map\"\r\n        className={classes.lightbox_btn}\r\n        onClick={handlePinOnMapClick.bind(this, props.data.photoId)}\r\n      >\r\n        <MyLocationRounded />\r\n      </IconButton>\r\n\r\n      <div className={classes.btn_container_right}>\r\n        <IconButton\r\n          aria-label=\"toggle fullscreen\"\r\n          className={classes.lightbox_btn}\r\n          edge=\"start\"\r\n          onClick={props.modalProps.toggleFullscreen}\r\n        >\r\n          {props.modalProps.isFullscreen ? <FullscreenExit /> : <Fullscreen />}\r\n        </IconButton>\r\n\r\n        {!props.modalProps.isFullscreen && (\r\n          <IconButton\r\n            aria-label=\"Close\"\r\n            className={classes.lightbox_btn}\r\n            edge=\"start\"\r\n            onClick={props.modalProps.onClose}\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        )}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nconst ImageGrid = ({\r\n  photos,\r\n  // title,\r\n  responseDetails,\r\n  direction,\r\n  pinPhotoOnMap,\r\n  setAppBarHide\r\n}) => {\r\n  const [currentImage, setCurrentImage] = useState(0);\r\n  const [viewerIsOpen, setViewerIsOpen] = useState(false);\r\n  const openLightbox = useCallback(\r\n    (event, { photo, index }) => {\r\n      setAppBarHide(true);\r\n      // console.log(event);\r\n      // console.log(photo, index);\r\n      setCurrentImage(index);\r\n      setViewerIsOpen(true);\r\n    },\r\n    [setAppBarHide]\r\n  );\r\n\r\n  const closeLightbox = () => {\r\n    setCurrentImage(0);\r\n    setViewerIsOpen(false);\r\n    setAppBarHide(false);\r\n  };\r\n\r\n  //store pinPhotoOnMap so it can be accessed in imageRenderer\r\n  const pinPhoto = pinPhotoOnMap;\r\n  const imageRenderer = useCallback(\r\n    ({ index, left, top, key, containerHeight, photo, onClick }) => {\r\n      return (\r\n        <ImageWrapper\r\n          key={key}\r\n          margin={\"2px\"}\r\n          index={index}\r\n          photo={photo}\r\n          left={left}\r\n          top={top}\r\n          pinPhotoOnMap={pinPhoto}\r\n          direction={direction}\r\n          openLightbox={onClick}\r\n        />\r\n      );\r\n    },\r\n    [direction, pinPhoto]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h3\" style={{ marginTop: \"1rem\" }}>\r\n        Results:\r\n      </Typography>\r\n      <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\r\n        {photos.length === 0\r\n          ? `Sorry could not find any photos in that particular area`\r\n          : `Displaying ${photos.length} of ${responseDetails.totalPhotos} the photos found...`}\r\n      </Typography>\r\n\r\n      {photos.length > 0 && (\r\n        <Gallery\r\n          photos={photos}\r\n          direction={direction}\r\n          renderImage={imageRenderer}\r\n          onClick={openLightbox}\r\n          //the above onClick is an optional react-photo-gallery prop\r\n          //It receives the arguments -> event and an object containing the index,\r\n          //Photos obj originally sent and the next and previous photos in the gallery if they exist\r\n        />\r\n      )}\r\n      <ModalGateway>\r\n        {viewerIsOpen ? (\r\n          <Modal onClose={closeLightbox}>\r\n            <Carousel\r\n              pinPhotoOnMap={pinPhoto}\r\n              components={{ Header: CustomHeader }}\r\n              currentIndex={currentImage}\r\n              views={photos.map(x => ({\r\n                ...x,\r\n                srcset: x.srcSet,\r\n                caption: x.title\r\n              }))}\r\n              styles={{\r\n                navigationPrev: navButtonStyles,\r\n                navigationNext: navButtonStyles\r\n              }}\r\n            />\r\n          </Modal>\r\n        ) : null}\r\n      </ModalGateway>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageGrid;\r\n","import React, { useContext } from \"react\";\r\nimport StateContext from \"../../context/stateContext\";\r\n\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Paper,\r\n  Grow,\r\n  ClickAwayListener,\r\n  Popper,\r\n  MenuItem,\r\n  MenuList,\r\n  makeStyles,\r\n  useMediaQuery\r\n} from \"@material-ui/core\";\r\nimport {\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Crop54,\r\n  LocationSearching,\r\n  LocationDisabled,\r\n  CancelPresentation\r\n} from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  split_btn: {\r\n    margin: \"2px\",\r\n    display: \"inline-block\"\r\n  },\r\n  popper: {\r\n    zIndex: \"2\"\r\n  },\r\n  btn_icons: {\r\n    marginRight: \"8px\"\r\n  }\r\n}));\r\n\r\nconst options = [\"Radius\", \"Bounding Box\"];\r\n\r\nexport default function SplitBtn(props) {\r\n  const state = useContext(StateContext);\r\n  const smallScreen = useMediaQuery(\"(max-width:400px)\");\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef(null);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n  const classes = useStyles();\r\n\r\n  function handleMenuItemClick(event, index) {\r\n    setSelectedIndex(index);\r\n    setOpen(false);\r\n  }\r\n\r\n  function handleToggle() {\r\n    setOpen(prevOpen => !prevOpen);\r\n  }\r\n\r\n  function handleClose(event) {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ButtonGroup\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        ref={anchorRef}\r\n        aria-label=\"split button\"\r\n        className={classes.split_btn}\r\n        size=\"small\"\r\n      >\r\n        <Button\r\n          variant=\"contained\"\r\n          size={!smallScreen ? \"small\" : \"medium\"}\r\n          onClick={\r\n            selectedIndex === 1\r\n              ? props.pinBoundingBoxOnMap\r\n              : props.pinRadiusMarkerOnMap\r\n          }\r\n        >\r\n          {selectedIndex === 1 && state.boundingBox && (\r\n            <>\r\n              <CancelPresentation className={classes.btn_icons} />\r\n              {\"Remove BoundingBox\"}\r\n            </>\r\n          )}\r\n          {selectedIndex === 1 && !state.boundingBox && (\r\n            <>\r\n              <Crop54 className={classes.btn_icons} />\r\n              {\"Add \" + options[selectedIndex]}\r\n            </>\r\n          )}\r\n\r\n          {selectedIndex === 0 && state.radiusMarker && (\r\n            <>\r\n              <LocationDisabled className={classes.btn_icons} />\r\n              {\"Remove Radius\"}\r\n            </>\r\n          )}\r\n          {selectedIndex === 0 && !state.radiusMarker && (\r\n            <>\r\n              <LocationSearching className={classes.btn_icons} />\r\n              {\"Add \" + options[selectedIndex]}\r\n            </>\r\n          )}\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          size={!smallScreen ? \"small\" : \"medium\"}\r\n          aria-owns={open ? \"menu-list-grow\" : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n        >\r\n          <ArrowDropDownIcon />\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Popper\r\n        className={classes.popper}\r\n        open={open}\r\n        anchorEl={anchorRef.current}\r\n        transition\r\n        disablePortal\r\n      >\r\n        {({ TransitionProps, placement }) => (\r\n          <Grow\r\n            {...TransitionProps}\r\n            style={{\r\n              transformOrigin:\r\n                placement === \"bottom\" ? \"center top\" : \"center bottom\"\r\n            }}\r\n          >\r\n            <Paper id=\"menu-list-grow\">\r\n              <ClickAwayListener onClickAway={handleClose}>\r\n                <MenuList>\r\n                  {options.map((option, index) => (\r\n                    <MenuItem\r\n                      key={option}\r\n                      selected={index === selectedIndex}\r\n                      onClick={event => handleMenuItemClick(event, index)}\r\n                    >\r\n                      {\"Add \" + option}\r\n                    </MenuItem>\r\n                  ))}\r\n                </MenuList>\r\n              </ClickAwayListener>\r\n            </Paper>\r\n          </Grow>\r\n        )}\r\n      </Popper>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Button, useMediaQuery, makeStyles, Paper } from \"@material-ui/core\";\r\nimport {\r\n  ImageSearchRounded,\r\n  ViewStream as Rows,\r\n  ViewWeek as Columns\r\n} from \"@material-ui/icons\";\r\nimport SplitButton from \"./SplitBtn\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  controls_panel: {\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  controls: {\r\n    color: \"#fff\",\r\n    margin: \"5px\"\r\n  },\r\n  controls_mobile: {\r\n    margin: \"0.25rem\"\r\n  },\r\n  control_icon: {\r\n    marginRight: \"8px\"\r\n  }\r\n}));\r\n\r\nconst AppControls = props => {\r\n  const smallScreen = useMediaQuery(\"(max-width:400px)\");\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper className={classes.controls_panel}>\r\n      <SplitButton\r\n        pinBoundingBoxOnMap={props.pinBoundingBoxOnMap}\r\n        pinRadiusMarkerOnMap={props.pinRadiusMarkerOnMap}\r\n      ></SplitButton>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size={!smallScreen ? \"small\" : \"medium\"}\r\n        onClick={props.searchFlikr}\r\n        className={smallScreen ? classes.controls_mobile : classes.controls}\r\n      >\r\n        <ImageSearchRounded className={classes.control_icon} />\r\n        Search Photos\r\n      </Button>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size={!smallScreen ? \"small\" : \"medium\"}\r\n        onClick={props.toggleGridDirection}\r\n        className={smallScreen ? classes.controls_mobile : classes.controls}\r\n      >\r\n        {props.gridDirection === \"column\" ? (\r\n          <>\r\n            <Rows className={classes.control_icon} />\r\n            Switch layout to Rows\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Columns className={classes.control_icon} />\r\n            Switch layout to Columns\r\n          </>\r\n        )}\r\n      </Button>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default AppControls;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: \"1rem auto\",\r\n    display: \"block\"\r\n  }\r\n}));\r\n\r\nconst LoadMoreButton = props => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Button\r\n      onClick={props.onClick}\r\n      variant=\"outlined\"\r\n      size=\"large\"\r\n      className={classes.button}\r\n    >\r\n      Load more photos\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default LoadMoreButton;\r\n","import React, { useState, useEffect, useContext } from \"react\";\nimport * as FlikrApi from \"./requests/flikr\";\nimport MapWrapper from \"./components/map/mapContainer\";\nimport StateContext from \"./context/stateContext\";\nimport DispatchContext from \"./context/dispatchContext\";\nimport { SET_BOUNDING_BOX, SET_RADIUS_MARKER } from \"./context/rootReducer\";\n// import Pagination from \"material-ui-flat-pagination\";\n\nimport Appbar from \"./components/appBar/appBar\";\nimport ImageGrid from \"./components/imageGrid/imageGrid\";\nimport AppControls from \"./components/controls/controls\";\n// import { makeStyles } from \"@material-ui/core\"; //pagination\n\nimport LoadMoreButton from \"./components/controls/loadMoreBtn\";\n\n//pagination\n// const useStyles = makeStyles(theme => ({\n//   root: {\n//     \"& button:first-child\": {\n//       borderRadius: \"6px 0px 0px 6px\"\n//     },\n//     \"& button:last-child\": {\n//       borderRadius: \"0px 6px 6px 0px\"\n//     }\n//   },\n//   colorInheritOther: {\n//     marginTop: \"1rem\",\n//     color: \"black\",\n//     border: \"1px solid grey\",\n//     borderRadius: \"0\",\n//     fontWeight: \"600\"\n//   },\n//   colorInheritCurrent: {\n//     color: \"red\",\n//     marginTop: \"1rem\",\n//     border: \"1px solid grey\",\n//     borderRadius: \"0\"\n//   }\n// }));\n\nfunction App() {\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n\n  // const classes = useStyles(); //pagination\n  // const [offset, setOffset] = useState(0); //pagination\n\n  /**user location that will be fetched on page load with geoip-db,\n  used only when the map loads to add initial radius marker */\n  const [userLocation, setUserLocation] = useState(null);\n  const [mapVisible, setMapVisible] = useState(true);\n  const [photos, setPhotos] = useState(false);\n  const [responseDetails, setResponseDetails] = useState(null);\n\n  const [gridDirection, setGridDirection] = useState(\"row\");\n  const toggleGridDirection = () => {\n    setGridDirection(gridDirection === \"row\" ? \"column\" : \"row\");\n  };\n  /**explicitly hide appbar if the lightbox is open */\n  const [appBarHide, setAppBarHide] = useState(false);\n\n  /** Triggers plot photo on map  */\n  const [triggerPhotoMarker, setTriggerPhotoMarker] = useState(false);\n  const disableTriggerPhotoMarker = () => setTriggerPhotoMarker(false);\n  const pinPhotoOnMap = pin => {\n    const { position, thumbnail, title, id } = pin;\n    setTriggerPhotoMarker({\n      position: position,\n      thumbnail: thumbnail,\n      title: title,\n      id\n    });\n  };\n\n  /* triggerPlotRadiusMarkerOnMap allows calling methods from anywhere inside mapContainer */\n  const [\n    triggerPlotRadiusMarkerOnMap,\n    setTtriggerPlotRadiusMarkerOnMap\n  ] = useState(false);\n  const pinRadiusMarkerOnMap = () => {\n    setTtriggerPlotRadiusMarkerOnMap(true);\n  };\n  const disableRadiusTrigger = () => setTtriggerPlotRadiusMarkerOnMap(false);\n  /**Bounds */\n  const [triggerBoundingBox, setTriggerBoundingBox] = useState(false);\n  const pinBoundingBoxOnMap = () => setTriggerBoundingBox(true);\n  const disableBoundingBoxTrigger = () => setTriggerBoundingBox(false);\n\n  const toggleMap = () => {\n    const prevState = mapVisible;\n    setMapVisible(!prevState);\n  };\n\n  const searchFlikr = () => {\n    console.log(\"fetching...\");\n    let searchParams;\n    if (state.boundingBox) {\n      searchParams = { ...state.boundingBox, type: \"boundingBox\" };\n    } else if (state.radiusMarker) {\n      searchParams = { ...state.radiusMarker, type: \"radiusMarker\" };\n    } else {\n      searchParams = {\n        ...state.radiusMarker,\n        search: \"Search String goes here\"\n      };\n    }\n\n    FlikrApi.getPhotosByTitle(searchParams).then(data => {\n      setResponseDetails({\n        currentPage: data.currentPage,\n        totalPages: data.totalPages,\n        totalPhotos: data.totalPhotos,\n        perPage: data.perPage,\n        query: data.query\n      });\n      setPhotos(data.photos);\n    });\n  };\n\n  const fetchNextPage = () => {\n    console.log(\"fetching next page...\");\n    let searchParams;\n    if (responseDetails.query.type === \"boundingBox\") {\n      searchParams = { ...responseDetails.query };\n    } else if (state.radiusMarker) {\n      searchParams = { ...responseDetails.query };\n    }\n\n    if (responseDetails.currentPage < responseDetails.totalPages) {\n      searchParams.page = responseDetails.currentPage + 1;\n    }\n\n    FlikrApi.getPhotosByTitle(searchParams).then(data => {\n      setResponseDetails({\n        currentPage: data.currentPage,\n        totalPages: data.totalPages,\n        totalPhotos: data.totalPhotos,\n        perPage: data.perPage,\n        query: data.query\n      });\n      const updatedPhotos = photos.concat(data.photos);\n      console.log(updatedPhotos);\n      setPhotos(updatedPhotos);\n    });\n  };\n\n  useEffect(() => {\n    //debugging only\n    console.log(state);\n  }, [state]);\n\n  useEffect(() => {\n    //debugging only\n    console.log(photos);\n  }, [photos]);\n\n  useEffect(() => {\n    /*fetch user location when app mounts*/\n    fetch(\"https://geoip-db.com/json/42e6a770-b3ac-11e9-80ca-c95181800da7\")\n      .then(res => res.json())\n      .then(position => {\n        console.log({ lat: position.latitude, lng: position.longitude });\n        setUserLocation({ lat: position.latitude, lng: position.longitude });\n      })\n      .catch(err => {\n        /* if geoip-db call fails or if it is blocked by an add-blocker use native geolocation API for user position */\n        console.log(err);\n        const success = position => {\n          setUserLocation({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          });\n        };\n        if (\"geolocation\" in navigator) {\n          navigator.geolocation.getCurrentPosition(success, err =>\n            console.log(err)\n          );\n        }\n      });\n  }, []);\n\n  const setBounds = bounds => {\n    dispatch({\n      type: SET_BOUNDING_BOX,\n      boundingBox: bounds\n    });\n  };\n\n  const getRadiusMarkerCoordinates = marker => {\n    dispatch({\n      type: SET_RADIUS_MARKER,\n      radiusMarker: marker\n    });\n  };\n\n  //pagination\n  // const handlePaginationClick = offset => {\n  //   // this.setState({ offset });\n  //   console.log(offset);\n  //   setOffset(offset);\n  // };\n\n  return (\n    <div className=\"App\">\n      <Appbar\n        toggleMap={toggleMap}\n        searchFlikr={searchFlikr}\n        appBarHide={appBarHide}\n      >\n        <AppControls\n          pinRadiusMarkerOnMap={pinRadiusMarkerOnMap}\n          pinBoundingBoxOnMap={pinBoundingBoxOnMap}\n          searchFlikr={searchFlikr}\n          gridDirection={gridDirection}\n          toggleGridDirection={toggleGridDirection}\n        />\n        {mapVisible && (\n          <MapWrapper\n            state={state}\n            userLocation={userLocation}\n            setBounds={setBounds}\n            getRadiusMarkerCoordinates={getRadiusMarkerCoordinates}\n            /* photoMarker*/\n            triggerPhotoMarker={triggerPhotoMarker}\n            disableTriggerPhotoMarker={disableTriggerPhotoMarker}\n            /* radius marker */\n            triggerPlotRadiusMarkerOnMap={triggerPlotRadiusMarkerOnMap}\n            disableRadiusTrigger={disableRadiusTrigger}\n            /* boundingBox Trigger */\n            triggerBoundingBox={triggerBoundingBox}\n            disableBoundingBoxTrigger={disableBoundingBoxTrigger}\n          />\n        )}\n\n        {photos && (\n          <ImageGrid\n            photos={photos}\n            // title=\"Results\"\n            responseDetails={responseDetails}\n            pinPhotoOnMap={pinPhotoOnMap}\n            direction={gridDirection}\n            columns={2}\n            setAppBarHide={setAppBarHide}\n          />\n        )}\n        {/* <Pagination\n          classes={classes}\n          size=\"medium\"\n          currentPageColor=\"inherit\"\n          otherPageColor=\"inherit\"\n          limit={1}\n          offset={offset}\n          total={100}\n          reduced={true}\n          onClick={(e, offset) => handlePaginationClick(offset)}\n        /> */}\n        {responseDetails &&\n          responseDetails.currentPage < responseDetails.totalPages && (\n            <LoadMoreButton onClick={fetchNextPage} />\n          )}\n      </Appbar>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Store from \"./context/store\";\n\nReactDOM.render(\n  <Store>\n    <CssBaseline />\n    <App />\n  </Store>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useReducer } from \"react\";\r\n\r\nimport rootReducer from \"./rootReducer\";\r\nimport StateContext from \"./stateContext\";\r\nimport DispatchContext from \"./dispatchContext\";\r\n\r\nexport default function Store(props) {\r\n  const initialState = {\r\n    boundingBox: null,\r\n    radiusMarker: null\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(rootReducer, initialState);\r\n\r\n  return (\r\n    <DispatchContext.Provider value={dispatch}>\r\n      <StateContext.Provider value={state}>\r\n        {props.children}\r\n      </StateContext.Provider>\r\n    </DispatchContext.Provider>\r\n  );\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/PhotoMarker_20.e88b541b.svg\";"],"sourceRoot":""}