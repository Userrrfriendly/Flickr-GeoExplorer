(window["webpackJsonpflickr-explorer"]=window["webpackJsonpflickr-explorer"]||[]).push([[0],{119:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVRYhcWXP0wTURyAv5am1KY0JRJMCEkDQhxQREmMooREe4mDOKiDcXEE4wIOrq5uxIFBw2RcSUxYNM8YFgKDRCViTGwkTfwHBUVoylkuV4e+V694tH2llV/y8tp3l/d99+737u7nyWazABiG4QO8gF/2PqobFmADGcAWQlgAnmw2q+B+ICCbXwp4qwS3pUAGMGXLCCEsTywWU/AgEJZ9gNqsgAmkgQ3ZZ9RVBiS8WQgxW2VwQRiGcUb+tAHLufRBIcTs0GiChcU0Hz/9riq4s72e7q4gQohZwzCOIW+DM/ECQE3gwM45VZ55VbarVhO4i0SeqbK8WtmuE979Av9rsZ9R1l5vbvLxfu5o/n9bzwKbKfv/CaysWjR1vKkKUFtgNd6zJ0Ap8Yoet2pSNzknsBz5igTUxM9f/uL78jatLX4uDITLhu5ZYO2Hxe27CV5Mb+bHBvpCTD7u0J6rom145NQ7Ll+MsBrvybf+voaKElVbYPHDFgA3rh0sGB8ZPgTA56+Z2gok16yix9Nbes8HbYGT3UEAvi1vF4zHl0wAWlv8tRUIN9TxaCzK8J0Ec69SLCe3mZ7Z5OatJSYeRAke0Juyol1wZbCRSKSOS9fj+bGnTw5z7nSD9lwlde/d/+I6fr4/XLAL3OBTz9Zpixa/JSVXYHwiyfhEstRpFce+v46VQHXerXphKwHL0ehsr68Z0TF3nunlb7lkAnR3BWsioT7LZZiSaXtisZgfCAERihQmQ6MJJqd+lgW7OtjIw7Go6zFZmKwA60DKR24FTHLlErJocJZmXgAhxAxQUkLBDcM4K4dUfu0szUzALqc4zX/DCyHmi62EA95LYW7tXpyWKM9V7yzfXrtJOOAn5FWq++wUcC/Pi4UUC5DLk5CUeOuUcMCPS3hKNlOBdouSArtIhNRKAM4rT6EBL1vARSIsJeblsV4J3dCBawnskAjKpt40GXJLn9aBaws4JFRSqq2qtlhGBw7wBzAAVz/sPdCmAAAAAElFTkSuQmCC"},151:function(e,t,a){e.exports=a(227)},156:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),l=a.n(r),c=(a(156),a(13)),i=a(11),s=a(262);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var p=function(e){var t;console.log(e);var a=new URLSearchParams;if(a.append("method","flickr.photos.search"),a.append("api_key","f6536bb373bca1fcd14d4da1281f2839"),e.searchText&&a.append("text",e.searchText),e.sortMethod&&a.append("sort",e.sortMethod),e.minUploadDate&&a.append("min_upload_date",e.minUploadDate),e.maxUploadDate&&a.append("max_upload_date",e.maxUploadDate),e.minTakenDate&&a.append("min_taken_date",e.minTakenDate),e.maxTakenDate&&a.append("max_taken_date",e.maxTakenDate),"EXTENTS"===e.searchMethod){var n=e.bounds,o=n.south,r=n.west,l=n.north,i=n.east;t={searchMethod:e.searchMethod,bounds:e.bounds},a.append("bbox","".concat(r,",").concat(o,",").concat(i,",").concat(l))}return"CIRCLE"===e.searchMethod&&(a.append("lat",e.lat),a.append("lon",e.lng),a.append("radius",e.radius/1.609),a.append("radius_units","km"),t={searchMethod:"CIRCLE",lat:e.lat,lng:e.lng,radius:e.radius}),a.append("has_geo","1"),a.append("per_page",e.resultsPerPage?e.resultsPerPage:"50"),a.append("format","json"),a.append("nojsoncallback","1"),a.append("extras","url_t,url_m,url_c,url_l,url_h,url_o,geo, date_upload, date_taken, owner_name"),e.page&&a.append("page",e.page),fetch("https://api.flickr.com/services/rest/?"+a).then((function(e){return console.log(a),e.json().then((function(e){return console.log(e),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{currentPage:e.photos.page,totalPages:e.photos.pages,totalPhotos:e.photos.total,perPage:e.photos.perpage,photos:e.photos.photo.map((function(e){return{dateupload:e.dateupload,datetaken:e.datetaken,ownername:e.ownername,geolocation:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},photoId:e.id,width_t:e.width_t?parseInt(e.width_t):"",width_c:e.width_c?parseInt(e.width_c):"",width_h:e.width_h?parseInt(e.width_h):"",width_l:e.width_l?parseInt(e.width_l):"",width_m:e.width_m?parseInt(e.width_m):"",width_o:e.width_o?parseInt(e.width_o):"",height_c:e.height_c?parseInt(e.height_c):"",height_h:e.height_h?parseInt(e.height_h):"",height_l:e.height_l?parseInt(e.height_l):"",height_m:e.height_m?parseInt(e.height_m):"",height_o:e.height_o?parseInt(e.height_o):"",height:e.height_m?parseInt(e.height_m):e.height_o?parseInt(e.height_o):100,width:e.width_m?parseInt(e.width_m):e.width_o?parseInt(e.width_o):100,src:e.url_l?e.url_l:e.url_m?e.url_m:e.url_o,title:e.title,alt:e.title,key:e.id,owner:e.owner,thumb:e.url_t,srcSet:[e.url_m?"".concat(e.url_m," ").concat(e.width_m,"w"):"",e.url_c?"".concat(e.url_c," ").concat(e.width_c,"w"):"",e.url_l?"".concat(e.url_l," ").concat(e.width_l,"w"):"",e.url_h?"".concat(e.url_h," ").concat(e.width_h,"w"):"",e.url_o?"".concat(e.url_o," ").concat(e.width_o,"w"):""],sizes:"(min-width: 480px) 50vw, (min-width: 1024px) 33.3vw, 100vw"}}))})}))})).catch((function(e){return console.log(e),["error"]}))},d=a(68),h=a(42),m=a(117),g=a(118),f=a(128),b=a(98),w=a.n(b),y=a(119),E=a.n(y);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e){return'\n  <h1 style="font-size:1rem;text-align:center;"> '.concat(e.title?e.title:"untitled photo",' </h1>\n  <img title="').concat(e.title?e.title:"untitled photo",'" style="margin: 0 auto;display: block;cursor:pointer;" \n    src=').concat(e.thumb,' alt="').concat(e.title,'">\n  <a \n    title="open photo in flickr"\n    style="background-color: #3f51b5;\n    width: ').concat(e.width_t,'px;\n    color: white;\n    padding: 4px 5px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    text-align: center;\n    margin: 0 auto 0.5rem ;\n    display: block;" \n    href=https://www.flickr.com/photos/').concat(e.owner,"/").concat(e.photoId,'\n    target="_blank">View in flickr\n  </a>\n  ')},x={width:"100vw",border:"1px solid black",maxWidth:"100%",boxSizing:"border-box",minHeight:"75vh",maxHeight:"100%"},C=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={boundingBox:null,selectionMarker:null,photoMarkers:[],favorites:[]},a.handleGoogleMapsError=function(){window.gm_authFailure=function(){a.props.handleGoogleMapsError(),document.querySelector(".gm-err-title").innerHTML="Oops it seems there was a problem loading Google Maps!",document.querySelector(".gm-err-message").innerHTML="Failed to authenticate Google Maps, please try again later"}},a.createGoogleApiScript=function(e){var t=window.document.querySelector("body"),a=window.document.createElement("script");a.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzs3fKNRPknPJs8LaW9rsCvBxeY2QCJhg&v=3&callback=initMap",a.async=!0,a.defer=!0,a.onerror=function(){document.write("Error Loading Google Maps...")},t.insertBefore(a,t.lastElementChild)},a.initMap=function(){console.log("Google Maps API Loaded...");window.map=new window.google.maps.Map(document.getElementById("map-container"),{center:{lat:47.55241106676634,lng:11.389968539500511},zoom:5,gestureHandling:"cooperative",mapTypeId:window.google.maps.MapTypeId.TERRAIN,streetViewControl:!1,fullscreenControl:!1}),window.largeInfowindow=new window.google.maps.InfoWindow({maxWidth:200}),window.google.maps.event.addListenerOnce(window.map,"idle",(function(){document.getElementsByTagName("iframe")[0].title="Google Maps"}))},a.addPolygon=function(){var e=window.map.center.toJSON();if(a.state.boundingBox)a.removePolygon(),a.props.setBounds(null);else{var t=window.map.getBounds().toJSON(),n=(t.north-t.south)/5,o=(t.east-t.west)/5,r={north:e.lat+n,south:e.lat-n,east:e.lng+o,west:e.lng-o};a.removePolygon(),a.removeMarker(),a.rectangle=new window.google.maps.Rectangle({bounds:r,editable:!0,draggable:!0}),a.rectangle.setMap(window.map),a.props.getRadiusMarkerCoordinates(null),a.props.setBounds(r),a.rectangle.addListener("bounds_changed",(function(){return a.props.setBounds(a.rectangle.bounds.toJSON())})),a.setState({boundingBox:a.rectangle}),window.polygon=a.rectangle}},a.removePolygon=function(){a.state.boundingBox&&(a.state.boundingBox.setMap(null),a.setState({boundingBox:null}))},a.createPhotoMarker=function(e,t){var n=new window.google.maps.Marker({position:e.geolocation,map:t?window.map:null,icon:E.a,scaledSize:.5,title:e.title,animation:window.google.maps.Animation.DROP,photoId:e.photoId,color:"blue"});window.SETIMG=function(){return window.LASTMARKER.setIcon(w.a)},window.RESET=function(){a.state.photoMarkers.forEach((function(e){return e.setMap(null)})),a.setState({photoMarkers:[]})},a.setState((function(e){var t=e.photoMarkers;return t.push(n),{photoMarkers:t}})),n.addListener("click",(function(){window.map.panTo(this.getPosition()),window.largeInfowindow.setContent(k(e)),window.largeInfowindow.open(window.map,n)})),window.photoMarker=n},a.showAllPhotoMarkers=function(){for(var e=window.map,t=a.state.photoMarkers,n=0;n<t.length;n++)t[n].setMap(e)},a.hideAllPhotoMarkers=function(){for(var e=a.state.photoMarkers,t=0;t<e.length;t++)e[t].setMap(null)},a.showAllFavorites=function(){for(var e=window.map,t=a.state.favorites,n=0;n<t.length;n++)t[n].setMap(e)},a.hideAllFavorites=function(){for(var e=a.state.favorites,t=0;t<e.length;t++)e[t].setMap(null)},a.pinFavorite=function(e,t){var n=new window.google.maps.Marker({position:e.geolocation,map:t?window.map:null,icon:w.a,title:e.title,animation:window.google.maps.Animation.DROP,photoId:e.photoId,favorite:!0});a.setState((function(e){var t=e.favorites;return t.push(n),{favorites:t}})),n.addListener("click",(function(){window.map.panTo(this.getPosition()),window.largeInfowindow.setContent(k(e)),window.largeInfowindow.open(window.map,n)}))},a.addSearchCircle=function(e){a.searchCircle=new window.google.maps.Circle({strokeColor:"#0e2a99",strokeOpacity:.8,strokeWeight:2,fillColor:"#64b1e8",fillOpacity:.35,map:window.map,center:e||{lat:48.8,lng:2.29},radius:1e3*a.props.searchRadius,draggable:!0}),window.SEARCHRADIUS=a.searchCircle,a.centerSearchCircle=new window.google.maps.Circle({strokeColor:"#0e0047",strokeOpacity:.8,strokeWeight:3,fillColor:"#0e0047",fillOpacity:.35,map:window.map,center:a.searchCircle.center.toJSON(),radius:10}),a.searchCircle.addListener("drag",(function(){a.centerSearchCircle.setCenter(a.searchCircle.center.toJSON())})),a.searchCircle.addListener("dragend",(function(){a.props.setSearchCenter(a.searchCircle.center.toJSON())})),a.searchCircle.addListener("center_changed",(function(){a.props.setSearchCenter(a.searchCircle.center.toJSON()),a.centerSearchCircle.setCenter(a.searchCircle.center.toJSON())}))},a.zoomToBounds=function(){var e=a.searchCircle.getCenter().toJSON(),t={north:e.lat+.009*a.props.searchRadius,south:e.lat-.009*a.props.searchRadius,east:e.lng+.009*a.props.searchRadius,west:e.lng-.009*a.props.searchRadius};console.log(t),window.map.fitBounds(t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){window.initMap=this.initMap,this.handleGoogleMapsError(),this.createGoogleApiScript(this.state.userLocation)}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(console.log(this.props),e.searchRadius!==this.props.searchRadius&&this.searchCircle.setRadius(1e3*this.props.searchRadius),console.log("map updated"),e.photos!==this.props.photos){console.log("PHOTOS CHANGED - RERENDERING MARKERS");var n=this.props.photos;this.state.photoMarkers.forEach((function(e){return e.setMap(null)})),this.setState({photoMarkers:[]}),n.forEach((function(e){return a.createPhotoMarker(e,a.props.displayPhotoMarkers)}))}else console.log("PHOTOS DID NOT CHANGE - NO RERENDER FOR MARKERS");if(e.favorites!==this.props.favorites){console.log("if prevProps favorites...."),this.hideAllFavorites(),this.setState({favorites:[]});var o=this.props.displayFavorites;this.props.favorites.forEach((function(e){return a.pinFavorite(e,o)}))}e.displayPhotoMarkers!==this.props.displayPhotoMarkers&&(console.log("SHOW/HIDE PHOTOMARKERS"),this.props.displayPhotoMarkers?this.showAllPhotoMarkers():this.hideAllPhotoMarkers()),e.displayFavorites!==this.props.displayFavorites&&(console.log("SHOW/HIDE PHOTOMARKERS"),this.props.displayFavorites?this.showAllFavorites():this.hideAllFavorites()),this.props.triggerPhotoMarker&&(this.createPhotoMarker(this.props.triggerPhotoMarker,this.props.displayPhotoMarkers),this.props.disableTriggerPhotoMarker()),this.props.triggerCenter&&(this.searchCircle.setCenter(window.map.getCenter().toJSON()),this.props.disableCenter()),this.props.triggerZoom&&(this.zoomToBounds(),this.props.disableZoom())}},{key:"render",value:function(){return o.a.createElement("div",{role:"application","aria-label":"Map",id:"map-container",style:this.props.screenWidth900px?x:O({},x,{minHeight:"50vh",flexGrow:"1"})})}}]),t}(o.a.Component),P=o.a.memo(C),j=o.a.createContext(),A=o.a.createContext(),M=a(20),S=a(34);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T="SET_BOUNDING_BOX",R="SET_MAX_RESULTS_PER_PAGE",I="SET_USER_LOCATION",N="SET_SEARCH_RADIUS",L="SET_SEARCH_CENTER",z="SET_PHOTOS",B="UPDATE_PHOTOS",F="BLOCK_USER",U="ADD_IMG_TO_FAVORITES",H="REMOVE_IMG_FROM_FAVORITES",G="SET_MIN_UPLOAD_DATE",K="SET_MAX_UPLOAD_DATE",W="SET_MIN_TAKEN_DATE",V="SET_MAX_TAKEN_DATE",q=function(e,t){switch(t.type){case T:return console.log(t.type),function(e,t){return D({},t,{boundingBox:e.boundingBox})}(t,e);case R:return console.log(t.type),function(e,t){return D({},t,{resultsPerPage:e.resultsPerPage})}(t,e);case I:return console.log(t.type),function(e,t){return D({},t,{userLocation:e.userLocation,searchCenter:e.userLocation})}(t,e);case N:return console.log(t.type),function(e,t){return D({},t,{searchRadius:e.searchRadius})}(t,e);case L:return console.log(t.type),function(e,t){return D({},t,{searchCenter:e.searchCenter})}(t,e);case z:return console.log(t.type),function(e,t){var a=e.photos,n=e.photos;return t.favorites.length>0&&(n=n.filter((function(e){return!Object(S.find)(t.favorites,(function(t){return t.photoId===e.photoId}))})),console.log(n)),D({},t,{photos:e.photos,filteredPhotos:a,blockedUsers:[],hiddenPhotos:[],mapPhotos:n})}(t,e);case B:return console.log(t.type),function(e,t){var a=e.photos.filter((function(e){return!t.blockedUsers.includes(e.owner)})),n=e.photos.filter((function(e){return t.blockedUsers.includes(e.owner)})),o=t.filteredPhotos.concat(a),r=t.mapPhotos,l=Object(M.a)(e.photos);t.favorites.length>0&&(l=l.filter((function(e){return!Object(S.find)(t.favorites,(function(t){return t.photoId===e.photoId}))}))),r=r.concat(l);var c=t.hiddenPhotos.concat(n),i=t.photos.concat(e.photos);return D({},t,{photos:i,filteredPhotos:o,hiddenPhotos:c,mapPhotos:r})}(t,e);case F:return console.log(t.type),function(e,t){var a=t.blockedUsers.concat(e.userId),n=t.filteredPhotos.filter((function(e){return!a.includes(e.owner)})),o=t.photos.filter((function(e){return a.includes(e.owner)}));return D({},t,{blockedUsers:a,filteredPhotos:n,hiddenPhotos:o})}(t,e);case U:return console.log(t.type),function(e,t){var a=t.favorites.concat(e.image),n=t.mapPhotos;return a.length>0&&(n=n.filter((function(e){return!Object(S.find)(a,(function(t){return t.photoId===e.photoId}))})),console.log(n)),D({},t,{favorites:a,mapPhotos:n})}(t,e);case H:return console.log(t.type),function(e,t){var a=Object(M.a)(t.favorites),n=!!Object(S.find)(t.photos,e.image)?t.mapPhotos.concat(e.image):t.mapPhotos,o=Object(S.findIndex)(a,(function(t){return t.photoId===e.image.photoId}));return-1!==o&&a.splice(o,1),D({},t,{favorites:a,mapPhotos:n})}(t,e);case G:return console.log(t.type),function(e,t){return D({},t,{minUploadDate:e.minUploadDate})}(t,e);case K:return console.log(t.type),function(e,t){return D({},t,{maxUploadDate:e.maxUploadDate})}(t,e);case W:return console.log(t.type),function(e,t){return D({},t,{minTakenDate:e.minTakenDate})}(t,e);case V:return console.log(t.type),function(e,t){return D({},t,{maxTakenDate:e.maxTakenDate})}(t,e);default:return e}},X=a(120),J=a(259),Q=a(260),Z=a(261),Y=a(263),$=a(264),ee=a(265),te=a(101),ae=a(302),ne=a(130),oe=a(298),re=a(270),le=a(267),ce=a(268),ie=a(269),se=a(271),ue=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 448 448"},e),o.a.createElement("circle",{cx:106.667,cy:127.973,r:106.667,fill:"#2196f3"}),o.a.createElement("circle",{cx:341.333,cy:127.973,r:106.667,fill:"#ec407a"}),o.a.createElement("g",{fill:"#455a64"},o.a.createElement("path",{d:"M32 426.64c-5.891 0-10.667-4.776-10.667-10.667V330.64c0-17.673 14.327-32 32-32H64c5.891 0 10.667 4.776 10.667 10.667S69.891 319.973 64 319.973H53.333c-5.891 0-10.667 4.776-10.667 10.667v85.333c.001 5.891-4.775 10.667-10.666 10.667z"}),o.a.createElement("path",{d:"M64 362.64H10.667C4.776 362.64 0 357.864 0 351.973s4.776-10.667 10.667-10.667H64c5.891 0 10.667 4.776 10.667 10.667S69.891 362.64 64 362.64zM96 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667zM138.667 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v64c-.001 5.891-4.776 10.667-10.667 10.667zM213.333 426.64c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667a50.366 50.366 0 0140.384 14.72c3.652 4.624 2.864 11.334-1.76 14.987-4.624 3.652-11.334 2.865-14.987-1.76a33.21 33.21 0 00-23.637-6.613c-11.782 0-21.333 9.551-21.333 21.333 0 11.782 9.551 21.333 21.333 21.333a36.905 36.905 0 0024.576-7.659c4.234-3.978 10.873-3.836 14.933.32 4.066 4.148 4.066 10.786 0 14.933a56.658 56.658 0 01-39.509 13.74zM288 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667z"}),o.a.createElement("path",{d:"M330.667 426.64a10.663 10.663 0 01-7.552-3.115l-42.667-42.667c-4.17-4.162-4.176-10.915-.014-15.085.499-.5 1.047-.95 1.636-1.342l32-21.333c4.901-3.27 11.525-1.947 14.795 2.955s1.947 11.525-2.955 14.795l-21.163 14.123 33.451 33.472c4.159 4.172 4.149 10.926-.024 15.085a10.672 10.672 0 01-7.507 3.112zM373.333 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667S384 346.082 384 351.973v64c0 5.891-4.776 10.667-10.667 10.667z"}),o.a.createElement("path",{d:"M373.333 405.306c-5.891 0-10.667-4.776-10.667-10.667 0-29.455 23.878-53.333 53.333-53.333 5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667c-17.673 0-32 14.327-32 32 .001 5.891-4.775 10.666-10.666 10.666zM139.093 319.973c-5.891 0-10.667-4.776-10.667-10.667s4.776-10.667 10.667-10.667h.213c5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667h-.213z"})),o.a.createElement("path",{d:"M106.667 234.64C47.756 234.64 0 186.883 0 127.973S47.756 21.306 106.667 21.306s106.667 47.756 106.667 106.667c-.071 58.881-47.786 106.596-106.667 106.667zm0-192c-47.128 0-85.333 38.205-85.333 85.333s38.205 85.333 85.333 85.333S192 175.101 192 127.973 153.795 42.64 106.667 42.64zM341.333 234.64c-58.91 0-106.667-47.756-106.667-106.667S282.423 21.306 341.333 21.306 448 69.063 448 127.973c-.07 58.881-47.786 106.596-106.667 106.667zm0-192C294.205 42.64 256 80.845 256 127.973s38.205 85.333 85.333 85.333 85.333-38.205 85.333-85.333-38.204-85.333-85.333-85.333zM32 426.64c-5.891 0-10.667-4.776-10.667-10.667V330.64c0-17.673 14.327-32 32-32H64c5.891 0 10.667 4.776 10.667 10.667S69.891 319.973 64 319.973H53.333c-5.891 0-10.667 4.776-10.667 10.667v85.333c.001 5.891-4.775 10.667-10.666 10.667z"}),o.a.createElement("path",{d:"M64 362.64H10.667C4.776 362.64 0 357.864 0 351.973s4.776-10.667 10.667-10.667H64c5.891 0 10.667 4.776 10.667 10.667S69.891 362.64 64 362.64zM96 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667zM138.667 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v64c-.001 5.891-4.776 10.667-10.667 10.667zM213.333 426.64c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667a50.39 50.39 0 0140.363 14.699c3.658 4.619 2.88 11.328-1.739 14.987-4.619 3.658-11.328 2.88-14.987-1.739a33.21 33.21 0 00-23.637-6.613c-11.782 0-21.333 9.551-21.333 21.333 0 11.782 9.551 21.333 21.333 21.333a36.93 36.93 0 0024.576-7.659c4.234-3.978 10.873-3.836 14.933.32 4.066 4.148 4.066 10.786 0 14.933a56.616 56.616 0 01-39.509 13.74zM288 426.64c-5.891 0-10.667-4.776-10.667-10.667V309.306c0-5.891 4.776-10.667 10.667-10.667s10.667 4.776 10.667 10.667v106.667c0 5.891-4.776 10.667-10.667 10.667z"}),o.a.createElement("path",{d:"M330.667 426.64a10.663 10.663 0 01-7.552-3.115l-42.667-42.667c-4.17-4.162-4.176-10.915-.014-15.085.499-.5 1.047-.95 1.636-1.342l32-21.333c4.901-3.27 11.525-1.947 14.795 2.955s1.947 11.525-2.955 14.795l-21.184 14.123 33.472 33.472c4.159 4.172 4.149 10.926-.024 15.085a10.672 10.672 0 01-7.507 3.112zM373.333 426.64c-5.891 0-10.667-4.776-10.667-10.667v-64c0-5.891 4.776-10.667 10.667-10.667S384 346.082 384 351.973v64c0 5.891-4.776 10.667-10.667 10.667z"}),o.a.createElement("path",{d:"M373.333 405.306c-5.891 0-10.667-4.776-10.667-10.667 0-29.455 23.878-53.333 53.333-53.333 5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667c-17.673 0-32 14.327-32 32 .001 5.891-4.775 10.666-10.666 10.666zM139.093 319.973c-5.891 0-10.667-4.776-10.667-10.667 0-5.85 4.711-10.608 10.56-10.667h.213c5.891 0 10.667 4.776 10.667 10.667s-4.776 10.667-10.667 10.667h-.106z"}))},pe=Object(X.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},grow:{flexGrow:1,color:"red",width:"100px"},icons_container:{display:"flex"},logo_container:{cursor:"pointer",display:"flex",alignItems:"center"}}}));function de(e){var t=Object(J.a)();return o.a.createElement(Q.a,{appear:!1,direction:"down",in:!e.appBarHide&&!t},e.children)}function he(e){var t=e.children,a=pe(),n=Object(J.a)({disableHysteresis:!0,threshold:100});return o.a.createElement(Z.a,{in:n},o.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.root},t))}function me(e){var t=Object(s.a)("(min-width:1200px)"),a=pe();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Y.a,null),o.a.createElement(de,Object.assign({appBarHide:e.appBarHide},e),o.a.createElement($.a,null,o.a.createElement(ee.a,null,o.a.createElement("div",{className:a.logo_container,onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},o.a.createElement(ue,{style:{width:"40px",marginRight:"0.75rem",fill:"white"},"aria-label":"Flickr"}),o.a.createElement(te.a,{variant:"h6"},o.a.createElement("span",{style:{color:"#dedee6"}},"Geo"),o.a.createElement("span",{style:{color:"#ffc1d5"}},"Explorer"))),o.a.createElement("div",{className:a.grow}),o.a.createElement("div",{className:a.icons_container},e.photos>0&&o.a.createElement(ae.a,{title:"column"===e.gridDirection?"Display images as Rows":"Display images as Columns","aria-label":"column"===e.gridDirection?"Display images as Rows":"Display images as Columns"},o.a.createElement(ne.a,{color:"inherit",onClick:e.toggleGridDirection},"column"===e.gridDirection?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{className:a.control_icon})):o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a,{className:a.control_icon})))),o.a.createElement(ae.a,{title:"Toggle Map","aria-label":"Toggle Map"},o.a.createElement(ne.a,{color:"inherit","aria-label":"toggle map",onClick:e.toggleMap},o.a.createElement(ie.a,null))))))),o.a.createElement(ee.a,{id:"back-to-top-anchor"}),o.a.createElement(oe.a,{style:t?{margin:"5px 25px 2px"}:{margin:"5px 0 2px"}},e.children),o.a.createElement(he,e,o.a.createElement(re.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},o.a.createElement(se.a,null))))}var ge=a(122),fe=a(272),be=a(273),we=a(274);function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ve=Object(X.a)((function(e){return{pin_to_map_btn:{position:"absolute",bottom:"2px",left:"2px",backgroundColor:"#f500577a","&:hover":{boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)"}},options_btn:{top:"2px",right:"2px",position:"absolute",backgroundColor:"#ffffffa6","&:hover":{backgroundColor:"#f5f5f5e8",boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)"}},image:{margin:"2px",display:"block"}}})),Oe=o.a.memo((function(e){var t=e.index,a=e.photo,r=e.margin,l=e.direction,c=e.top,s=e.left,u=(e.selected,e.imageToggleFavorites),p=e.openLightbox,d=e.handleOpenMenuClick,h=ve(),m=Object(n.useContext)(j),g=Object(n.useState)(!1),f=Object(i.a)(g,2),b=f[0],w=f[1],y=!!Object(S.find)(m.favorites,(function(e){return e.photoId===a.photoId})),E={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative"};return console.log(l),"column"===l&&(E.position="absolute",E.left=s,E.top=c),o.a.createElement("div",{style:Ee({margin:r,height:a.height,width:a.width},E),className:h.container,onMouseEnter:function(e,t){w(!0)}.bind(void 0,a),onMouseLeave:function(e,t){w(!1)},onTouchStart:function(){w(!0),window.setTimeout((function(){w(!1)}),3e3)}},o.a.createElement("img",{src:a.src,title:a.title?a.title+" - by user ".concat(a.ownername):"untitled - by user ".concat(a.ownername),alt:a.alt,srcSet:a.srcSet,width:a.width,heigth:a.height,sizes:a.sizes,className:h.image,onClick:function(e){return p.call(void 0,e,{index:t,photo:a})}}),o.a.createElement(Z.a,{in:b},o.a.createElement(re.a,{size:"small","aria-label":"add",className:h.options_btn,onClick:d.bind(void 0,a)},o.a.createElement(fe.a,null))),o.a.createElement(Z.a,{in:b},o.a.createElement(re.a,{size:"small",color:"secondary","aria-label":"add",className:h.pin_to_map_btn,onClick:u.bind(void 0,a,y)},y?o.a.createElement(be.a,{style:{color:"gold"}}):o.a.createElement(we.a,{style:{color:"#000"}}))))})),ke=a(127),xe=a(303),Ce=a(276),Pe={width:"100%"};function je(e){var t=o.a.useContext(A);return o.a.createElement("div",null,o.a.createElement(ke.a,{id:"image-menu",anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleMenuClose},o.a.createElement(xe.a,{onClick:function(){e.handleMenuClose(),t({type:F,userId:e.photoData.owner})}},"Temporary hide photos from this user"),o.a.createElement(xe.a,{onClick:e.handleMenuClose},o.a.createElement(Ce.a,{style:Pe,target:"_blank",href:e.photoData?"https://www.flickr.com/photos/".concat(e.photoData.owner,"/").concat(e.photoData.photoId):"",color:"inherit"},"Open Photo in Flickr"))))}var Ae=a(84),Me=a(277),Se=a(278),_e=a(279);function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re=Object(X.a)((function(e){return{header_container:{position:"absolute",top:"2px",left:"2px",width:"100vw",display:"flex",zIndex:"2000",justifyContent:"space-between",transition:"opacity 300ms",opacity:"1"},lightbox_btn:{color:"#fff",background:"rgba(255, 255, 255, 0.2)",margin:"2px",border:"1px solid #00000024","&:hover":{boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)",background:"rgba(255, 255, 255, 0.3)"}},hide_on_idle:{opacity:"0"}}})),Ie=function(e){return Te({},e,{background:"rgba(255, 255, 255, 0.2)","&:hover, &:active":{boxShadow:"0px 0px 11px 0px rgba(0,0,0,0.75)",background:"rgba(255, 255, 255, 0.3)"},"&:active":{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.14)",transform:"scale(0.96)"}})},Ne=function(e){var t=e.data,a=e.getStyles,n=e.index,r=e.currentIndex,l=t.alt,c=t.src;return Math.abs(r-n)<=1?o.a.createElement("div",{style:a("view",e)},o.a.createElement("img",{alt:l||"Image ".concat(n),src:c,style:{height:"auto",maxHeight:"100vh",maxWidth:"100%",userSelect:"none"}})):null},Le=function(e){var t=Re(),a=Object(n.useContext)(j),r=!!Object(S.find)(a.favorites,(function(t){return t.photoId===e.currentView.photoId}));return e.isModal?o.a.createElement("div",{className:e.interactionIsIdle?t.header_container+" "+t.hide_on_idle:t.header_container},o.a.createElement(ne.a,{"aria-label":"Pin photo on map",className:t.lightbox_btn,onClick:e.carouselProps.imageToggleFavorites.bind(void 0,e.data,r)},r?o.a.createElement(be.a,{style:{color:"gold"}}):o.a.createElement(we.a,null)),o.a.createElement("div",{className:t.btn_container_right},o.a.createElement(ne.a,{"aria-label":"toggle fullscreen",className:t.lightbox_btn,edge:"start",onClick:e.modalProps.toggleFullscreen},e.modalProps.isFullscreen?o.a.createElement(Me.a,null):o.a.createElement(Se.a,null)),!e.modalProps.isFullscreen&&o.a.createElement(ne.a,{"aria-label":"Close",className:t.lightbox_btn,edge:"start",onClick:e.modalProps.onClose},o.a.createElement(_e.a,null)))):null},ze=o.a.memo((function(e){var t=e.photos,a=e.responseDetails,r=e.direction,l=e.imageToggleFavorites,c=e.setAppBarHide,s=e.columns,u=e.hiddenPhotos,p=Object(n.useState)(0),d=Object(i.a)(p,2),h=d[0],m=d[1],g=Object(n.useState)(!1),f=Object(i.a)(g,2),b=f[0],w=f[1];o.a.useEffect((function(){console.log("IMAGE GRID: some props Caused Rerender!!!!!")}),[t,a,r,l,c,s,u]),console.log("IMAGEGRID UPDATED!");var y=Object(n.useCallback)((function(e,t){t.photo;var a=t.index;c(!0),m(a),w(!0)}),[c]),E=Object(n.useState)(null),v=Object(i.a)(E,2),O=v[0],k=v[1],x=Object(n.useState)(null),C=Object(i.a)(x,2),P=C[0],j=C[1],A=function(e,t){j(e),k(t.currentTarget)},M=Object(n.useCallback)((function(e){return o.a.createElement(Oe,{key:e.key,margin:"2px",index:e.index,photo:e.photo,left:e.left,top:e.top,imageToggleFavorites:l,direction:e.direction,openLightbox:e.onClick,handleOpenMenuClick:A})}),[l]);return o.a.createElement("div",null,o.a.createElement(te.a,{variant:"h3",component:"h1",style:{marginTop:"1.9rem"}},"Results:"),o.a.createElement(te.a,{variant:"subtitle1",component:"h2",gutterBottom:!0},0===t.length?"Sorry could not find any photos in that particular area":"Displaying ".concat(t.length," of total ").concat(a.totalPhotos," photos found...")),u.length>0&&o.a.createElement(te.a,{variant:"subtitle2",component:"p",gutterBottom:!0},"(",u.length,") photos from blocked users are hidden."),t.length>0&&o.a.createElement(ge.a,{photos:t,direction:r,renderImage:M,onClick:y}),o.a.createElement(Ae.b,null,b?o.a.createElement(Ae.a,{onClose:function(){m(0),w(!1),c(!1)}},o.a.createElement(Ae.c,{imageToggleFavorites:l,components:{Header:Le,View:Ne},currentIndex:h,views:t.map((function(e){return Te({},e,{srcset:e.srcSet,caption:e.title})})),styles:{navigationPrev:Ie,navigationNext:Ie}})):null),o.a.createElement(je,{anchorEl:O,handleOpenMenuClick:A,handleMenuClose:function(){k(null)},photoData:P}))})),Be=a(280),Fe=Object(X.a)((function(e){return{button:{margin:"1rem auto",display:"block"}}})),Ue=function(e){var t=Fe();return o.a.createElement(Be.a,{onClick:e.onClick,variant:"outlined",size:"large",className:t.button},"Load more photos")},He=a(281),Ge=Object(X.a)({root:{flexGrow:1,margin:"0.5rem 0"}});function Ke(){var e=Ge();return o.a.createElement("div",{className:e.root},o.a.createElement(He.a,null),o.a.createElement(He.a,{color:"secondary"}))}var We=a(129),Ve=a(293),qe=a(292),Xe=a(294),Je=a(304),Qe=Object(X.a)({root:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},input:{marginLeft:"1rem",marginBottom:"1rem"}});function Ze(e){var t=Qe(),a=o.a.useState(3),n=Object(i.a)(a,2),r=n[0],l=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{align:"center",gutterBottom:!0},"Search Area Radius in Km"),o.a.createElement("div",{className:t.root},o.a.createElement(Je.a,{value:r,onChange:function(t,a){l(a),e.setSearchRadius(a)},"aria-labelledby":"input-slider",step:.5,min:.5,max:30,style:{width:"75%",marginRight:"0.5rem",marginLeft:"0.5rem"}}),o.a.createElement(te.a,null,r+" km")))}var Ye=a(282),$e=a(305),et=a(299),tt=a(285),at=Object(X.a)((function(e){return{formControl:{width:"100%"},root_select:{textAlign:"left"}}}));function nt(e){var t=at();return o.a.createElement(Ye.a,{className:t.formControl},o.a.createElement($e.a,{htmlFor:"sorting-helper"},"Display results by:"),o.a.createElement(et.a,{classes:{root:t.root_select},value:e.sortMethod,onChange:e.handeSelectSortMethod},o.a.createElement(xe.a,{value:"date-posted-asc"},"Date posted ascending"),o.a.createElement(xe.a,{value:"date-posted-desc"},"Date posted descending"),o.a.createElement(xe.a,{value:"date-taken-asc"},"Date taken ascending"),o.a.createElement(xe.a,{value:"date-taken-desc"},"Date taken descending")),o.a.createElement(tt.a,null,"Sorting filters must be set before photo search"))}var ot=a(283),rt=a(286);function lt(e){var t=function(t){t.preventDefault(),console.log("Submit!"),e.searchFlikr()};return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:t},o.a.createElement(Ye.a,{onSubmit:t,style:{width:"100%"}},o.a.createElement($e.a,{htmlFor:"adornment-text"},"Optional text query"),o.a.createElement(ot.a,{id:"adornment-text",type:"text",fullWidth:!0,placeholder:"search for a keyword in tags,albums,titles etc",value:e.searchText,onChange:e.handleTextQueryChange,endAdornment:o.a.createElement(rt.a,{position:"end"},o.a.createElement(ne.a,{style:e.searchText.length>0?{}:{display:"none"},"aria-label":"toggle password visibility",onClick:e.clearTextQuery},o.a.createElement(_e.a,null)))})),o.a.createElement(tt.a,{style:{margin:"5px 0 "}},"Adding text to the query will greatly limit the results")))}var ct=a(287),it=a(288),st=a(289);function ut(e){var t=o.a.useState(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];return o.a.createElement(ct.a,{row:!0,style:{justifyContent:"left"}},o.a.createElement(it.a,{control:o.a.createElement(st.a,{checked:n,onChange:function(t){r(t.target.checked),e.callback()},value:n}),label:e.label}))}var pt=Object(X.a)({root:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},input:{marginLeft:"1rem",marginBottom:"1rem",maxWidth:"4rem"}});function dt(e){var t=pt(),a=Object(n.useContext)(j),r=Object(n.useContext)(A);return o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{align:"center",gutterBottom:!0},"Number of photos to return per page"),o.a.createElement("div",{className:t.root},o.a.createElement(Je.a,{value:a.resultsPerPage,onChange:function(e,t){r({type:R,resultsPerPage:t})},"aria-labelledby":"input-slider",step:10,min:10,max:250,style:{width:"75%",marginRight:"0.5rem",marginLeft:"0.5rem"}}),o.a.createElement(ot.a,{className:t.input,value:a.resultsPerPage,type:"number",margin:"dense",onChange:function(e){var t=parseInt(e.target.value);Number.isNaN(t)||"number"!=typeof t||r({type:R,resultsPerPage:t})},onBlur:function(){var e=a.resultsPerPage;e<=10?r({type:R,resultsPerPage:10}):e<=250?r({type:R,resultsPerPage:10*Math.trunc(e/10)}):e>250&&r({type:R,resultsPerPage:250})},inputProps:{step:10,min:10,max:250,type:"number","aria-labelledby":"input-slider"}})))}var ht=a(301),mt=a(290),gt=a(291),ft=a(100),bt=a.n(ft),wt=Object(X.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},details_root:{display:"flex",flexFlow:"column"}}}));function yt(e){var t=wt();return o.a.createElement("div",{className:t.root},o.a.createElement(ht.a,null,o.a.createElement(mt.a,{expandIcon:o.a.createElement(bt.a,null),"aria-controls":"request-options-content"},o.a.createElement(te.a,{className:t.heading},"Request Options")),o.a.createElement(gt.a,{id:"request-options-content",classes:{root:t.details_root}},e.requestOptions)),o.a.createElement(ht.a,null,o.a.createElement(mt.a,{expandIcon:o.a.createElement(bt.a,null),"aria-controls":"map-options-content"},o.a.createElement(te.a,{className:t.heading},"Map Options")),o.a.createElement(gt.a,{id:"map-options-content",classes:{root:t.details_root}},e.mapOptions)))}var Et=a(40),vt=a(126),Ot=a(23),kt=a(297),xt=a(300);function Ct(e){var t=Object(n.useContext)(A),a=Object(n.useState)(new Date(2004,1,1,1)),r=Object(i.a)(a,2),l=r[0],c=r[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1];return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ot.a,{utils:Et.a},o.a.createElement(kt.a,{minDate:"2000,1,1",style:{marginLeft:"0.5rem"},disabled:!p,margin:"normal",id:"date-picker-dialog",label:"min upload date",format:"dd/MM/yyyy",value:l,onChange:function(e){c(e),t({type:G,minUploadDate:Object(vt.a)(e,"yyyy-MM-dd")})},KeyboardButtonProps:{"aria-label":"change date"}})),o.a.createElement(xt.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:p,onChange:function(e){d(e.target.checked),e.target.checked?t({type:G,minUploadDate:Object(vt.a)(l,"yyyy-MM-dd")}):t({type:G,minUploadDate:null})},value:"min upload date",color:"primary",inputProps:{"aria-label":"minimum upload date"}}))}function Pt(e){var t=Object(n.useContext)(A),a=Object(n.useState)(new Date),r=Object(i.a)(a,2),l=r[0],c=r[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1];return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ot.a,{utils:Et.a},o.a.createElement(kt.a,{minDate:"2000,1,1",style:{marginLeft:"0.5rem"},disabled:!p,margin:"normal",id:"date-picker-dialog",label:"max upload date",format:"dd/MM/yyyy",value:l,onChange:function(e){c(e),t({type:K,maxUploadDate:Object(vt.a)(e,"yyyy-MM-dd")})},KeyboardButtonProps:{"aria-label":"change date"}})),o.a.createElement(xt.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:p,onChange:function(e){d(e.target.checked),e.target.checked?t({type:K,maxUploadDate:Object(vt.a)(l,"yyyy-MM-dd")}):t({type:K,maxUploadDate:null})},value:"use max upload date",color:"primary",inputProps:{"aria-label":"maximum upload date"}}))}function jt(e){var t=Object(n.useContext)(A),a=Object(n.useState)(new Date),r=Object(i.a)(a,2),l=r[0],c=r[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1];return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ot.a,{utils:Et.a},o.a.createElement(kt.a,{style:{marginLeft:"0.5rem"},disabled:!p,margin:"normal",id:"date-picker-dialog",label:"max taken date",format:"dd/MM/yyyy",value:l,onChange:function(e){c(e),t({type:V,maxTakenDate:Object(vt.a)(e,"yyyy-MM-dd")})},KeyboardButtonProps:{"aria-label":"change date"}})),o.a.createElement(xt.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:p,onChange:function(e){d(e.target.checked),e.target.checked?t({type:V,maxTakenDate:Object(vt.a)(l,"yyyy-MM-dd")}):t({type:V,maxTakenDate:null})},value:"max taken date",color:"primary",inputProps:{"aria-label":"maximum taken date"}}))}function At(e){var t=Object(n.useContext)(A),a=Object(n.useState)(new Date(2004,1,1,1)),r=Object(i.a)(a,2),l=r[0],c=r[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1];return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ot.a,{utils:Et.a},o.a.createElement(kt.a,{style:{marginLeft:"0.5rem"},disabled:!p,margin:"normal",id:"date-picker-dialog",label:"min taken date",format:"dd/MM/yyyy",value:l,onChange:function(e){c(e),t({type:W,minTakenDate:Object(vt.a)(e,"yyyy-MM-dd")})},KeyboardButtonProps:{"aria-label":"change date"}})),o.a.createElement(xt.a,{style:{alignSelf:"flex-end",marginLeft:"1rem"},checked:p,onChange:function(e){d(e.target.checked),e.target.checked?t({type:W,minTakenDate:Object(vt.a)(l,"yyyy-MM-dd")}):t({type:W,minTakenDate:null})},value:"min taken date",color:"primary",inputProps:{"aria-label":"minimum taken date"}}))}var Mt=Object(X.a)((function(e){return{panel:{textAlign:"center",maxWidth:"40vw",width:"40vw",display:"flex",flexFlow:"column",overflowY:"scroll"},panel_item:{margin:"8px",display:"flex"},wrapper:{margin:"0.5rem"},divider:{margin:"1rem 0"},control_icon:{marginRight:"1rem"},search_photos_box:{justifyContent:"center"},secondary_btn:{margin:"1rem"},map_options_container:{display:"flex",flexFlow:"column",textAlign:"left"}}})),St=function(e){var t=Object(n.useContext)(j),a=Object(n.useContext)(A),r=Mt();return o.a.createElement(We.a,{className:r.panel},o.a.createElement("div",{className:r.wrapper},o.a.createElement(oe.a,{className:r.panel_item},o.a.createElement(te.a,null,"EXTENTS"===t.searchMethod&&"Zoom to the location that you want to search for photos and hit the green button below to make the request.","CIRCLE"===t.searchMethod&&"Drag the blue circle on the map to select the place where you want\nto search for photos, when done press the button below to make the request.")),o.a.createElement(oe.a,{className:r.panel_item+r.search_photos_box},o.a.createElement(Be.a,{variant:"contained",style:{backgroundColor:"#179207"},size:"large",onClick:e.searchFlikr},o.a.createElement(qe.a,{className:r.control_icon}),"Search Photos"),e.loadingPhotos&&o.a.createElement(Ke,null)),o.a.createElement(Ve.a,{className:r.divider}),o.a.createElement(yt,{requestOptions:o.a.createElement(o.a.Fragment,null,o.a.createElement(dt,null),o.a.createElement(nt,{handeSelectSortMethod:e.handeSelectSortMethod,sortMethod:e.sortMethod}),o.a.createElement(lt,{handleTextQueryChange:e.handleTextQueryChange,clearTextQuery:e.clearTextQuery,searchText:e.searchText,searchFlikr:e.searchFlikr}),o.a.createElement(Ve.a,{className:r.divider}),o.a.createElement(Ct,null),o.a.createElement(Pt,null),o.a.createElement(Ve.a,{className:r.divider}),o.a.createElement(At,null),o.a.createElement(jt,null)),mapOptions:o.a.createElement("div",{className:r.map_options_container},o.a.createElement(ut,{callback:e.togglePhotoMarkerDisplay,label:"Hide all results from the map"}),o.a.createElement(ut,{callback:e.toggleFavorites,label:"Hide all favorites from the map"}),o.a.createElement(Be.a,{variant:"contained",style:{marginTop:"1rem",color:"black"},color:"secondary",size:"large",onClick:function(){if(t.userLocation)e.zoomToLocation(t.userLocation);else{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){e.zoomToLocation({lat:t.coords.latitude,lng:t.coords.longitude}),a({type:I,userLocation:{lat:t.coords.latitude,lng:t.coords.longitude}})}),(function(e){return console.log(e)})):alert("Sorry geolocation is not supported by your broweser.")}}},o.a.createElement(Xe.a,{style:{marginRight:"1rem"}}),"My location"))}),o.a.createElement(oe.a,{className:r.panel_item},e.children)))},_t=a(295),Dt=a(296),Tt=Object(X.a)((function(e){return{panel:{textAlign:"center",display:"flex",flexFlow:"column"},panel_item:{margin:"8px",display:"flex"},wrapper:{margin:"0 0.5rem"},divider:{margin:"1rem 0"},control_icon:{marginRight:"1rem"},search_photos_box:{justifyContent:"center"},secondary_btn:{margin:"0 1rem"}}})),Rt=function(e){var t=Tt();return o.a.createElement(We.a,{className:t.panel},o.a.createElement("div",{className:t.wrapper},o.a.createElement(Ze,{setSearchRadius:e.setSearchRadius}),o.a.createElement(Ve.a,{className:t.divider}),o.a.createElement(oe.a,{className:t.panel_item+" "+t.search_photos_box},o.a.createElement(ae.a,{title:"Search Photos","aria-label":"Search Photos"},o.a.createElement(Be.a,{variant:"contained",style:{backgroundColor:"#179207"},size:"medium",onClick:e.searchFlikr,className:t.secondary_btn},o.a.createElement(qe.a,null))),o.a.createElement(ae.a,{title:"Move Search-Area to the Center of map","aria-label":"Move Search-Area to the Center of map"},o.a.createElement(Be.a,{variant:"contained",color:"primary",size:"medium",className:t.secondary_btn,onClick:e.centerSearchAreaOnMap},o.a.createElement(_t.a,null))),o.a.createElement(ae.a,{title:"Zoom to Search-Area extents","aria-label":"Zoom to Search-Area extents"},o.a.createElement(Be.a,{variant:"contained",color:"primary",size:"medium",className:t.secondary_btn,onClick:e.zoomToSearchArea},o.a.createElement(Dt.a,null))))))};function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Lt=function(){var e=Object(n.useContext)(j),t=Object(n.useContext)(A),a=Object(s.a)("(min-width:900px)"),r=o.a.useRef(null),l=Object(n.useState)("date-posted-desc"),c=Object(i.a)(l,2),u=c[0],d=c[1],h=function(e){d(e.target.value)},m=Object(n.useState)(""),g=Object(i.a)(m,2),f=g[0],b=g[1],w=function(e,t){b(e.target.value)},y=Object(n.useState)(!1),E=Object(i.a)(y,2),v=E[0],O=E[1],k=Object(n.useState)(!1),x=Object(i.a)(k,2),C=x[0],M=x[1],S=Object(n.useState)(!1),_=Object(i.a)(S,2),D=_[0],R=_[1],F=function(){return M(!0)},G=Object(n.useCallback)((function(){return M(!1)}),[M]),K=function(){return R(!0)},W=Object(n.useCallback)((function(){return R(!1)}),[R]),V=Object(n.useState)(!0),q=Object(i.a)(V,2),X=q[0],J=q[1],Q=Object(n.useState)(null),Z=Object(i.a)(Q,2),Y=Z[0],$=Z[1],ee=Object(n.useState)("row"),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],oe=Object(n.useState)(!1),re=Object(i.a)(oe,2),le=re[0],ce=re[1],ie=Object(n.useState)(!0),se=Object(i.a)(ie,2),ue=se[0],pe=se[1],de=Object(n.useCallback)((function(){pe(!ue)}),[pe,ue]),he=Object(n.useState)(!0),ge=Object(i.a)(he,2),fe=ge[0],be=ge[1],we=Object(n.useCallback)((function(e,a){console.log(a),t(a?{type:H,image:e}:{type:U,image:e})}),[t]),ye=Object(n.useState)(!1),Ee=Object(i.a)(ye,2),ve=Ee[0],Oe=Ee[1],ke=Object(n.useCallback)((function(){return Oe(!1)}),[Oe]),xe=Object(n.useState)(!1),Ce=Object(i.a)(xe,2),Pe=Ce[0],je=Ce[1],Ae=Object(n.useCallback)((function(){return je(!1)}),[je]),Me=function(){var a;switch(console.log("fetching..."),e.searchMethod){case"CIRCLE":a={lat:e.searchCenter.lat,lng:e.searchCenter.lng,radius:e.searchRadius,searchMethod:e.searchMethod,resultsPerPage:e.resultsPerPage,minUploadDate:e.minUploadDate,maxUploadDate:e.maxUploadDate,sortMethod:u,searchText:f};break;case"EXTENTS":var n=window.map?window.map.getBounds().toJSON():"error";console.log(n),a={searchMethod:e.searchMethod,minUploadDate:e.minUploadDate,maxUploadDate:e.maxUploadDate,minTakenDate:e.minTakenDate,maxTakenDate:e.maxTakenDate,resultsPerPage:e.resultsPerPage,bounds:n,sortMethod:u,searchText:f};break;default:return void console.log("invalid searchMethod")}O(!0),p(a).then((function(e){O(!1),$(Nt({},e)),t({type:z,photos:e.photos}),window.setTimeout((function(){r.current.scrollIntoView({behavior:"smooth",block:"center"})}),100)})).catch((function(e){console.log(e),O(!1)}))};Object(n.useEffect)((function(){console.log(e),console.log(Y)}),[e,Y]),Object(n.useEffect)((function(){console.log(e.filteredPhotos)}),[e.filteredPhotos]),Object(n.useEffect)((function(){fetch("https://geoip-db.com/json/42e6a770-b3ac-11e9-80ca-c95181800da7").then((function(e){return e.json()})).then((function(e){t({type:I,userLocation:{lat:e.latitude,lng:e.longitude}})})).catch((function(e){console.log(e)}))}),[]);var Se=Object(n.useCallback)((function(e){t({type:T,boundingBox:e})}),[t]),_e=Object(n.useCallback)((function(e){t({type:L,searchCenter:e})}),[t]),De=function(e){t({type:N,searchRadius:e})};return o.a.createElement("div",{className:"App"},o.a.createElement(me,{toggleMap:function(){J(!X)},appBarHide:le,photos:Y?Y.totalPages:0,toggleGridDirection:function(){ne("row"===ae?"column":"row")},gridDirection:ae},o.a.createElement("section",{style:a?{display:"flex",height:"calc(100vh - 7px - 64px)"}:{display:"flex",height:"calc(100vh - 7px - 64px )",flexFlow:"column"}},a&&o.a.createElement(St,{setSearchRadius:De,searchFlikr:Me,loadingPhotos:v,zoomToSearchArea:F,centerSearchAreaOnMap:K,sortMethod:u,handeSelectSortMethod:h,handleTextQueryChange:w,clearTextQuery:function(){return b("")},searchText:f,zoomToLocation:function(e){var t=3e3,a=setInterval((function(){t<=0&&n(),window.map?(window.map.panTo(e),window.map.setZoom(16),n()):t-=10}),10),n=function(){return clearInterval(a)}},togglePhotoMarkerDisplay:de,toggleFavorites:function(){return be(!fe)}}),o.a.createElement(P,{photos:e.mapPhotos,favorites:e.favorites,userLocation:e.userLocation,setSearchCenter:_e,searchRadius:e.searchRadius,displayPhotoMarkers:ue,displayFavorites:fe,setBounds:Se,triggerMapExtents:Pe,disableMapExtentsTrigger:Ae,triggerPlotRadiusMarkerOnMap:ve,disableRadiusTrigger:ke,triggerZoom:C,disableZoom:G,triggerCenter:D,disableCenter:W,screenWidth900px:a}),!a&&o.a.createElement(Rt,{setSearchRadius:De,searchFlikr:Me,loadingPhotos:v,zoomToSearchArea:F,centerSearchAreaOnMap:K,sortMethod:u,handeSelectSortMethod:h,handleTextQueryChange:w,searchText:f})),o.a.createElement("div",{ref:r}),e.filteredPhotos&&o.a.createElement(ze,{photos:e.filteredPhotos,hiddenPhotos:e.hiddenPhotos,responseDetails:Y,direction:ae,imageToggleFavorites:we,columns:2,setAppBarHide:ce}),Y&&Y.currentPage<Y.totalPages&&o.a.createElement(o.a.Fragment,null,v&&o.a.createElement(Ke,null),o.a.createElement(Ue,{onClick:function(){console.log("fetching next page...");var e=Nt({},Y,{resultsPerPage:Y.perPage});Y.currentPage<Y.totalPages&&(e.page=Y.currentPage+1),console.log(e),O(!0),p(e).then((function(e){O(!1),$(Nt({},e)),t({type:B,photos:e.photos})})).catch((function(e){O(!1)}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement((function(e){var t=Object(n.useReducer)(q,{boundingBox:null,radiusMarker:null,searchMethod:"EXTENTS",resultsPerPage:30,userLocation:null,searchRadius:3,searchCenter:{lat:48.80582620218145,lng:2.1164958494489383},photos:null,filteredPhotos:null,mapPhotos:[],hiddenPhotos:[],blockedUsers:[],favorites:[],minUploadDate:null,maxUploadDate:null,minTakenDate:null,maxTakenDate:null}),a=Object(i.a)(t,2),r=a[0],l=a[1];return o.a.createElement(A.Provider,{value:l},o.a.createElement(j.Provider,{value:r},e.children))}),null,o.a.createElement(Y.a,null),o.a.createElement(Lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVRYhc2XsU8TURzHP1ehKQWJgILEzRhhMUqLEqIDw90AXSAsBBYHRhKYmN39G2CDjYGhxOStCoEEjIYBiFGjCQGiULDApdQ7h75XrnB37eER/SUv13u/vvf93K+/+/X9NNu2ATAMowqIAFF5rSJcywMWkAMsIUQeQLNtW4lHgZgcUQkQCUnckgA5wJQjJ4TIa7quK/E4UC+vMa4nAiZwAhzJa049ZUyKNwshlkIWLjHDMLrlRwvIO0MfF0IsfRoZ4XhtDXNjI1ThWHs7tYkEQoglwzAeIX8GZ+LFgGsRBy7uqfIsorJdjWsRd4EoaqosDyvbg1jkXwlfpvhvAW729PDk2zfuvXp1yXd3YoKO7W2ahob+CkDTdb0RuA00CiGWljUNgC5Zop22UlODbZquPrWunHUVKm83sA/8cI3A/elp18XPTk9dxQGemmZFABfNFeBGfX3ZhVsDA6y1tpI/POQgnWY9kThf39hIcn+fZCZDVXOz7z6u9f53Nuu7aDOVoi2dLt43pFI0pFIsaxqJnR2qW1qKvuTuLqebm3xsb3fdyzUCn1++9BTfGhwsEXdal22XiCuraWvz3M/zLdh+/dp1/tfbt56b+VkkHg8G8H1ykuPV1UvzN1+8uBKAdXISDABgvbOTvampkrmHc3N8HR+/EkRgAIAvo6Ns9PaWzN3xyRE386sRFZXiwzdvWGttLd5/HRuruPAsV1f7+is+dp3t7LCZSnGrr4/s4mJhc03zLEzKX84CnfsyCwtkFhYuifxNaQ7l33BZ07DPzgKLhwYAsBKNcjA/H0jcCWCFAbHV3x/k65YCyDsGMY+aHYY59i5qRjhvl0yA2kTiWiDUsVyaKTUtTdf1KFAH3MKnMfk0MsLP2dmKxJqGh3kwM+Pqk4eRPSADZKsoRMCk0C4hmwZnaxYBEEK8A8pCKHHDMJ7LKZVfF1szE7AqaU6LZ3ghxKpfJBziSUpzy7s5LdOeq6uzfXvvBuEQ75BPqX5nJ4B7e+5nEixGIU/qJMQHJ4RD/LEUz8phKiEvKwvgAVGnIgE4nzxLAPGKAVwg6iXEqvQlpehREPFAABcg4nJEpStHIfQnQcQDAzggVFKqV1W9Yrkg4gB/AEq+djdASXN9AAAAAElFTkSuQmCC"}},[[151,1,2]]]);
//# sourceMappingURL=main.ba068d5e.chunk.js.map